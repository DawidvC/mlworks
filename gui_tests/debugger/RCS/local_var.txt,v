head	1.1;
access;
symbols
	MLWorks_21c0_1999_03_25:1.1
	MLWorks_20c1_1998_08_20:1.1
	MLWorks_20c0_1998_08_04:1.1
	MLWorks_20b2c2_1998_06_19:1.1
	MLWorks_20b2_Windows_1998_06_12:1.1
	MLWorks_20b1c1_1998_05_07:1.1
	MLWorks_20b0_1998_04_07:1.1
	MLWorks_20b0_1998_03_20:1.1
	MLWorks_20m2_1998_02_16:1.1
	MLWorks_20m1_1997_10_23:1.1
	MLWorks_11r1:1.1.1.1.1.1.1
	MLWorks_11c0_1997_09_09:1.1.1.1.1.1
	MLWorks_10r3:1.1.1.1.3
	MLWorks_10r2_551:1.1.1.1.2
	MLWorks_11:1.1.1.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.1.1.1
	MLWorks_20m0_1997_06_20:1.1
	MLWorks_1_0_r2c2_1997_06_14:1.1.1.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.1.1.1
	MLWorks_1_0_r2c1_1997_05_12:1.1.1
	MLWorks_BugFix_1997_04_24:1.1
	MLWorks_1_0_r2_Win32_1997_04_11:1.1
	MLWorks_1_0_r2_Unix_1997_04_04:1.1;
locks; strict;
comment	@# @;


1.1
date	97.04.03.09.57.36;	author johnh;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.05.12.10.25.48;	author hope;	state Exp;
branches
	1.1.1.1.1.1
	1.1.1.1.2.1
	1.1.1.1.3.1;
next	;

1.1.1.1.1.1
date	97.07.28.18.11.43;	author daveb;	state Exp;
branches
	1.1.1.1.1.1.1.1;
next	;

1.1.1.1.1.1.1.1
date	97.10.07.11.36.35;	author jkbrook;	state Exp;
branches;
next	;

1.1.1.1.2.1
date	97.09.08.17.04.58;	author daveb;	state Exp;
branches;
next	;

1.1.1.1.3.1
date	97.09.09.14.00.13;	author daveb;	state Exp;
branches;
next	;


desc
@new unit
Added new test script for bug fix.
@


1.1
log
@new unit
Added new test script for bug fix.
@
text
@
Bug #1421: stack browser: turning off variable display doesn't work
Fixed by change #2817

Bug Description: If the stack browser is currrently displaying the local
variables of a function and then you turn off displaying of local variables 
(from Settings menu), the local variables window is not updated.  
That is, the are not deleted and when you select another function, they 
are not updated, those of the previous frame remain.

Repeat by:

In Listener window, type:-
use "../demo/btree";
Btree.fromList ([1,42], op<);

This will pop up a stack browser when the Div exception is raised.  If
yo select the "list fold argument 2 [42]" line in the Stack, you
should see something like :-

  Exception Div[<Pervasive> ...

   Local Variables

   listfold argument 2 [...

   val frame argument: int list = [42]
   val _id233: int list = [42]
   val f: (int *'a) -> 'a = fn
   val b: 'a = _
   val h: int = 42
   val t: int list = []

   Stack (grows upwards)
   add' argument 1 (E, 42)
   add argument 1 (T, (1, !, E, E), 42)
   listfold argument 2 [42]
   listfold argument 2 [1,42]
   fromList ([1,42], fn)

Turn off the display of of variables by clicking on
Settings/Information/Show variable info.  The variables do no go away.
Select another frame, say the "fromList ([1,42], fn)" line and the
display changes to :- 

  Exception Div[<Pervasive> ...

   Local Variables

   fromList [...

   val _id233: int list = [42]
   val f: (int *'a) -> 'a = fn
   val b: 'a = _
   val h: int = 42
   val t: int list = []

   Stack (grows upwards)
   add' argument 1 (E, 42)
   add argument 1 (T, (1, !, E, E), 42)
   listfold argument 2 [42]
   listfold argument 2 [1,42]
   fromList ([1,42], fn)


Note that although "listfold .." has changed to "foldList ...", the
variables themselves are still those of listfold.


Proper behaviour:  local variables window is updated when the appropriate
settings are applied.


@


1.1.1.1
log
@branched from 1.1
@
text
@@


1.1.1.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@@


1.1.1.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@@


1.1.1.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@@


1.1.1.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@@

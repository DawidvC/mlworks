head	1.146;
access;
symbols
	ML_beta_release_12/08/94:1.131
	ML_beta_release_03/08/94:1.131
	ML_revised_beta_release_25/05/94:1.125
	ML_final_beta_release_02/03/94:1.118
	mlworks-28-01-1994:1.117
	Release:1.112
	mlworks-beta-01-09-1993:1.112
	MLWorks-1-0-4-29/01/1993:1.65
	MLWorks-1-0-3-21/12/1992:1.63
	MLWorks-1-0-2-15/12/1992:1.61
	MLWorks-1-0-1-04/12/1992:1.60
	checkpoint_17_08_92:1.24;
locks; strict;
comment	@# @;


1.146
date	95.02.08.14.25.44;	author matthew;	state Exp;
branches;
next	1.145;

1.145
date	95.01.30.15.02.18;	author matthew;	state Exp;
branches;
next	1.144;

1.144
date	95.01.26.12.00.47;	author daveb;	state Exp;
branches;
next	1.143;

1.143
date	95.01.25.17.08.33;	author daveb;	state Exp;
branches;
next	1.142;

1.142
date	95.01.18.18.01.43;	author jont;	state Exp;
branches;
next	1.141;

1.141
date	94.12.09.13.18.01;	author jont;	state Exp;
branches;
next	1.140;

1.140
date	94.11.15.13.16.07;	author matthew;	state Exp;
branches;
next	1.139;

1.139
date	94.11.11.18.02.36;	author jont;	state Exp;
branches;
next	1.138;

1.138
date	94.10.12.10.54.19;	author matthew;	state Exp;
branches;
next	1.137;

1.137
date	94.10.11.14.50.08;	author matthew;	state Exp;
branches;
next	1.136;

1.136
date	94.09.28.09.27.32;	author nickb;	state Exp;
branches;
next	1.135;

1.135
date	94.09.23.15.27.35;	author jont;	state Exp;
branches;
next	1.134;

1.134
date	94.09.09.17.37.45;	author jont;	state Exp;
branches;
next	1.133;

1.133
date	94.08.25.16.15.33;	author matthew;	state Exp;
branches;
next	1.132;

1.132
date	94.08.25.15.36.03;	author matthew;	state Exp;
branches;
next	1.131;

1.131
date	94.08.01.13.12.50;	author daveb;	state Exp;
branches;
next	1.130;

1.130
date	94.07.05.14.31.55;	author daveb;	state Exp;
branches;
next	1.129;

1.129
date	94.06.29.13.08.34;	author daveb;	state Exp;
branches;
next	1.128;

1.128
date	94.06.21.18.48.41;	author daveb;	state Exp;
branches;
next	1.127;

1.127
date	94.06.21.16.03.42;	author nickh;	state Exp;
branches;
next	1.126;

1.126
date	94.06.13.14.07.20;	author nickh;	state Exp;
branches;
next	1.125;

1.125
date	94.05.13.14.40.18;	author daveb;	state Exp;
branches;
next	1.124;

1.124
date	94.04.12.11.10.33;	author jont;	state Exp;
branches;
next	1.123;

1.123
date	94.03.28.13.45.59;	author daveb;	state Exp;
branches;
next	1.122;

1.122
date	94.03.09.11.37.51;	author jont;	state Exp;
branches;
next	1.121;

1.121
date	94.03.04.12.52.30;	author jont;	state Exp;
branches;
next	1.120;

1.120
date	94.03.04.11.03.52;	author jont;	state Exp;
branches;
next	1.119;

1.119
date	94.03.02.17.45.45;	author jont;	state Exp;
branches;
next	1.118;

1.118
date	94.02.02.12.27.34;	author daveb;	state Exp;
branches;
next	1.117;

1.117
date	94.01.18.11.33.06;	author daveb;	state Exp;
branches;
next	1.116;

1.116
date	93.12.17.15.50.03;	author io;	state Exp;
branches;
next	1.115;

1.115
date	93.11.18.13.16.58;	author jont;	state Exp;
branches;
next	1.114;

1.114
date	93.11.01.16.39.27;	author nickh;	state Exp;
branches;
next	1.113;

1.113
date	93.09.28.10.16.37;	author daveb;	state Exp;
branches;
next	1.112;

1.112
date	93.08.26.18.50.10;	author daveb;	state Exp;
branches
	1.112.1.1;
next	1.111;

1.111
date	93.08.24.11.14.28;	author richard;	state Exp;
branches;
next	1.110;

1.110
date	93.08.23.13.42.01;	author richard;	state Exp;
branches;
next	1.109;

1.109
date	93.08.17.18.19.51;	author daveb;	state Exp;
branches;
next	1.108;

1.108
date	93.08.17.10.41.01;	author daveb;	state Exp;
branches;
next	1.107;

1.107
date	93.08.11.12.15.02;	author matthew;	state Exp;
branches;
next	1.106;

1.106
date	93.08.09.16.17.24;	author jont;	state Exp;
branches;
next	1.105;

1.105
date	93.07.30.15.24.37;	author nosa;	state Exp;
branches;
next	1.104;

1.104
date	93.07.08.09.15.44;	author daveb;	state Exp;
branches;
next	1.103;

1.103
date	93.05.18.08.28.48;	author richard;	state Exp;
branches;
next	1.102;

1.102
date	93.05.11.16.16.17;	author matthew;	state Exp;
branches;
next	1.101;

1.101
date	93.05.06.17.28.37;	author matthew;	state Exp;
branches;
next	1.100;

1.100
date	93.04.30.16.23.12;	author matthew;	state Exp;
branches;
next	1.99;

1.99
date	93.04.30.10.42.42;	author daveb;	state Exp;
branches;
next	1.98;

1.98
date	93.04.30.10.29.27;	author matthew;	state Exp;
branches;
next	1.97;

1.97
date	93.04.29.12.31.20;	author richard;	state Exp;
branches;
next	1.96;

1.96
date	93.04.27.14.59.10;	author daveb;	state Exp;
branches;
next	1.95;

1.95
date	93.04.26.13.29.30;	author daveb;	state Exp;
branches;
next	1.94;

1.94
date	93.04.26.13.20.02;	author richard;	state Exp;
branches;
next	1.93;

1.93
date	93.04.21.15.18.43;	author daveb;	state Exp;
branches;
next	1.92;

1.92
date	93.04.21.13.12.46;	author daveb;	state Exp;
branches;
next	1.91;

1.91
date	93.04.16.14.43.57;	author matthew;	state Exp;
branches;
next	1.90;

1.90
date	93.04.15.10.47.46;	author jont;	state Exp;
branches;
next	1.89;

1.89
date	93.04.06.17.25.27;	author jont;	state Exp;
branches;
next	1.88;

1.88
date	93.04.05.12.43.42;	author jont;	state Exp;
branches;
next	1.87;

1.87
date	93.04.01.17.16.31;	author matthew;	state Exp;
branches;
next	1.86;

1.86
date	93.04.01.14.50.52;	author jont;	state Exp;
branches;
next	1.85;

1.85
date	93.03.31.13.39.07;	author jont;	state Exp;
branches;
next	1.84;

1.84
date	93.03.30.09.39.11;	author matthew;	state Exp;
branches;
next	1.83;

1.83
date	93.03.30.09.20.29;	author matthew;	state Exp;
branches;
next	1.82;

1.82
date	93.03.29.15.52.53;	author jont;	state Exp;
branches;
next	1.81;

1.81
date	93.03.26.19.55.19;	author matthew;	state Exp;
branches;
next	1.80;

1.80
date	93.03.26.15.45.42;	author daveb;	state Exp;
branches;
next	1.79;

1.79
date	93.03.18.09.46.27;	author matthew;	state Exp;
branches;
next	1.78;

1.78
date	93.03.17.13.37.22;	author matthew;	state Exp;
branches;
next	1.77;

1.77
date	93.03.12.14.46.27;	author matthew;	state Exp;
branches;
next	1.76;

1.76
date	93.03.11.12.07.08;	author jont;	state Exp;
branches;
next	1.75;

1.75
date	93.03.09.16.20.33;	author matthew;	state Exp;
branches;
next	1.74;

1.74
date	93.03.08.16.26.23;	author jont;	state Exp;
branches;
next	1.73;

1.73
date	93.03.03.10.53.18;	author daveb;	state Exp;
branches;
next	1.72;

1.72
date	93.03.02.20.07.44;	author daveb;	state Exp;
branches;
next	1.71;

1.71
date	93.03.02.11.18.06;	author jont;	state Exp;
branches;
next	1.70;

1.70
date	93.02.22.18.39.08;	author matthew;	state Exp;
branches;
next	1.69;

1.69
date	93.02.19.19.30.47;	author jont;	state Exp;
branches;
next	1.68;

1.68
date	93.02.11.10.54.22;	author jont;	state Exp;
branches;
next	1.67;

1.67
date	93.02.09.18.30.17;	author matthew;	state Exp;
branches;
next	1.66;

1.66
date	93.02.05.15.34.20;	author matthew;	state Exp;
branches;
next	1.65;

1.65
date	93.01.07.13.08.57;	author jont;	state Exp;
branches;
next	1.64;

1.64
date	93.01.04.17.41.46;	author jont;	state Exp;
branches;
next	1.63;

1.63
date	92.12.21.12.17.10;	author daveb;	state Exp;
branches;
next	1.62;

1.62
date	92.12.16.11.21.27;	author richard;	state Exp;
branches;
next	1.61;

1.61
date	92.12.14.18.41.00;	author jont;	state Exp;
branches;
next	1.60;

1.60
date	92.12.04.16.40.20;	author richard;	state Exp;
branches;
next	1.59;

1.59
date	92.12.03.14.57.34;	author jont;	state Exp;
branches;
next	1.58;

1.58
date	92.12.01.10.43.37;	author clive;	state Exp;
branches;
next	1.57;

1.57
date	92.11.27.10.48.15;	author matthew;	state Exp;
branches;
next	1.56;

1.56
date	92.11.26.16.53.24;	author matthew;	state Exp;
branches;
next	1.55;

1.55
date	92.11.24.11.12.39;	author clive;	state Exp;
branches;
next	1.54;

1.54
date	92.11.21.19.47.34;	author jont;	state Exp;
branches;
next	1.53;

1.53
date	92.11.20.17.39.50;	author jont;	state Exp;
branches;
next	1.52;

1.52
date	92.11.19.18.39.58;	author matthew;	state Exp;
branches;
next	1.51;

1.51
date	92.11.19.10.53.18;	author clive;	state Exp;
branches;
next	1.50;

1.50
date	92.11.17.11.08.53;	author clive;	state Exp;
branches;
next	1.49;

1.49
date	92.11.10.15.07.05;	author clive;	state Exp;
branches;
next	1.48;

1.48
date	92.11.07.12.20.38;	author richard;	state Exp;
branches;
next	1.47;

1.47
date	92.10.26.11.29.21;	author clive;	state Exp;
branches;
next	1.46;

1.46
date	92.10.15.14.59.14;	author richard;	state Exp;
branches;
next	1.45;

1.45
date	92.10.14.18.32.29;	author richard;	state Exp;
branches;
next	1.44;

1.44
date	92.10.08.16.51.12;	author clive;	state Exp;
branches;
next	1.43;

1.43
date	92.10.07.15.52.08;	author richard;	state Exp;
branches;
next	1.42;

1.42
date	92.10.07.08.54.30;	author daveb;	state Exp;
branches;
next	1.41;

1.41
date	92.10.05.14.09.16;	author clive;	state Exp;
branches;
next	1.40;

1.40
date	92.10.01.16.32.27;	author richard;	state Exp;
branches;
next	1.39;

1.39
date	92.09.24.15.38.35;	author jont;	state Exp;
branches;
next	1.38;

1.38
date	92.09.22.16.31.41;	author clive;	state Exp;
branches;
next	1.37;

1.37
date	92.09.21.16.14.12;	author jont;	state Exp;
branches;
next	1.36;

1.36
date	92.09.09.11.45.27;	author richard;	state Exp;
branches;
next	1.35;

1.35
date	92.09.04.13.33.51;	author richard;	state Exp;
branches;
next	1.34;

1.34
date	92.09.01.16.17.29;	author richard;	state Exp;
branches;
next	1.33;

1.33
date	92.08.27.19.17.04;	author jont;	state Exp;
branches;
next	1.32;

1.32
date	92.08.26.15.07.07;	author matthew;	state Exp;
branches;
next	1.31;

1.31
date	92.08.25.10.11.35;	author richard;	state Exp;
branches;
next	1.30;

1.30
date	92.08.22.14.04.36;	author clive;	state Exp;
branches;
next	1.29;

1.29
date	92.08.21.15.20.53;	author clive;	state Exp;
branches;
next	1.28;

1.28
date	92.08.21.08.14.25;	author richard;	state Exp;
branches;
next	1.27;

1.27
date	92.08.20.08.33.07;	author clive;	state Exp;
branches;
next	1.26;

1.26
date	92.08.18.13.53.34;	author davidt;	state Exp;
branches;
next	1.25;

1.25
date	92.08.17.14.44.31;	author davidt;	state Exp;
branches;
next	1.24;

1.24
date	92.08.15.14.48.57;	author clive;	state Exp;
branches;
next	1.23;

1.23
date	92.08.14.13.08.37;	author jont;	state Exp;
branches;
next	1.22;

1.22
date	92.08.14.10.36.03;	author clive;	state Exp;
branches;
next	1.21;

1.21
date	92.08.11.09.04.26;	author richard;	state Exp;
branches;
next	1.20;

1.20
date	92.08.05.14.43.45;	author richard;	state Exp;
branches;
next	1.19;

1.19
date	92.08.05.11.21.07;	author jont;	state Exp;
branches;
next	1.18;

1.18
date	92.07.30.08.56.10;	author clive;	state Exp;
branches;
next	1.17;

1.17
date	92.07.29.11.52.14;	author clive;	state Exp;
branches;
next	1.16;

1.16
date	92.07.23.10.50.38;	author jont;	state Exp;
branches;
next	1.15;

1.15
date	92.07.16.10.46.54;	author clive;	state Exp;
branches;
next	1.14;

1.14
date	92.07.14.14.55.13;	author clive;	state Exp;
branches;
next	1.13;

1.13
date	92.07.09.09.48.19;	author clive;	state Exp;
branches;
next	1.12;

1.12
date	92.07.07.15.52.11;	author davida;	state Exp;
branches;
next	1.11;

1.11
date	92.07.01.15.45.19;	author jont;	state Exp;
branches;
next	1.10;

1.10
date	92.06.12.15.08.53;	author clive;	state Exp;
branches;
next	1.9;

1.9
date	92.06.11.10.29.45;	author clive;	state Exp;
branches;
next	1.8;

1.8
date	92.05.18.12.16.36;	author jont;	state Exp;
branches;
next	1.7;

1.7
date	92.05.11.10.01.32;	author jont;	state Exp;
branches;
next	1.6;

1.6
date	92.04.15.11.09.00;	author richard;	state Exp;
branches;
next	1.5;

1.5
date	92.04.06.09.37.16;	author richard;	state Exp;
branches;
next	1.4;

1.4
date	92.03.26.15.41.28;	author richard;	state Exp;
branches;
next	1.3;

1.3
date	92.03.19.17.02.10;	author richard;	state Exp;
branches;
next	1.2;

1.2
date	92.03.19.13.55.23;	author richard;	state Exp;
branches;
next	1.1;

1.1
date	92.03.19.13.20.59;	author richard;	state Exp;
branches;
next	;

1.112.1.1
date	93.08.26.18.50.10;	author jont;	state Exp;
branches;
next	1.112.1.2;

1.112.1.2
date	93.09.27.17.19.52;	author daveb;	state Exp;
branches;
next	1.112.1.3;

1.112.1.3
date	93.11.09.13.47.41;	author daveb;	state Exp;
branches;
next	;


desc
@Makefile for MLWorks images.
@


1.146
log
@Removing typechecker files
@
text
@# ==== BUILD MLWORKS IMAGES ====
#
# Instructions
# ------------
# This makefile builds images in the usual way, but has extra targets
# called *-files for producing files containing lists of .mo's for use
# with the runtime system `-from' option.  This makes debugging using
# adb possible since adb will not accept the massive command lines
# generated for the normal rules.
#
# To build images from a source tree other than `..' use:
#
#   make SRC='source directory name' target...
#
# To build the file list for the parser relative to /usr/sml, for
# example, use:
#
#   make SRC=/usr/sml parser-files
#
# $Id: Makefile,v 1.145 1995/01/30 15:02:18 matthew Exp $
#
#
#

RUNTIME =	../rts/runtime-g
RUNTIMEOPTS =	-verbose -d 1 -delivery
COMPRESS =	compress -v
UNCOMPRESS =	uncompress
RM =		/bin/rm -f
CP =		/bin/cp
MKDIR =		/bin/mkdir
TMPDIR =	/tmp
DISTRIB =	/usr/sml/distribution/images
DISTRIBUTED =	pervasive.img batch.img motif.img
ADB =		adb
SRC =		..
PERVASIVEDIR =	$(SRC)/pervasive
PERVASIVE =	__builtin_library bytearray bits array \
		string vector mlworks __pervasive_library 
PERVASIVEMO =	$(PERVASIVE:%=$(PERVASIVEDIR)/%.mo)
LEXER =		utils/print \
		utils/_print \
		utils/__print \
		utils/integer \
		utils/_integer \
		utils/__integer \
		utils/lists \
		utils/_lists \
		utils/__lists \
		utils/newmap \
		utils/mononewmap \
		utils/intnewmap \
		basics/location \
		basics/_location \
		basics/__location \
		main/info \
		main/_info \
		main/__info \
		utils/crash \
		utils/_crash \
		utils/__crash \
		utils/_b23tree \
		utils/__btree \
		utils/_intb23tree \
		utils/__intbtree \
		basics/symbol \
		basics/_symbol \
		basics/__symbol \
		basics/token \
		basics/_token \
		basics/__token \
		lexer/ndfa \
		lexer/_ndfa \
		lexer/__ndfa \
		lexer/regexp \
		lexer/_regexp \
		lexer/__regexp \
		lexer/inbuffer \
		lexer/_inbuffer \
		lexer/__inbuffer \
		main/options \
		main/_options \
		main/__options \
		lexer/lexrules \
		lexer/_lexrules \
		lexer/__lexrules \
		utils/timer \
		utils/__timer \
		lexer/lexer \
		lexer/_lexgen \
		lexer/__lexer

PARSER =	utils/map \
		basics/ident \
		basics/identprint \
		utils/set \
		utils/_set \
		utils/__set \
		utils/path \
		unix/_unixpath \
		unix/__path \
		utils/option \
		utils/__option \
		utils/getenv \
		unix/_unixgetenv \
		unix/__getenv \
		basics/module_id \
		basics/_module_id \
		basics/__module_id \
		basics/absyn \
		parser/parserenv \
		parser/derived \
		parser/parser \
 		parser/LRbasics \
 		parser/actionfunctions \
 		parser/LRparser \
		parser/_parser \
		utils/_map \
		utils/__map \
		basics/_ident \
		basics/__ident \
		basics/_identprint \
		basics/__identprint \
		utils/counter \
		utils/_counter \
		typechecker/simpletypes \
		typechecker/_simpletypes \
		typechecker/__simpletypes \
		typechecker/datatypes \
		typechecker/_datatypes \
		typechecker/__datatypes \
		debugger/runtime_env \
		debugger/_runtime_env \
		debugger/__runtime_env \
		basics/_absyn \
		basics/__absyn \
		parser/_parserenv \
		parser/__parserenv \
		parser/_derived \
		parser/__derived \
 		parser/_LRbasics \
 		parser/_LRparser \
 		parser/_actionfunctions \
 		parser/__LRbasics \
 		parser/__actionfunctions \
 		parser/__LRparser \
		parser/__parser

TYPER =		utils/hashset \
		utils/_hashset \
		lambda/pretty \
		lambda/_pretty \
		lambda/__pretty \
		utils/sexpr \
		utils/_sexpr \
		utils/__sexpr \
		typechecker/types \
		typechecker/_types \
		typechecker/__types \
		basics/absynprint \
		basics/_absynprint \
		basics/__absynprint \
		lambda/topdecprint \
		lambda/_topdecprint \
		lambda/__topdecprint \
		typechecker/namehash \
		typechecker/_namehash \
		typechecker/__namehash \
		typechecker/strnames \
		typechecker/_strnames \
		typechecker/__strnames \
		typechecker/namesettypes \
		typechecker/_namesettypes \
		typechecker/__namesettypes \
		typechecker/basistypes \
		typechecker/_basistypes \
		typechecker/__basistypes \
		typechecker/unify \
		typechecker/_unify \
		typechecker/__unify \
		utils/newhashtable \
		utils/_newhashtable \
		utils/__newhashtable \
		typechecker/completion \
		typechecker/_completion \
		typechecker/__completion \
		typechecker/scheme \
		typechecker/_scheme \
		typechecker/__scheme \
		typechecker/valenv \
		typechecker/_valenv \
		typechecker/__valenv \
		typechecker/tyenv \
		typechecker/_tyenv \
		typechecker/__tyenv \
		typechecker/strenv \
		typechecker/_strenv \
		typechecker/__strenv \
		typechecker/environment \
		typechecker/_environment \
		typechecker/__environment \
		typechecker/nameset \
		typechecker/_nameset \
		typechecker/__nameset \
		typechecker/sigma \
		typechecker/_sigma \
		typechecker/__sigma \
		typechecker/basis \
		typechecker/_basis \
		typechecker/__basis \
		typechecker/type_exp \
		typechecker/_type_exp \
		typechecker/__type_exp \
		typechecker/assemblies \
		typechecker/_assemblies \
		typechecker/__assemblies \
		typechecker/control_unify \
		typechecker/_control_unify \
		typechecker/__control_unify \
		typechecker/context_print \
		typechecker/_context_print \
		typechecker/__context_print \
		typechecker/patterns \
		typechecker/_patterns \
		typechecker/__patterns \
		typechecker/core_rules \
		typechecker/_core_rules \
		typechecker/__core_rules \
		typechecker/sharetypes \
		typechecker/_sharetypes \
		typechecker/__sharetypes \
		typechecker/share \
		typechecker/_share \
		typechecker/__share \
		typechecker/realise \
		typechecker/_realise \
		typechecker/__realise \
		typechecker/type_debugger \
		typechecker/_type_debugger \
		typechecker/__type_debugger \
		typechecker/mod_rules \
		typechecker/_mod_rules \
		typechecker/__mod_rules

COMPILER =	make/os \
		unix/_unix \
		unix/__os \
		utils/text \
		utils/_text \
		utils/__text \
		utils/diagnostic \
		utils/_diagnostic \
		main/pervasives \
		main/_pervasives \
		main/__pervasives \
		lambda/lambdatypes \
		lambda/_lambdatypes \
		lambda/__lambdatypes \
		lambda/environtypes \
		lambda/_environtypes \
		lambda/__environtypes \
		lambda/environ \
		lambda/_environ \
		lambda/__environ \
		debugger/debugger_types \
		debugger/_debugger_types \
		debugger/__debugger_types \
		lambda/lambdaprint \
		lambda/_lambdaprint \
		lambda/__lambdaprint \
		lambda/environprint \
		lambda/_environprint \
		lambda/__environprint \
		match/type_utils \
		match/_type_utils \
		match/__type_utils \
		match/match \
		match/_match \
		match/__match \
		main/primitives \
		main/_primitives \
		main/__primitives \
		utils/delayed_newhashtable \
		utils/_delayed_newhashtable \
		lambda/lambda \
		lambda/lambdautils \
		lambda/lambdasub \
		lambda/lambdaoptimiser \
		typechecker/typerep_utils \
		typechecker/_typerep_utils \
		typechecker/__typerep_utils \
		lambda/_lambda \
		lambda/_lambdautils \
		lambda/__lambdautils \
		utils/__delayed_newhashtable \
		lambda/_lambdasub \
		lambda/__lambdasub \
		sparc/machtypes \
		sparc/_machtypes \
		sparc/__machtypes \
		main/machspec \
		sparc/_machspec \
		sparc/__machspec \
		utils/bignum \
		utils/_bignum \
		utils/__bignum \
		lambda/simplelambdatypes \
		lambda/_simplelambdatypes \
		lambda/__simplelambdatypes \
		lambda/simpleutils \
		lambda/_simpleutils \
		lambda/__simpleutils \
		lambda/transsimple \
		lambda/_transsimple \
		lambda/__transsimple \
		utils/inthashtable \
		utils/_inthashtable \
		utils/__inthashtable \
		lambda/_simplelambda \
		lambda/__simplelambda \
		lambda/optimise_lib \
		lambda/_optimise_lib \
		lambda/__optimise_lib \
		lambda/optimise_contract \
		lambda/_optimise_contract \
		lambda/__optimise_contract \
		lambda/optimise_beta \
		lambda/_optimise_beta \
		lambda/__optimise_beta \
		lambda/optimise_builtin \
		lambda/_optimise_builtin \
		lambda/__optimise_builtin \
		lambda/optimise_cse \
		lambda/_optimise_cse \
		lambda/__optimise_cse \
		lambda/optimise_lift \
		lambda/_optimise_lift \
		lambda/__optimise_lift \
		lambda/_lambdaoptimiser \
		lambda/__lambdaoptimiser \
		lambda/__lambda \
		utils/monoset \
		utils/intset \
		utils/_intsetlist \
		utils/mutablemonoset \
		harp/virtualregister \
		utils/mutableintset \
		harp/_virtualregister \
		harp/mirtypes \
		harp/_mirtypes \
		utils/_smallintset \
		harp/__mirtypes \
		main/machperv \
		sparc/_machperv \
		sparc/__machperv \
		rts/gen/tags \
		rts/gen/__tags \
		debugger/debugger_utilities \
		debugger/_debugger_utilities \
		debugger/__debugger_utilities \
		lambda/auglambda \
		lambda/_auglambda \
		lambda/__auglambda \
		utils/filesys \
		unix/_unixfilesys \
		unix/__filesys \
		main/io \
		main/_io \
		main/__io \
		basics/module \
		basics/_module \
		basics/__module \
		main/library \
		main/_library \
		main/__library \
		lambda/interproc \
		lambda/_interproc \
		lambda/__interproc \
		lambda/tail \
		lambda/_tail \
		lambda/__tail \
		rts/gen/__implicit \
		harp/mirregisters \
		harp/_mirregisters \
		harp/__mirregisters \
		harp/mirprint \
		harp/_mirprint \
		harp/__mirprint \
		harp/mir_env \
		harp/_mir_env \
		harp/__mir_env \
		harp/mir_utils \
		harp/_mir_utils \
		harp/__mir_utils \
		rts/gen/implicit \
		harp/mirtables \
		harp/_mirtables \
		harp/__mirtables \
		harp/mir_cg \
		harp/_mir_cg \
		harp/__mir_cg \
		harp/mirprocedure \
		harp/registerpack \
		harp/_mirprocedure \
		harp/_registerpack \
		harp/__registerpack \
		harp/__mirprocedure \
		harp/registerallocator \
		harp/mirvariable \
		harp/_mirvariable \
		harp/registercolourer \
		harp/_registercolourer \
		harp/_registerallocator \
		utils/__smallintset \
		harp/__gccolourer \
		harp/__nongccolourer \
		harp/__fpcolourer \
		harp/__registerallocator \
		harp/__mirvariable \
		harp/stackallocator \
		harp/_stackallocator \
		harp/__stackallocator \
		harp/mirexpr \
		harp/_mirexpr \
		harp/__mirexpr \
		harp/miroptimiser \
		harp/_miroptimiser \
		harp/__miroptimiser \
		main/reals \
		main/_reals \
		main/__reals \
		main/code_module \
		main/__code_module \
		sparc/sparc_opcodes \
		sparc/_sparc_opcodes \
		sparc/__sparc_opcodes \
		sparc/sparc_assembly \
		sparc/_sparc_assembly \
		sparc/__sparc_assembly \
		sparc/sparc_schedule \
		sparc/_sparc_schedule \
		sparc/__sparc_schedule \
		main/mach_cg \
		sparc/_mach_cg \
		sparc/__sparc_mach_cg \
		sparc/__mach_cg \
		main/machprint \
		sparc/_machprint \
		sparc/__sparc_machprint \
		sparc/__machprint \
		rts/gen/__objectfile \
		rts/gen/objectfile \
		lambda/lambdamodule \
		lambda/_lambdamodule \
		lambda/__lambdamodule \
		main/enc_sub \
		main/_enc_sub \
		main/__enc_sub \
		main/encapsulate \
		main/_encapsulate \
		main/__encapsulate \
		lambda/lambdaio \
		lambda/_lambdaio \
		lambda/__lambdaio \
		main/toplevel \
		main/_toplevel \
		main/__toplevel \
		main/preferences \
		main/_preferences \
		main/__preferences

BATCH =		make/recompile \
		make/_recompile \
		make/__recompile \
		main/version \
		main/__version \
		main/user_options \
		main/_user_options \
		main/__user_options \
		main/batch \
		main/_batch \
		main/__batch

SHELLSRC =	debugger/get_type_information \
		debugger/_get_type_information \
		debugger/__get_type_information \
		interpreter/inter_envtypes \
		interpreter/_inter_envtypes \
		interpreter/__inter_envtypes \
		debugger/value_printer_utilities \
		debugger/_value_printer_utilities \
		debugger/__value_printer_utilities \
		debugger/value_printer \
		debugger/_value_printer \
		debugger/__value_printer \
		main/compiler \
		main/_compiler \
		main/__compiler \
		interpreter/interload \
		interpreter/_interload \
		interpreter/__interload \
		interpreter/intermake \
		interpreter/_intermake \
		interpreter/__intermake \
		interpreter/incremental \
		interpreter/_incremental \
		interpreter/__incremental

INTERSRC =	editor/editor \
		editor/_editor \
		editor/__editor \
		main/version \
		main/__version \
		main/user_options \
		main/_user_options \
		main/__user_options \
		debugger/newtrace \
		debugger/_newtrace \
		debugger/__newtrace \
		interpreter/shell_types \
		interpreter/_shell_types \
		interpreter/__shell_types \
		interpreter/interprint \
		interpreter/_interprint \
		interpreter/__interprint \
		interpreter/shell_utils \
		interpreter/_shell_utils \
		interpreter/__shell_utils \
	        debugger/debugger_print \
		debugger/_debugger_print \
	        debugger/__debugger_print \
		debugger/ml_debugger \
		debugger/_ml_debugger \
		debugger/__ml_debugger \
		make/recompile \
		make/_recompile \
		make/__recompile \
		interpreter/action_queue \
		interpreter/_action_queue \
		interpreter/__action_queue \
		interpreter/inspector_values \
		interpreter/_inspector_values \
		interpreter/__inspector_values \
		interpreter/inspector \
		interpreter/_inspector \
		interpreter/__inspector \
		interpreter/shell_structure \
		interpreter/_shell_structure \
		interpreter/__shell_structure \
		interpreter/shell \
		interpreter/_shell \
		interpreter/__shell \
		interpreter/tty_listener \
		interpreter/_tty_listener \
		interpreter/__tty_listener

TTYSRC =	interpreter/interpreter

MOTIFSRC =	library/xm \
		library/_xm \
		library/__xm \
		motif/menus \
		motif/_menus \
		motif/__menus \
		motif/tooldata \
		motif/_tooldata \
		motif/__tooldata \
		motif/motif_utils \
		motif/_motif_utils \
		motif/__motif_utils \
		motif/input \
		motif/_input \
		motif/__input \
		motif/output \
		motif/_output \
		motif/__output \
		motif/inspector_tool \
		motif/_inspector_tool \
		motif/__inspector_tool \
		motif/debugger_window \
		motif/_debugger_window \
		motif/__debugger_window \
		motif/error_browser \
		motif/_error_browser \
		motif/__error_browser \
		motif/fileselect \
		motif/_fileselect \
		motif/__fileselect \
		motif/file_dialog \
		motif/_file_dialog \
		motif/__file_dialog \
		motif/evaluator \
		motif/_evaluator \
		motif/__evaluator \
		motif/browser_tool \
		motif/_browser_tool \
		motif/__browser_tool \
		motif/listener \
		motif/podium \
	 	motif/_listener \
		motif/_podium \
	 	motif/__listener \
		motif/__podium \
		interpreter/xinterpreter

SCRIPT =	utils/option \
		utils/__option \
		main/io \
		main/_io \
		main/__io \
		ml_utils/script

ARSRC =		utils/lists \
		utils/_lists \
		utils/__lists \
		ml_utils/ml_ar

LEXERMO =	$(LEXER:%=$(SRC)/%.mo)
PARSERMO =	$(PARSER:%=$(SRC)/%.mo)
TYPERMO =	$(TYPER:%=$(SRC)/%.mo)
COMPILERMO =	$(COMPILER:%=$(SRC)/%.mo)
BATCHMO =	$(BATCH:%=$(SRC)/%.mo)
SHELLMO =	$(SHELLSRC:%=$(SRC)/%.mo)
INTERMO =	$(INTERSRC:%=$(SRC)/%.mo)
TTYMO =		$(TTYSRC:%=$(SRC)/%.mo)
MOTIFMO =	$(MOTIFSRC:%=$(SRC)/%.mo)
SCRIPTMO =	$(SCRIPT:%=$(SRC)/%.mo)
ARMO =		$(ARSRC:%=$(SRC)/%.mo)

.PRECIOUS: pervasive.img lexer.img shell.img motif.img batch.img
.SILENT:

all: pervasive.img lexer.img motif.img batch.img

profile:
	make RUNTIMEOPTS="-verbose -c 2 -profile -profile-frequency 100"

clean:
	echo $(RM) *.img
	$(RM) *.img

backup:
	echo 'make: moving *.img to *.img~'
	for image in *.img; do mv $$image $$image~; done

lexer-files: force
	echo $(LEXERMO) > $@@

pervasive-files: force
	echo $(PERVASIVEMO) > $@@

batch-files: force
	echo $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(BATCHMO) > $@@

shell-files: force
	echo $(COMPILERMO) $(SHELLMO) > $@@

tty-files: force
	echo $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(TTYMO) > tty-files

motif-files: force
	echo $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(MOTIFMO) > motif-files

motif2-files: force
	echo $(INTERMO) $(MOTIFMO) > motif2-files

tty2-files: force
	echo $(INTERMO) $(TTYMO) > tty2-files

script-files: force
	echo $(SCRIPTMO) > script-files

ar-files: force
	echo $(ARMO) > ar-files

pervasive.img: $(PERVASIVEMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -save $@@ $(PERVASIVEMO)

lexer.img: pervasive.img $(LEXERMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -load pervasive.img -save $@@ $(LEXERMO)

parser.img: lexer.img $(PARSERMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save $@@ $(PARSERMO)

typechecker.img: lexer.img $(PARSERMO) $(TYPERMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -save $@@ -load lexer.img $(PARSERMO) $(TYPERMO)

batch.img: typechecker.img $(COMPILERMO) $(BATCHMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -pass wombats -verbose -save $@@ wombats -load typechecker.img $(COMPILERMO) $(BATCHMO)

shell.img: typechecker.img $(COMPILERMO) $(SHELLMO)
	echo make: $@@
	export MLWORKS_PERVASIVE;MLWORKS_PERVASIVE=`pwd`/../pervasive/;$(RUNTIME) $(RUNTIMEOPTS) -load typechecker.img -save $@@ $(COMPILERMO) $(SHELLMO)

tty.img: lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(TTYMO)
	echo make: $@@ from lexer.img
	export MLWORKS_PERVASIVE;MLWORKS_PERVASIVE=`pwd`/../pervasive/;echo 'Shell.save_image "tty.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(TTYMO)

motif.img: lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(MOTIFMO) 
	echo make: $@@ from lexer.img
	export MLWORKS_PERVASIVE;MLWORKS_PERVASIVE=`pwd`/../pervasive/;echo 'Shell.save_image "motif.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(MOTIFMO)

tty2.img: shell.img $(INTERMO) $(TTYMO)
	echo make: $@@ from shell.img
	echo 'Shell.save_image "tty.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load shell.img $(INTERMO) $(TTYMO)

motif2.img: shell.img $(INTERMO) $(MOTIFMO) 
	echo make: $@@ from shell.img
	echo 'Shell.save_image "motif.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load shell.img $(INTERMO) $(MOTIFMO)

mltags.img: lexer.img ../ml_utils/mltags.mo
	echo make: $@@ from lexer.img
	$(RUNTIME) $(RUNTIMEOPTS) -pass wombats -save $@@ wombats -load lexer.img ../ml_utils/mltags.mo

mletags.img: lexer.img ../ml_utils/mletags.mo
	echo make: $@@ from lexer.img
	$(RUNTIME) $(RUNTIMEOPTS) -pass wombats -save $@@ wombats -load lexer.img ../ml_utils/mltags.mo

script.img: lexer.img $(SCRIPTMO)
	echo make: $@@ from lexer.img
	$(RUNTIME) $(RUNTIMEOPTS) -pass wombats -save $@@ wombats -load lexer.img $(SCRIPTMO)

ml_ar.img: pervasive.img $(ARMO)
	echo make: $@@ from pervasive.img
	$(RUNTIME) $(RUNTIMEOPTS) -pass wombats -save $@@ wombats -load pervasive.img $(ARMO)

distribution:
	$(RM) -r $(DISTDIR)/images
	$(MKDIR) $(DISTDIR)/images
	$(COMPRESS) $(DISTRIBUTED)
	$(CP) $(DISTRIBUTED:%=%.Z) $(DISTDIR)/images
	$(UNCOMPRESS) $(DISTRIBUTED)

force:
@


1.145
log
@Renaming debugger_env to runtime_env
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.144 1995/01/26 12:00:47 daveb Exp $
a125 2
		utils/_debug \
		utils/__debug \
a156 2
		typechecker/ty_debug \
		typechecker/__ty_debug \
a177 3
		typechecker/tyvarenv \
		typechecker/_tyvarenv \
		typechecker/__tyvarenv \
a192 3
		typechecker/tystr \
		typechecker/_tystr \
		typechecker/__tystr \
a207 9
		typechecker/phi \
		typechecker/_phi \
		typechecker/__phi \
		typechecker/sigenv \
		typechecker/_sigenv \
		typechecker/__sigenv \
		typechecker/funenv \
		typechecker/_funenv \
		typechecker/__funenv \
@


1.144
log
@Moved filesys from before moduleid to before io.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.143 1995/01/25 17:08:33 daveb Exp $
d134 3
a136 3
		debugger/debugger_env \
		debugger/_debugger_env \
		debugger/__debugger_env \
d375 5
a379 3
		debugger/debugger_type_utilities \
		debugger/_debugger_type_utilities \
		debugger/__debugger_type_utilities \
a461 2
		rts/gen/tags \
		rts/gen/__tags \
@


1.143
log
@Added filesys and path modules.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.142 1995/01/18 18:01:43 jont Exp $
a98 3
		utils/filesys \
		unix/_unixfilesys \
		unix/__filesys \
d381 3
@


1.142
log
@Modify following filename revisions
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.141 1994/12/09 13:18:01 jont Exp $
d99 6
a109 3
		utils/filename \
		unix/_unixfilename \
		unix/__filename \
@


1.141
log
@Moving various files around, creating system link to unix or win_nt
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.140 1994/11/15 13:16:07 matthew Exp $
d99 8
a109 2
		utils/option \
		utils/__option \
a380 6
		utils/getenv \
		unix/_unixgetenv \
		unix/__getenv \
		utils/filename \
		unix/_unixfilename \
		unix/__filename \
@


1.140
log
@Rationalizing
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.139 1994/11/11 18:02:36 jont Exp $
d258 3
a260 3
COMPILER =	make/unix \
		make/_unix \
		make/__unix \
d375 3
a377 3
		basics/getenv \
		basics/_unixgetenv \
		basics/__unixgetenv \
d379 2
a380 2
		utils/_unixfilename \
		utils/__unixfilename \
@


1.139
log
@Load mirtables before mir_cg
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.138 1994/10/12 10:54:19 matthew Exp $
d93 72
a164 1
TYPER =		typechecker/namehash \
a257 121
PARSER =	utils/map \
		basics/ident \
		basics/identprint \
		utils/hashset \
		utils/_hashset \
		utils/set \
		utils/_set \
		utils/__set \
		basics/module_id \
		basics/_module_id \
		basics/__module_id \
		utils/option \
		utils/__option \
		basics/absyn \
		parser/parserenv \
		parser/derived \
		parser/parser \
 		parser/LRbasics \
 		parser/actionfunctions \
 		parser/LRparser \
		parser/_parser \
		utils/_map \
		utils/__map \
		basics/_ident \
		basics/__ident \
		basics/_identprint \
		basics/__identprint \
		utils/counter \
		utils/_counter \
		utils/_debug \
		utils/__debug \
		typechecker/simpletypes \
		typechecker/_simpletypes \
		typechecker/__simpletypes \
		typechecker/datatypes \
		typechecker/_datatypes \
		typechecker/__datatypes \
		debugger/debugger_env \
		debugger/_debugger_env \
		debugger/__debugger_env \
		basics/_absyn \
		basics/__absyn \
		parser/_parserenv \
		parser/__parserenv \
		parser/_derived \
		parser/__derived \
 		parser/_LRbasics \
 		parser/_LRparser \
 		parser/_actionfunctions \
 		parser/__LRbasics \
 		parser/__actionfunctions \
 		parser/__LRparser \
		parser/__parser \
		lambda/pretty \
		lambda/_pretty \
		lambda/__pretty \
		utils/sexpr \
		utils/_sexpr \
		utils/__sexpr \
		typechecker/ty_debug \
		typechecker/__ty_debug \
		typechecker/types \
		typechecker/_types \
		typechecker/__types \
		basics/absynprint \
		basics/_absynprint \
		basics/__absynprint \
		lambda/topdecprint \
		lambda/_topdecprint \
		lambda/__topdecprint

DEBUGGER =	utils/text utils/_text \
		utils/__text utils/diagnostic utils/_diagnostic  \
		utils/timer utils/__timer \
		main/pervasives main/_pervasives main/__pervasives \
		utils/newhashtable utils/_newhashtable utils/__newhashtable \
		lambda/lambdatypes lambda/_lambdatypes lambda/__lambdatypes \
		lambda/environtypes lambda/_environtypes \
		lambda/__environtypes \
		typechecker/tyvarenv \
		typechecker/_tyvarenv \
		typechecker/__tyvarenv \
		typechecker/unify \
		typechecker/_unify \
		typechecker/__unify \
		typechecker/scheme typechecker/_scheme typechecker/__scheme \
		typechecker/valenv typechecker/_valenv typechecker/__valenv \
		typechecker/tystr typechecker/_tystr typechecker/__tystr \
		typechecker/tyenv typechecker/_tyenv typechecker/__tyenv \
		typechecker/strenv typechecker/_strenv typechecker/__strenv \
		typechecker/environment typechecker/_environment \
		typechecker/__environment \
		typechecker/sigma typechecker/_sigma typechecker/__sigma \
		typechecker/sigenv typechecker/_sigenv typechecker/__sigenv \
		typechecker/phi typechecker/_phi typechecker/__phi \
		typechecker/funenv typechecker/_funenv typechecker/__funenv \
		typechecker/basis typechecker/_basis typechecker/__basis \
		make/unix make/_unix make/__unix \
		sparc/machtypes sparc/_machtypes sparc/__machtypes \
		main/enc_sub main/_enc_sub main/__enc_sub \
		rts/gen/objectfile rts/gen/__objectfile \
		lambda/environ lambda/_environ lambda/__environ \
		debugger/debugger_types debugger/_debugger_types debugger/__debugger_types \
		debugger/debugger_type_utilities debugger/_debugger_type_utilities \
		debugger/__debugger_type_utilities \
		main/code_module \
		main/__code_module \
		main/encapsulate main/_encapsulate main/__encapsulate \
		debugger/get_type_information debugger/_get_type_information \
		debugger/__get_type_information \
		rts/gen/tags rts/gen/__tags \
		debugger/value_printer_utilities \
		debugger/_value_printer_utilities \
		debugger/__value_printer_utilities \
		debugger/value_printer debugger/_value_printer \
		debugger/__value_printer \
		debugger/debugger_print debugger/_debugger_print \
		debugger/__debugger_print \
		debugger/ml_debugger debugger/_ml_debugger \
		debugger/__ml_debugger \
		debugger/__debugger_toplevel
a277 3
		debugger/debugger_env \
	        debugger/_debugger_env \
		debugger/__debugger_env \
a524 55
CLMSRC =	clm/clm_server_functions \
		clm/clm_types \
		clm/clm \
		clm/widgets \
		clm/callbacks \
		clm/listw \
		clm/text_widget \
		clm/dialogs \
		clm/cursors \
		clm/debugger_window \
		clm/display \
		clm/fileselect \
		clm/listener \
		clm/menubars \
		clm/podium \
		clm/source_display \
		clm/text_pane \
		clm/_callbacks \
		clm/_clm \
		clm/_cursors \
		clm/_debugger_window \
		clm/_dialogs \
		clm/_display \
		clm/_fileselect \
		clm/_listener \
		clm/_listw \
		clm/_menubars \
		clm/_podium \
		clm/_source_display \
		clm/_text_widget \
		clm/_text_pane \
		clm/_widgets \
		clm/__clm_server_functions \
		clm/__clm_types \
		clm/__clm \
		clm/__widgets \
		clm/__display \
		clm/__dialogs \
		clm/__callbacks \
		clm/__listw \
		clm/__text_widget \
		clm/__cursors \
		clm/__fileselect \
		clm/__menubars \
		clm/__source_display \
		clm/__debugger_window \
		clm/__text_pane \
		clm/__listener \
		clm/__podium \
		main/version \
		main/__version \
		interpreter/shell \
		interpreter/_shell \
		interpreter/__shell \
		interpreter/interpreter
a544 3
		debugger/debugger_env \
	        debugger/_debugger_env \
		debugger/__debugger_env \
a640 1
CLMMO =		$(CLMSRC:%=$(SRC)/%.mo)
d672 1
a672 1
	echo $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) > $@@
a676 3
clm-files: force
	echo $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(CLMMO) > clm-files

d706 1
a706 1
	$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save $@@ $(PARSERMO) $(TYPERMO)
d712 1
a712 1
shell.img: lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO)
d714 1
a714 5
	export MLWORKS_PERVASIVE;MLWORKS_PERVASIVE=`pwd`/../pervasive/;$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save $@@ $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO)

clm.img: lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(CLMMO)
	echo make: $@@ from lexer.img
	export MLWORKS_PERVASIVE;MLWORKS_PERVASIVE=`pwd`/../pervasive/;echo 'Shell.save "clm.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(CLMMO)
@


1.138
log
@Renamed lambda/*simpletypes.sml
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.137 1994/10/11 14:50:08 matthew Exp $
d463 3
a468 3
		harp/mirtables \
		harp/_mirtables \
		harp/__mirtables \
@


1.137
log
@New optimizer
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.136 1994/09/28 09:27:32 nickb Exp $
d373 3
a375 3
		lambda/simpletypes \
		lambda/_simpletypes \
		lambda/__simpletypes \
@


1.136
log
@Remove match/match_utils
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.135 1994/09/23 15:27:35 jont Exp $
d62 1
a62 3
		utils/newmap_datatypes \
		utils/__newmap_datatypes \
		utils/_btree \
d64 1
a64 1
		utils/_intbtree \
a83 2
		utils/timer \
		utils/__timer \
d87 2
d224 3
a226 3
	        debugger/debugger_env \
	        debugger/_debugger_env \
	        debugger/__debugger_env \
d292 2
a293 1
		main/code_module main/__code_module \
a307 1

a363 8
		lambda/optimise_lib \
		lambda/_optimise_lib \
		lambda/__optimise_lib \
		lambda/optimise_contract \
		lambda/_optimise_contract \
		lambda/__optimise_contract \
		utils/bignum \
		utils/_bignum \
d370 2
d373 20
a632 1

d819 5
a823 1
batch.img: lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(BATCHMO)
d825 1
a825 1
	$(RUNTIME) $(RUNTIMEOPTS) -pass wombats -verbose -save $@@ wombats -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(BATCHMO)
@


1.135
log
@Move debugger_env stuff to before _absyn
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.134 1994/09/09 17:37:45 jont Exp $
a341 3
		match/match_utils \
		match/_match_utils \
		match/__match_utils \
@


1.134
log
@_pervasives.sml moved back into main
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.133 1994/08/25 16:15:33 matthew Exp $
d226 3
a303 3
	        debugger/debugger_env \
	        debugger/_debugger_env \
	        debugger/__debugger_env \
@


1.133
log
@Removed mir/*switches files
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.132 1994/08/25 15:36:03 matthew Exp $
d260 1
a260 1
		main/pervasives sparc/_pervasives main/__pervasives \
d319 1
a319 1
		sparc/_pervasives \
@


1.132
log
@Moved timer files into lexer images
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.131 1994/08/01 13:12:50 daveb Exp $
a477 3
		harp/switches \
		harp/_switches \
		harp/__switches \
@


1.131
log
@Moved preferences to separate structure.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.130 1994/07/05 14:31:55 daveb Exp $
d86 2
d95 1
a95 3
TYPER =		utils/timer \
		utils/__timer \
		typechecker/namehash \
@


1.130
log
@Added motif/*input.sml
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.129 1994/06/29 13:08:34 daveb Exp $
d530 4
a533 1
		main/__toplevel
@


1.129
log
@Added *file_dialog.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.128 1994/06/21 18:48:41 daveb Exp $
d690 3
@


1.128
log
@Added motif/*output and motif/*evaluator.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.127 1994/06/21 16:03:42 nickh Exp $
d705 3
@


1.127
log
@Use -delivery option for smaller images.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.126 1994/06/13 14:07:20 nickh Exp $
d690 3
d705 3
@


1.126
log
@New runtime directory structure.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.125 1994/05/13 14:40:18 daveb Exp $
d25 2
a26 2
RUNTIME =	../rts/runtime
RUNTIMEOPTS =	-verbose -d 1
@


1.125
log
@Added error browser files.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.124 1994/04/12 11:10:33 jont Exp $
d286 1
a286 1
		rts/objectfile rts/__objectfile \
d295 1
a295 1
		rts/tags rts/__tags \
d440 1
a440 1
		rts/__implicit \
d453 1
a453 1
		rts/implicit \
d504 2
a505 2
		rts/tags \
		rts/__tags \
d514 2
a515 2
		rts/__objectfile \
		rts/objectfile \
@


1.124
log
@Add expression analysis
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.123 1994/03/28 13:45:59 daveb Exp $
d696 3
@


1.123
log
@Shell.save -> Shell.save_image.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.122 1994/03/09 11:37:51 jont Exp $
d403 1
a403 1
		mir/virtualregister \
d405 3
a407 3
		mir/_virtualregister \
		mir/mirtypes \
		mir/_mirtypes \
d409 1
a409 1
		mir/__mirtypes \
d441 12
a452 12
		mir/mirregisters \
		mir/_mirregisters \
		mir/__mirregisters \
		mir/mirprint \
		mir/_mirprint \
		mir/__mirprint \
		mir/mir_env \
		mir/_mir_env \
		mir/__mir_env \
		mir/mir_utils \
		mir/_mir_utils \
		mir/__mir_utils \
d454 18
a471 18
		mir/mir_cg \
		mir/_mir_cg \
		mir/__mir_cg \
		mir/mirtables \
		mir/_mirtables \
		mir/__mirtables \
		mir/mirprocedure \
		mir/registerpack \
		mir/_mirprocedure \
		mir/_registerpack \
		mir/__registerpack \
		mir/__mirprocedure \
		mir/registerallocator \
		mir/mirvariable \
		mir/_mirvariable \
		mir/registercolourer \
		mir/_registercolourer \
		mir/_registerallocator \
d473 17
a489 14
		mir/__gccolourer \
		mir/__nongccolourer \
		mir/__fpcolourer \
		mir/__registerallocator \
		mir/__mirvariable \
		mir/switches \
		mir/_switches \
		mir/__switches \
		mir/stackallocator \
		mir/_stackallocator \
		mir/__stackallocator \
		mir/miroptimiser \
		mir/_miroptimiser \
		mir/__miroptimiser \
@


1.122
log
@Adding code_module
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.121 1994/03/04 12:52:30 jont Exp $
d807 1
a807 1
	export MLWORKS_PERVASIVE;MLWORKS_PERVASIVE=`pwd`/../pervasive/;echo 'Shell.save "tty.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(TTYMO)
d811 1
a811 1
	export MLWORKS_PERVASIVE;MLWORKS_PERVASIVE=`pwd`/../pervasive/;echo 'Shell.save "motif.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(MOTIFMO)
d815 1
a815 1
	echo 'Shell.save "tty.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load shell.img $(INTERMO) $(TTYMO)
d819 1
a819 1
	echo 'Shell.save "motif.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load shell.img $(INTERMO) $(MOTIFMO)
@


1.121
log
@Moved machspec into main
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.120 1994/03/04 11:03:52 jont Exp $
d291 1
d380 3
a412 3
		main/machspec \
		sparc/_machspec \
		sparc/__machspec \
d490 2
@


1.120
log
@Remove dependency of distribution on remaking the images
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.119 1994/03/02 17:45:45 jont Exp $
d409 1
a409 1
		sparc/machspec \
@


1.119
log
@Fix all references to machine to say sparc
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.118 1994/02/02 12:27:34 daveb Exp $
d834 1
a834 1
distribution: $(DISTRIBUTED)
@


1.118
log
@Added basics/*module and basics/*getenv.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.117 1994/01/18 11:33:06 daveb Exp $
d260 1
a260 1
		main/pervasives machine/_pervasives main/__pervasives \
d284 1
a284 1
		machine/machtypes machine/_machtypes machine/__machtypes \
d318 1
a318 1
		machine/_pervasives \
d376 3
a378 3
		machine/machtypes \
		machine/_machtypes \
		machine/__machtypes \
d407 5
a411 5
		machine/_machperv \
		machine/__machperv \
		machine/machspec \
		machine/_machspec \
		machine/__machspec \
d489 9
a497 9
		machine/sparc_opcodes \
		machine/_sparc_opcodes \
		machine/__sparc_opcodes \
		machine/sparc_assembly \
		machine/_sparc_assembly \
		machine/__sparc_assembly \
		machine/sparc_schedule \
		machine/_sparc_schedule \
		machine/__sparc_schedule \
d501 3
a503 3
		machine/_mach_cg \
		machine/__sparc_mach_cg \
		machine/__mach_cg \
d505 3
a507 3
		machine/_machprint \
		machine/__sparc_machprint \
		machine/__machprint \
@


1.117
log
@Moved _pervasives from main to machine.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.116 1993/12/17 15:50:03 io Exp $
d418 6
d427 3
a429 3
		utils/filename \
		utils/_unixfilename \
		utils/__unixfilename \
@


1.116
log
@Moved some signatures from machine to main
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.115 1993/11/18 13:16:58 jont Exp $
d260 1
a260 1
		main/pervasives main/_pervasives main/__pervasives \
d318 1
a318 1
		main/_pervasives \
@


1.115
log
@Changed to allow the sparc specific names for top level machine files
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.114 1993/11/01 16:39:27 nickh Exp jont $
d406 1
a406 1
		machine/machperv \
d494 1
a494 1
		machine/mach_cg \
d498 1
a498 1
		machine/machprint \
@


1.114
log
@Remove utils/table structure, since it is now not used.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.113 1993/09/28 10:16:37 daveb Exp nickh $
d496 1
d500 1
@


1.113
log
@Merged in bug fix.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.112 1993/08/26 18:50:10 daveb Exp daveb $
a385 3
		utils/table \
		utils/_table \
		utils/__table \
@


1.112
log
@Replaced MLWORKS_PERVASIVE_DIR with MLWORKS_PERVASIVE.
Removed -path parameter (the runtime now finds the module names from the
modules themselves).
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.111 1993/08/24 11:14:28 richard Exp daveb $
d28 1
d31 1
d830 5
a834 2
	$(RM) $(DISTRIBUTED:%=$(DISTRIB)/%)
	$(CP) $(DISTRIBUTED) $(DISTRIB)
@


1.112.1.1
log
@Fork for bug fixing
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.112 1993/08/26 18:50:10 daveb Exp jont $
@


1.112.1.2
log
@Changed distribution target to clean target directory, and to compress
images before copying them.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.112.1.1 1993/08/26 18:50:10 jont Exp daveb $
a27 1
UNCOMPRESS =	uncompress
a29 1
MKDIR =		/bin/mkdir
d828 2
a829 5
	$(RM) -r $(DISTDIR)/images
	$(MKDIR) $(DISTDIR)/images
	$(COMPRESS) $(DISTRIBUTED)
	$(CP) $(DISTRIBUTED:%=%.Z) $(DISTDIR)/images
	$(UNCOMPRESS) $(DISTRIBUTED)
@


1.112.1.3
log
@Merged Nick's bug fix into bug fixing branch.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.112.1.2 1993/09/27 17:19:52 daveb Exp daveb $
d386 3
@


1.111
log
@Changed PERVASIVE_DIR to MLWORKS_PERVASIVE_DIR.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.110 1993/08/23 13:42:01 richard Exp richard $
d773 1
a773 1
	$(RUNTIME) $(RUNTIMEOPTS) -path ../pervasive -save $@@ $(PERVASIVEMO)
d789 1
a789 1
	export MLWORKS_PERVASIVE_DIR;MLWORKS_PERVASIVE_DIR=`pwd`/../pervasive/;$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save $@@ $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO)
d793 1
a793 1
	export MLWORKS_PERVASIVE_DIR;MLWORKS_PERVASIVE_DIR=`pwd`/../pervasive/;echo 'Shell.save "clm.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(CLMMO)
d797 1
a797 1
	export MLWORKS_PERVASIVE_DIR;MLWORKS_PERVASIVE_DIR=`pwd`/../pervasive/;echo 'Shell.save "tty.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(TTYMO)
d801 1
a801 1
	export MLWORKS_PERVASIVE_DIR;MLWORKS_PERVASIVE_DIR=`pwd`/../pervasive/;echo 'Shell.save "motif.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(MOTIFMO)
@


1.110
log
@Added lambdaio modules to batch compiler.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.109 1993/08/17 18:19:51 daveb Exp richard $
d789 1
a789 1
	export PERVASIVE_DIR;PERVASIVE_DIR=`pwd`/../pervasive/;$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save $@@ $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO)
d793 1
a793 1
	export PERVASIVE_DIR;PERVASIVE_DIR=`pwd`/../pervasive/;echo 'Shell.save "clm.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(CLMMO)
d797 1
a797 1
	export PERVASIVE_DIR;PERVASIVE_DIR=`pwd`/../pervasive/;echo 'Shell.save "tty.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(TTYMO)
d801 1
a801 1
	export PERVASIVE_DIR;PERVASIVE_DIR=`pwd`/../pervasive/;echo 'Shell.save "motif.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(MOTIFMO)
@


1.109
log
@The dreaded make bug.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.108 1993/08/17 10:41:01 daveb Exp daveb $
d512 3
@


1.108
log
@Added moduleid.  Added parser.img rule for testing build of parser.
@
text
@d20 2
a21 1
# $Id: Makefile,v 1.107 1993/08/11 12:15:02 matthew Exp $
@


1.107
log
@Moved inspector tool before _debugger_window
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.106 1993/08/09 16:17:24 jont Exp $
a22 2
# 
#
d194 3
d421 3
a541 3
		utils/filename \
		utils/_unixfilename \
		utils/__unixfilename \
d767 4
d775 1
a775 1
pervasive.img: $(PERVASIVEMO)
d777 1
a777 1
	$(RUNTIME) $(RUNTIMEOPTS) -save $@@ $(PERVASIVEMO)
@


1.106
log
@Added context_print files
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.105 1993/07/30 15:24:37 nosa Exp $
d672 3
a683 3
		motif/inspector_tool \
		motif/_inspector_tool \
		motif/__inspector_tool \
@


1.105
log
@Added files debugger_env and debugger_print for local and closure
variable inspection in the debugger.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.96 1993/04/27 14:59:10 daveb Exp $
d163 3
@


1.104
log
@Removed *interface.mo.
@
text
@a0 1

d20 1
a20 1
# $Id: Makefile,v 1.103 1993/05/18 08:28:48 richard Exp $
d193 2
a208 2
		utils/option \
		utils/__option \
d293 5
d322 3
d624 6
@


1.103
log
@Added force rule to *-files rules so that they always make.
@
text
@d1 1
d21 1
a21 1
# $Id: Makefile,v 1.102 1993/05/11 16:16:17 matthew Exp richard $
d24 1
a216 3
		typechecker/interface \
		typechecker/_interface \
		typechecker/__interface \
@


1.102
log
@ Added type_debugger files
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.101 1993/05/06 17:28:37 matthew Exp $
d718 1
a718 1
lexer-files:
d721 1
a721 1
pervasive-files:
d724 1
a724 1
batch-files:
d727 1
a727 1
shell-files:
d730 1
a730 1
tty-files:
d733 1
a733 1
clm-files:
d736 1
a736 1
motif-files:
d739 1
a739 1
motif2-files:
d742 1
a742 1
tty2-files:
d745 1
a745 1
script-files:
d748 1
a748 1
ar-files:
d807 1
a807 2


@


1.101
log
@Added new tracing functions.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.100 1993/04/30 16:23:12 matthew Exp matthew $
d177 3
d612 3
a620 3
		interpreter/interprint \
		interpreter/_interprint \
		interpreter/__interprint \
d657 3
a662 3
		motif/debugger_window \
		motif/_debugger_window \
		motif/__debugger_window \
@


1.100
log
@Added shell_utils.  Reordered some other shell files.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.99 1993/04/30 10:42:42 daveb Exp $
d603 3
@


1.99
log
@Moved tooldata after menus.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.98 1993/04/30 10:29:27 matthew Exp daveb $
d598 11
a611 3
		main/compiler \
		main/_compiler \
		main/__compiler \
a617 8
		main/version \
		main/__version \
		main/user_options \
		main/_user_options \
		main/__user_options \
		interpreter/shell_types \
		interpreter/_shell_types \
		interpreter/__shell_types \
@


1.98
log
@Moved editor to before ml_debugger
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.97 1993/04/29 12:31:20 richard Exp matthew $
d642 3
a647 3
		motif/menus \
		motif/_menus \
		motif/__menus \
@


1.97
log
@Added PERVASIVEDIR macro so that images can be built in pervasive
mo files from elsewhere.
Changed default runtime options.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.96 1993/04/27 14:59:10 daveb Exp richard $
d22 2
d595 4
a598 1
INTERSRC =	debugger/ml_debugger \
a626 3
		editor/editor \
		editor/_editor \
		editor/__editor \
@


1.96
log
@Moved motif_utils before fileselect.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.95 1993/04/26 13:29:30 daveb Exp daveb $
d24 1
a24 1
RUNTIMEOPTS =	-verbose -c 2
d33 4
a36 4
PERVASIVE =	pervasive/__builtin_library \
		pervasive/bytearray pervasive/bits pervasive/array \
		pervasive/string pervasive/vector pervasive/mlworks \
		pervasive/__pervasive_library 
a680 1
PERVASIVEMO =	$(PERVASIVE:%=$(SRC)/%.mo)
@


1.95
log
@Moved motif_utils before _debugger_window.
@
text
@d20 1
a20 1
# $Id: Makefile,v 1.94 1993/04/26 13:20:02 richard Exp daveb $
d646 3
a651 3
		motif/motif_utils \
		motif/_motif_utils \
		motif/__motif_utils \
@


1.94
log
@Removed RCS log to work round Makefile size bug in Sun's make.
Ack gag barf.
@
text
@d20 1
a20 1
# $Id$
d649 3
a654 3
		motif/motif_utils \
		motif/_motif_utils \
		motif/__motif_utils \
@


1.93
log
@The dreaded make bug rears its ugly head again.
@
text
@d2 1
a2 1
#     
d20 1
a20 151
# Revision Log
# ------------
# $Log: Makefile,v $
# Revision 1.92  1993/04/21  13:12:46  daveb
# Added motif_utils and browser_tool.
#
# Revision 1.91  1993/04/16  14:43:57  matthew
# Added tooldata files
#
# Revision 1.90  1993/04/15  10:47:46  jont
# Added rules for motif2-files and tty2-files for debugging purposes
#
# Revision 1.89  1993/04/06  17:25:27  jont
# Moved user_options and version from interpreter to main
#
# Revision 1.88  1993/04/05  12:43:42  jont
# Added rules for ml_ar.img and ar-files
#
# Revision 1.87  1993/04/01  17:16:31  matthew
# Added fileselect files
#
# Revision 1.86  1993/04/01  14:50:52  jont
# Added targets and rules for tags programs and runtime script generator
#
# Revision 1.85  1993/03/31  13:39:07  jont
# Reordered slightly to cope with new dependence
#
# Revision 1.84  1993/03/30  09:39:11  matthew
# Added some comment lines because of Make bug.
#
# Revision 1.83  1993/03/30  09:20:29  matthew
# Added "export PERVASIVE_DIR" for shell.img
#
# Revision 1.82  1993/03/29  15:52:53  jont
# Added stuff to get prevasive directory from cwd
#
# Revision 1.81  1993/03/26  19:55:19  matthew
# Added debugger and inspector window stuff
#
# Revision 1.80  1993/03/26  15:45:42  daveb
# Moved options to lexer.img.
#
# Revision 1.79  1993/03/18  09:46:27  matthew
# Added NamesetTypes files
# Reordered some of the typechecker files
#
# Revision 1.78  1993/03/17  13:37:22  matthew
# Added menu files
#
# Revision 1.77  1993/03/12  14:46:27  matthew
# Added inspector files
# Added INTERSRC and INTERMO including commonalities between motif and tty images
# Added tty2.img and motif2.img which build from shell.img (the images are still called
# tty.img and motif.img though
#
# Revision 1.76  1993/03/11  12:07:08  jont
# Added Editor files
#
# Revision 1.75  1993/03/09  16:20:33  matthew
# Added options files
#
# Revision 1.74  1993/03/08  16:26:23  jont
# Made to refer to runtime in rts. Removed clm.img from targets in all.
#
# Revision 1.73  1993/03/03  10:53:18  daveb
# Changed motif.img and tty.img back to building from lexer.img.
# This trades a saving in space for a loss in time.
#
# Revision 1.72  1993/03/02  20:07:44  daveb
# Changes to build tty.img, motif.img or clm.img (although the latter is
# probably broken).
#
# Revision 1.71  1993/03/02  11:18:06  jont
# Moved io out of lexer.img. Removed some no longer relevant targets and rules
#
# Revision 1.70  1993/02/22  18:39:08  matthew
# Moved completion and added typerep_utils
#
# Revision 1.69  1993/02/19  19:30:47  jont
# Removed duplicated loads of delayed_newhashtable sig and fun
#
# Revision 1.68  1993/02/11  10:54:22  jont
# Changes for code vector reform.
#
# Revision 1.67  1993/02/09  18:30:17  matthew
# Changed to reflect new typechecker module structure
#
# Revision 1.66  1993/02/05  15:34:20  matthew
# Moved newhashtable to before environment
# and interface to before datatypes
#
# Revision 1.65  1993/01/07  13:08:57  jont
# Changed all to refer to interpreter.img instead of shell.img
#
# Revision 1.64  1993/01/04  17:41:46  jont
# Added machprint, _machprint, __machprint
#
# Revision 1.63  1992/12/21  12:17:10  daveb
# Added pervasive/vector.
#
# Revision 1.62  1992/12/16  11:21:27  richard
# Added rules for interpreter.img and distribution.
#
# Revision 1.61  1992/12/14  18:41:00  jont
# Stopped irrelevant images being made by default
#
# Revision 1.60  1992/12/04  16:40:20  richard
# Added version module to batch.  Batch is now built straight from
# the lexer.
#
# Revision 1.59  1992/12/03  14:57:34  jont
# Removed stream, no longer used
#
# Revision 1.58  1992/12/01  10:43:37  clive
# Added the version file
#
# Revision 1.57  1992/11/27  10:48:15  matthew
# Changed file text to text_widget
#
# Revision 1.56  1992/11/26  16:53:24  matthew
# Added clm files
#
# Revision 1.55  1992/11/24  11:12:39  clive
# shell-files line was incorrect
#
# Revision 1.54  1992/11/21  19:47:34  jont
# Added machperv files
#
# Revision 1.53  1992/11/20  17:39:50  jont
# Removed __counter, no longer used. Removed duplicated instances of
# timer and __timer
#
# Revision 1.52  1992/11/19  18:39:58  matthew
# Added recompile to interpreter.
#
# Revision 1.51  1992/11/19  10:53:18  clive
# Changed to reflect Matthew's info changes
#
# Revision 1.50  1992/11/17  11:08:53  clive
# Deleted some of the RCS comments - if the file gets too big, then make has problems
#
# Revision 1.49  1992/11/10  15:07:05  clive
# Took out debugger.img (no longer needed)
#
# Revision 1.48  1992/11/07  12:20:38  richard
# Removed curry_reduce module.
# Changed shell.img to build from lexer.img.
#
#
#
#
@


1.92
log
@Added motif_utils and browser_tool.
@
text
@d2 1
a2 1
#
d23 3
@


1.91
log
@Added tooldata files
@
text
@d23 3
d799 6
@


1.90
log
@Added rules for motif2-files and tty2-files for debugging purposes
@
text
@d23 3
d784 3
@


1.89
log
@Moved user_options and version from interpreter to main
@
text
@d23 3
d856 1
a856 1
	echo  $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(TTYMO) > tty-files
d859 1
a859 1
	echo  $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(CLMMO) > clm-files
d862 7
a868 1
	echo  $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(MOTIFMO) > motif-files
@


1.88
log
@Added rules for ml_ar.img and ar-files
@
text
@d23 3
d638 5
a642 2
		interpreter/version \
		interpreter/__version \
d724 2
a725 2
		interpreter/version \
		interpreter/__version \
d743 5
a747 5
		interpreter/version \
		interpreter/__version \
		interpreter/user_options \
		interpreter/_user_options \
		interpreter/__user_options \
@


1.87
log
@Added fileselect files
@
text
@d23 3
d799 5
d816 1
d858 3
d908 4
@


1.86
log
@Added targets and rules for tags programs and runtime script generator
@
text
@d23 3
d772 3
@


1.85
log
@Reordered slightly to cope with new dependence
@
text
@d23 3
d783 7
d801 1
d803 1
a803 1
.PRECIOUS: pervasive.img lexer.img shell.img clm.img motif.img batch.img
d840 3
d879 12
d894 3
@


1.84
log
@Added some comment lines because of Make bug.
@
text
@d23 3
d235 3
a255 3
		utils/newhashtable \
		utils/_newhashtable \
		utils/__newhashtable \
@


1.83
log
@Added "export PERVASIVE_DIR" for shell.img
@
text
@d23 3
d140 3
@


1.82
log
@Added stuff to get prevasive directory from cwd
@
text
@d23 3
d834 1
a834 1
	PERVASIVE_DIR=`pwd`/../pervasive/;$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save $@@ $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO)
@


1.81
log
@Added debugger and inspector window stuff
@
text
@d23 3
d831 1
a831 1
	$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save $@@ $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO)
d835 1
a835 1
	echo 'Shell.save "clm.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(CLMMO)
d839 1
a839 1
	echo 'Shell.save "tty.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(TTYMO)
d843 1
a843 1
	echo 'Shell.save "motif.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERMO) $(MOTIFMO)
@


1.80
log
@Moved options to lexer.img.
@
text
@d23 3
d751 6
@


1.79
log
@Added NamesetTypes files
Reordered some of the typechecker files
@
text
@d23 4
d187 3
a288 3
		main/options \
		main/_options \
		main/__options \
@


1.78
log
@Added menu files
@
text
@d23 3
a125 4
#
#
#
#
d192 12
d234 3
a285 3
		typechecker/simpletypes \
		typechecker/interface \
		typechecker/datatypes \
d287 1
d289 2
a290 4
		utils/option \
		utils/__option \
		typechecker/basistypes \
		typechecker/nameset \
a298 1
		typechecker/_datatypes \
d305 2
a307 1
		typechecker/_simpletypes \
d311 2
d314 1
d317 2
a319 18
		utils/_set \
		utils/__set \
		typechecker/__ty_debug \
		typechecker/ty_debug \
		typechecker/types \
		typechecker/_types \
		typechecker/__types \
		typechecker/strnames \
		typechecker/_strnames \
		typechecker/__strnames \
		utils/_hashset \
		typechecker/_basistypes \
		typechecker/_nameset \
		typechecker/namehash \
		typechecker/_namehash \
		typechecker/__namehash \
		typechecker/__basistypes \
		typechecker/__nameset \
d339 5
d359 2
a360 1
		typechecker/tyvarenv typechecker/_tyvarenv \
d362 3
a364 1
		typechecker/unify typechecker/_unify typechecker/__unify \
@


1.77
log
@Added inspector files
Added INTERSRC and INTERMO including commonalities between motif and tty images
Added tty2.img and motif2.img which build from shell.img (the images are still called
tty.img and motif.img though
@
text
@d23 6
d736 3
@


1.76
log
@Added Editor files
@
text
@d23 3
d683 1
a683 1
TTYSRC =	debugger/ml_debugger \
d706 6
d723 3
a725 2
		interpreter/__tty_listener \
		interpreter/interpreter
d727 1
a727 13
MOTIFSRC =	debugger/ml_debugger \
		debugger/_ml_debugger \
		debugger/__ml_debugger \
		main/compiler \
		main/_compiler \
		main/__compiler \
		interpreter/interprint \
		interpreter/_interprint \
		interpreter/__interprint \
		make/recompile \
		make/_recompile \
		make/__recompile \
		library/xm \
a729 23
		interpreter/action_queue \
		interpreter/_action_queue \
		interpreter/__action_queue \
		interpreter/user_options \
		interpreter/_user_options \
		interpreter/__user_options \
		interpreter/shell_types \
		interpreter/_shell_types \
		interpreter/__shell_types \
		interpreter/version \
		interpreter/__version \
		editor/editor \
		editor/_editor \
		editor/__editor \
		interpreter/shell_structure \
		interpreter/_shell_structure \
		interpreter/__shell_structure \
		interpreter/shell \
		interpreter/_shell \
		interpreter/__shell \
		interpreter/tty_listener \
		interpreter/_tty_listener \
		interpreter/__tty_listener \
d745 1
d779 1
a779 1
	echo  $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(TTYMO) > tty-files
d785 1
a785 1
	echo  $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(MOTIFMO) > motif-files
d807 1
a807 1
tty.img: lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(TTYMO)
d809 1
a809 1
	echo 'Shell.save "tty.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(TTYMO)
d811 1
a811 1
motif.img: lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(MOTIFMO) 
d813 9
a821 1
	echo 'Shell.save "motif.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(MOTIFMO)
@


1.75
log
@Added options files
@
text
@d23 3
d703 3
d743 3
@


1.74
log
@Made to refer to runtime in rts. Removed clm.img from targets in all.
@
text
@d23 3
d111 4
d256 3
@


1.73
log
@Changed motif.img and tty.img back to building from lexer.img.
This trades a saving in space for a loss in time.
@
text
@d23 4
d109 1
a109 1
RUNTIME =	runtime
a134 2
		utils/option \
		utils/__option \
d255 2
d758 1
a758 1
all: pervasive.img lexer.img motif.img clm.img batch.img
@


1.72
log
@Changes to build tty.img, motif.img or clm.img (although the latter is
probably broken).
@
text
@d23 4
d105 1
a105 1
RUNTIME =	../rts/mlrunx-g
d808 1
a808 1
tty.img: shell.img $(TTYMO)
d810 1
a810 1
	echo 'Shell.save "tty.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load shell.img $(TTYMO)
d812 3
a814 3
motif.img: shell.img $(MOTIFMO) 
	echo make: $@@ from shell.img
	echo 'Shell.save "motif.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load shell.img $(MOTIFMO)
@


1.71
log
@Moved io out of lexer.img. Removed some no longer relevant targets and rules
@
text
@d23 3
d101 1
a101 1
RUNTIME =	../rts/runtime
d108 1
a108 1
DISTRIBUTED =	pervasive.img batch.img interpreter.img
d601 3
a603 11
		interpreter/__incremental \
		debugger/ml_debugger \
		debugger/_ml_debugger \
		debugger/__ml_debugger \
		interpreter/interprint \
		interpreter/_interprint \
		interpreter/__interprint \
		make/recompile \
		make/_recompile \
		make/__recompile \
		clm/clm_server_functions \
d656 36
a691 1
		interpreter/__shell
d693 42
a734 1
INTERPRETER =	interpreter/interpreter
d743 3
a745 1
INTERPRETERMO =	$(INTERPRETER:%=$(SRC)/%.mo)
d747 1
a747 1
.PRECIOUS: pervasive.img lexer.img shell.img batch.img
d750 1
a750 1
all: pervasive.img lexer.img interpreter.img batch.img
d772 5
a776 2
interpreter-files:
	echo  $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERPRETERMO) > interpreter-files
d778 6
d796 5
a800 1
interpreter: lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERPRETERMO)
d802 1
a802 1
	$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERPRETERMO)
d804 1
a804 1
interpreter.img: lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERPRETERMO)
d806 5
a810 1
	echo 'Shell.save "interpreter.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) $(INTERPRETERMO)
@


1.70
log
@Moved completion and added typerep_utils
@
text
@d23 3
a146 3
		main/io \
		main/_io \
		main/__io \
a247 1
		basics/ident \
a289 1
		basics/__ident \
a295 1
		utils/__set \
d469 3
a601 3
		main/compiler \
		main/_compiler \
		main/__compiler \
d674 1
a674 1
.PRECIOUS: pervasive.img lexer.img parser.img typer.img compiler.img shell.img batch.img
a689 6
typer-files:
	echo $(TYPERMO) > $@@

parser-files:
	echo $(PARSERMO) > $@@

a695 3
compiler-files:
	echo $(COMPILERMO) > $@@

a698 3
shell-files:
	echo $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO) > $@@

a701 8
parser.img: lexer.img $(PARSERMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save $@@ $(PARSERMO)

typer.img: parser.img $(TYPERMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -load parser.img -save $@@ $(TYPERMO)

a708 12

compiler.img: typer.img $(COMPILERMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -load typer.img -save $@@ $(COMPILERMO)

# batch.img: compiler.img $(BATCHMO)
#	echo make: $@@
#	$(RUNTIME) $(RUNTIMEOPTS) -pass wombats -verbose -save $@@ wombats -load compiler.img $(BATCHMO)

shell.img: lexer.img $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save $@@ $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(SHELLMO)
@


1.69
log
@Removed duplicated loads of delayed_newhashtable sig and fun
@
text
@d23 3
d171 3
a216 1
		typechecker/completion \
a217 2
		typechecker/_completion \
		typechecker/__completion \
d410 3
@


1.68
log
@Changes for code vector reform.
@
text
@d23 3
a409 2
		utils/delayed_newhashtable \
		utils/_delayed_newhashtable \
@


1.67
log
@Changed to reflect new typechecker module structure
@
text
@d23 3
d533 2
a570 1
		rts/tags rts/__tags \
d702 1
a702 1
	echo $(BATCHMO) > $@@
@


1.66
log
@Moved newhashtable to before environment
and interface to before datatypes
@
text
@d23 4
d235 3
a239 1
		utils/set \
a273 1
		utils/hashset \
d275 1
d280 1
@


1.65
log
@Changed all to refer to interpreter.img instead of shell.img
@
text
@d23 3
d173 3
a196 3
		utils/newhashtable \
		utils/_newhashtable \
		utils/__newhashtable \
d229 1
a231 1
		typechecker/interface \
d255 2
a274 2
		typechecker/_interface \
		typechecker/__interface \
@


1.64
log
@Added machprint, _machprint, __machprint
@
text
@d23 3
d659 1
a659 1
all: pervasive.img lexer.img shell.img batch.img
@


1.63
log
@Added pervasive/vector.
@
text
@d23 3
d520 3
@


1.62
log
@Added rules for interpreter.img and distribution.
@
text
@d23 3
d84 2
a85 2
		pervasive/bytearray pervasive/bits \
		pervasive/string pervasive/array pervasive/mlworks \
@


1.61
log
@Stopped irrelevant images being made by default
@
text
@d23 3
d74 1
d76 2
d719 8
@


1.60
log
@Added version module to batch.  Batch is now built straight from
the lexer.
@
text
@d23 4
d641 1
a641 1
all: pervasive.img lexer.img parser.img typer.img compiler.img shell.img batch.img
@


1.59
log
@Removed stream, no longer used
@
text
@d23 3
d522 2
d694 3
a696 3
batch.img: compiler.img $(BATCHMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -pass wombats -verbose -save $@@ wombats -load compiler.img $(BATCHMO)
d701 4
@


1.58
log
@Added the version file
@
text
@d23 3
a87 3
		utils/stream \
		utils/_stream \
		utils/__stream \
@


1.57
log
@Changed file text to text_widget
@
text
@d23 3
d612 2
@


1.56
log
@Added clm files
@
text
@d23 3
d566 1
a566 1
		clm/text \
d589 1
a589 1
		clm/_text \
d600 1
a600 1
		clm/__text \
@


1.55
log
@shell-files line was incorrect
@
text
@d23 3
d557 49
@


1.54
log
@Added machperv files
@
text
@d23 3
d604 1
a604 1
	echo $(SHELLMO) > $@@
@


1.53
log
@Removed __counter, no longer used. Removed duplicated instances of
timer and __timer
@
text
@d23 4
d406 3
@


1.52
log
@Added recompile to interpreter.
@
text
@d23 3
a179 2
		utils/timer \
		utils/__timer \
a238 1
		utils/__counter \
@


1.51
log
@Changed to reflect Matthew's info changes
@
text
@d23 3
d541 3
@


1.50
log
@Deleted some of the RCS comments - if the file gets too big, then make has problems
@
text
@d23 3
d63 6
a68 3
		main/error \
		main/_error \
		main/__error \
@


1.49
log
@Took out debugger.img (no longer needed)
@
text
@d23 3
a29 133
# Revision 1.47  1992/10/26  11:29:21  clive
# Took out trace
#
# Revision 1.46  1992/10/15  14:59:14  richard
# Removed unused module `cury'.
#
# Revision 1.45  1992/10/14  18:32:29  richard
# Changed the way that the interpreter is built.
#
# Revision 1.44  1992/10/08  16:51:12  clive
# Added some files for the newly organised debugger
#
# Revision 1.43  1992/10/07  15:52:08  richard
# Added compiler structure before incremental.  Eventually this will
# replace toplevel as well.
#
# Revision 1.41  1992/10/05  14:09:16  clive
# Change to NewMap.empty which now takes < and = functions instead of the single-function
#
# Revision 1.40  1992/10/01  16:32:27  richard
# Added shell rule.
#
# Revision 1.38  1992/09/22  16:31:41  clive
# Added __newhashtable and __delayed_newhashtable
#
# Revision 1.37  1992/09/21  16:14:12  jont
# Updated to include delayed_newhashtable
#
# Revision 1.36  1992/09/09  11:45:27  richard
# Added rules for interpreter.img and batch.img.
#
# Revision 1.34  1992/09/01  16:17:29  richard
# Removed lexbasics in favour of error.
#
# Revision 1.33  1992/08/27  19:17:04  jont
# Removed io from list of files needed by debugger and compiler.
# The lexer gets them.
#
# Revision 1.32  1992/08/26  15:07:07  matthew
# Added new parser files.
#
# Revision 1.31  1992/08/25  10:11:35  richard
# Added bits module to pervasive image.
#
# Revision 1.30  1992/08/22  14:04:36  clive
# Needed the terminating semicolon now in the exportML command
#
# Revision 1.29  1992/08/21  15:20:53  clive
# Added topaux
#
# Revision 1.28  1992/08/21  08:14:25  richard
# Moved the pervasive files to a pervasive directory.
#
# Revision 1.27  1992/08/20  08:33:07  clive
# Added mlworks.img
#
# Revision 1.26  1992/08/18  13:53:34  davidt
# Signature lexgen and functor _lexer are no longer used. There is now a structure __lexrules.
#
# Revision 1.25  1992/08/17  14:44:31  davidt
# Added main/io main/_io and main/__io to list of loaded modules.
#
# Revision 1.24  1992/08/15  14:48:57  clive
# Tool lambdatest out of loaded files for compiler.img
#
# Revision 1.23  1992/08/14  13:08:37  jont
# Added rules for making a compiler.img
#
# Revision 1.22  1992/08/14  10:36:03  clive
# Changed to reflect changes to the value_printer
#
# Revision 1.21  1992/08/11  09:04:26  richard
# Changed files required for pervasive library.
# Removed some redundant files from the lexer list.
#
# Revision 1.20  1992/08/05  14:43:45  richard
# Removed -size option from pervasive.img rules.
#
# Revision 1.19  1992/08/05  11:21:07  jont
# Removed array and __array from files required by lexer
#
# Revision 1.18  1992/07/30  08:56:10  clive
# No longer hashtables - now newhashtables
#
# Revision 1.17  1992/07/29  11:52:14  clive
# More upto date
#
# Revision 1.16  1992/07/23  10:50:38  jont
# Added newhashtable to typer files
#
# Revision 1.15  1992/07/16  10:46:54  clive
# Added dependency between debugger.img and parser.img
#
# Revision 1.14  1992/07/14  14:55:13  clive
# A few changes to the debugger.img definition
#
# Revision 1.13  1992/07/09  09:48:19  clive
# Added run-inter to run the interpreter
#
# Revision 1.12  1992/07/07  15:52:11  davida
# Added run-inter for building/executing the interpreter.
#
# Revision 1.10  1992/06/12  15:08:53  clive
# Debugger.img specification changed
#
# Revision 1.9  1992/06/11  10:29:45  clive
# Added build details for the debugger
#
# Revision 1.8  1992/05/18  12:16:36  jont
# Corrected for new dependencies. Added build of typer.img
#
# Revision 1.7  1992/05/11  10:01:32  jont
# Added rules to make typechecker image
#
# Revision 1.6  1992/04/15  11:09:00  richard
# Added instructions and reinstated command line use of module files.
#
# Revision 1.5  1992/04/06  09:37:16  richard
# Fixed rules for file list files.  Added backup rule.
#
# Revision 1.4  1992/03/26  15:41:28  richard
# Changed runtime invocations to use module list files generated
# from make variables.  This makes use of adb easier in the event of
# a crash.
#
# Revision 1.3	1992/03/19  17:02:10  richard
# Changed options to runtime.
#
# Revision 1.2	1992/03/19  13:55:23  richard
# Added `clean' rule.
#
# Revision 1.1	1992/03/19  13:20:59  richard
# Initial revision
@


1.48
log
@Removed curry_reduce module.
Changed shell.img to build from lexer.img.
@
text
@d23 4
a671 1
DEBUGGERMO =	$(DEBUGGER:%=$(SRC)/%.mo)
a704 3
debugger-files:
	echo $(DEBUGGERMO) > $@@

a731 4

debugger.img: parser.img $(DEBUGGERMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -load parser.img -save $@@ $(DEBUGGERMO)
@


1.47
log
@Took out trace
@
text
@d23 3
d27 1
a27 1
# Removed unused module `curry'.
d179 2
d196 2
a550 3
		lambda/curry_reduce \
		lambda/_curry_reduce \
		lambda/__curry_reduce \
d714 3
d745 1
a745 1
shell.img: compiler.img $(SHELLMO)
d747 1
a747 1
	$(RUNTIME) $(RUNTIMEOPTS) -load compiler.img -save $@@ $(SHELLMO)
@


1.46
log
@Removed unused module `curry'.
@
text
@d23 3
a644 3
		debugger/trace \
		debugger/_trace \
		debugger/__trace \
@


1.45
log
@Changed the way that the interpreter is built.
@
text
@d23 3
a526 3
		lambda/curry \
		lambda/_curry \
		lambda/__curry \
d593 4
a599 1
		rts/objectfile \
a602 3
		lambda/lambdamodule \
		lambda/_lambdamodule \
		lambda/__lambdamodule \
d605 3
a607 2
		main/__toplevel \
		make/recompile \
d609 2
a610 3
		make/__recompile

BATCH =		main/batch \
@


1.44
log
@Added some files for the newly organised debugger
@
text
@d23 3
d614 1
a614 1
INTERPRETER =   debugger/get_type_information \
d630 9
a647 23
		interpreter/str_print \
		interpreter/_str_print \
		interpreter/__str_print \
		interpreter/topaux \
		interpreter/_topaux \
		interpreter/__topaux \
		interpreter/toploop \
		interpreter/_toploop \
		interpreter/__toploop

SHELLFILES =	debugger/get_type_information \
		debugger/_get_type_information \
		debugger/__get_type_information \
		interpreter/inter_envtypes \
		interpreter/_inter_envtypes \
		interpreter/__inter_envtypes \
		rts/tags rts/__tags \
		debugger/value_printer_utilities \
		debugger/_value_printer_utilities \
		debugger/__value_printer_utilities \
		debugger/value_printer \
		debugger/_value_printer \
		debugger/__value_printer \
a650 15
		interpreter/incremental \
		interpreter/_incremental \
		interpreter/__incremental \
		debugger/trace \
		debugger/_trace \
		debugger/__trace \
		debugger/ml_debugger \
		debugger/_ml_debugger \
		debugger/__ml_debugger \
		main/compiler \
		main/_compiler \
		main/__compiler \
		interpreter/incremental \
		interpreter/_incremental \
		interpreter/__incremental \
d658 2
d667 2
a668 2
INTERPRETERMO = $(INTERPRETER:%=$(SRC)/%.mo)
SHELLMO =	$(SHELLFILES:%=$(SRC)/%.mo)
d670 1
a670 1
.PRECIOUS: pervasive.img lexer.img parser.img typer.img
d673 1
a673 1
all: pervasive.img lexer.img parser.img typer.img compiler.img
a677 1

a685 3
inter-files:
	echo $(INTERPRETERMO) > $@@

a709 3
interpreter-files:
	echo $(INTERPRETERMO) > $@@

d738 1
a738 1
interpreter.img: compiler.img $(INTERPRETERMO)
d740 1
a740 1
	echo 'exportML "interpreter.img";' | $(RUNTIME) $(RUNTIMEOPTS) -load compiler.img $(INTERPRETERMO)
d742 3
a744 12
shell: compiler.img $(SHELLMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -load compiler.img $(SHELLMO)

mlworks.img: $(INTERPRETERMO) $(COMPILERMO) $(TYPERMO) $(PARSERMO) $(LEXERMO) $(PERVASIVEMO)
	echo make: $@@
	echo $(PERVASIVEMO) $(LEXERMO) $(PARSERMO) $(TYPERMO) $(COMPILERMO) $(INTERPRETERMO) > mlworks-files
	echo "exportML \"mlworks.img\";" | $(RUNTIME) $(RUNTIMEOPTS) -from mlworks-files

mlworks: mlworks.img
	echo $(RUNTIME) $(RUNTIMEOPTS) -load mlworks.img > mlworks
	chmod +x mlworks
@


1.43
log
@Added compiler structure before incremental.  Eventually this will
replace toplevel as well.
@
text
@d23 4
d624 9
d659 9
@


1.42
log
@Removed lambda/[_[_]]curry - no longer used.
@
text
@d517 3
d605 1
a605 1
		main/__batch  
d649 3
@


1.41
log
@Change to NewMap.empty which now takes < and = functions instead of the single-function
@
text
@d23 3
a516 3
		lambda/curry \
		lambda/_curry \
		lambda/__curry \
d602 1
a602 1
		main/__batch
@


1.40
log
@Added shell rule.
@
text
@d23 3
d160 2
a161 2
		utils/_btree \
		utils/__btree \
d165 10
a180 8
		utils/option \
		utils/__option \
		main/error \
		main/_error \
		main/__error \
		utils/crash \
		utils/_crash \
		utils/__crash \
@


1.39
log
@Removed references to curry, _curry and __curry, these are now redundant
@
text
@d436 2
d509 3
d585 3
d625 26
d659 1
d702 6
d739 4
@


1.38
log
@Added __newhashtable and __delayed_newhashtable
@
text
@d23 3
a506 3
		lambda/curry \
		lambda/_curry \
		lambda/__curry \
@


1.37
log
@Updated to include delayed_newhashtable
@
text
@d23 3
d238 1
d352 1
a352 1
		utils/newhashtable utils/_newhashtable \
d442 1
@


1.36
log
@Added rules for interpreter.img and batch.img.
@
text
@d23 3
d436 2
@


1.35
log
@Installed central error reporting mechanism.
@
text
@d575 1
a575 1
		make/__recompile 
d577 4
d613 1
d654 3
d681 8
a696 4

run-inter: compiler.img $(INTERPRETERMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -load compiler.img $(INTERPRETERMO)
@


1.34
log
@Removed lexbasics in favour of error.
@
text
@d23 3
d150 3
d186 76
a277 1
 		parser/parsing-errors \
a321 1
 		parser/_parsing-errors \
a324 1
 		parser/__parsing-errors \
a340 79
TYPER =		utils/timer \
		utils/__timer \
		typechecker/tyvarenv \
		typechecker/_tyvarenv \
		typechecker/__tyvarenv \
		typechecker/unify \
		typechecker/_unify \
		typechecker/__unify \
		typechecker/scheme \
		typechecker/_scheme \
		typechecker/__scheme \
		typechecker/valenv \
		typechecker/_valenv \
		typechecker/__valenv \
		typechecker/tystr \
		typechecker/_tystr \
		typechecker/__tystr \
		typechecker/tyenv \
		typechecker/_tyenv \
		typechecker/__tyenv \
		typechecker/strenv \
		typechecker/_strenv \
		typechecker/__strenv \
		typechecker/environment \
		typechecker/_environment \
		typechecker/__environment \
		typechecker/sigma \
		typechecker/_sigma \
		typechecker/__sigma \
		typechecker/phi \
		typechecker/_phi \
		typechecker/__phi \
		typechecker/sigenv \
		typechecker/_sigenv \
		typechecker/__sigenv \
		typechecker/funenv \
		typechecker/_funenv \
		typechecker/__funenv \
		typechecker/basis \
		typechecker/_basis \
		typechecker/__basis \
		typechecker/errors \
		typechecker/_errors \
		typechecker/__errors \
		typechecker/type_exp \
		typechecker/_type_exp \
		typechecker/__type_exp \
		utils/newhashtable \
		utils/_newhashtable \
		typechecker/assemblies \
		typechecker/_assemblies \
		typechecker/__assemblies \
		typechecker/control_unify \
		typechecker/completion \
		typechecker/_control_unify \
		typechecker/_completion \
		typechecker/__completion \
		typechecker/__control_unify \
		typechecker/patterns \
		typechecker/_patterns \
		typechecker/__patterns \
		typechecker/core_rules \
		typechecker/_core_rules \
		typechecker/__core_rules \
		typechecker/sharetypes \
		typechecker/_sharetypes \
		typechecker/__sharetypes \
		typechecker/share \
		typechecker/_share \
		typechecker/__share \
		typechecker/realise \
		typechecker/_realise \
		typechecker/__realise \
		utils/timer \
		utils/__timer \
		typechecker/mod_rules \
		typechecker/_mod_rules \
		typechecker/__mod_rules

a602 1

a630 4
run-inter: compiler.img $(INTERPRETERMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -load compiler.img $(INTERPRETERMO)

a633 4
typer.img: parser.img $(TYPERMO)
	echo make: $@@
	$(RUNTIME) $(RUNTIMEOPTS) -load parser.img -save $@@ $(TYPERMO)

d637 12
d653 3
a655 2
lexer-files:
	echo $(LEXERMO) > $@@
a660 3
pervasive-files:
	echo $(PERVASIVEMO) > $@@

a664 3
debugger-files:
	echo $(DEBUGGERMO) > $@@

a668 3
compiler-files:
	echo $(COMPILERMO) > $@@

d681 4
@


1.33
log
@Removed io from list of files needed by debugger and compiler.
The lexer gets them.
@
text
@d23 4
d153 5
a172 3
		lexer/lexbasics \
		lexer/_lexbasics \
		lexer/__lexbasics \
a475 2
		utils/option \
		utils/__option \
@


1.32
log
@Added new parser files.
@
text
@d23 3
a366 1
		main/io main/_io main/__io \
a565 3
		main/io \
		main/_io \
		main/__io \
@


1.31
log
@Added bits module to pervasive image.
@
text
@d23 3
d184 4
d231 8
@


1.30
log
@Needed the terminating semicolon now in the exportML command
@
text
@d23 3
d122 1
@


1.29
log
@Added topaux
@
text
@d23 3
d659 1
a659 1
	echo "exportML \"mlworks.img\"" | $(RUNTIME) $(RUNTIMEOPTS) -from mlworks-files
@


1.28
log
@Moved the pervasive files to a pervasive directory.
@
text
@d23 3
d571 3
@


1.27
log
@Added mlworks.img
@
text
@d23 3
d112 3
a114 1
PERVASIVE =	rts/__builtin_library rts/string rts/array rts/mlworks rts/__pervasive_library 
@


1.26
log
@Signature lexgen and functor _lexer are no longer used. There is now a structure __lexrules.
@
text
@d23 3
d641 9
@


1.25
log
@Added main/io main/_io and main/__io to list of loaded modules.
@
text
@d23 3
d144 2
a145 1
		lexer/lexgen \
a146 1
		lexer/_lexrules \
a147 1
		lexer/_lexer \
@


1.24
log
@Tool lambdatest out of loaded files for compiler.img
@
text
@d23 3
d125 3
@


1.23
log
@Added rules for making a compiler.img
@
text
@d23 3
d531 1
a531 2
		make/__recompile \
		lambda/lambdatest
@


1.22
log
@Changed to reflect changes to the value_printer
@
text
@d23 3
d333 1
a333 1
INTERPRETER =   make/unix \
a437 3
		utils/balancedtree \
		utils/_balancedtree \
		utils/__balancedtree \
a508 3
		machine/save \
		machine/_save \
		machine/__save \
d526 7
a532 1
		debugger/get_type_information debugger/_get_type_information \
a549 3
		make/recompile \
		make/_recompile \
		make/__recompile \
d560 1
d566 1
a566 1
all: pervasive.img lexer.img parser.img typer.img
d583 1
a583 1
run-inter: typer.img $(INTERPRETERMO)
d585 1
a585 1
	$(RUNTIME) $(RUNTIMEOPTS) -load typer.img $(INTERPRETERMO)
d621 7
@


1.21
log
@Changed files required for pervasive library.
Removed some redundant files from the lexer list.
@
text
@d23 4
d320 4
d534 4
@


1.20
log
@Removed -size option from pervasive.img rules.
@
text
@d23 3
d90 1
a90 1
PERVASIVE =	rts/__builtin_library rts/__pervasive_library 
a93 2
		utils/string \
		utils/__string \
@


1.19
log
@Removed array and __array from files required by lexer
@
text
@d23 3
d599 1
a599 1
	$(RUNTIME) $(RUNTIMEOPTS) -size 2 -save $@@ $(PERVASIVEMO)
d606 1
a606 1
	$(RUNTIME) $(RUNTIMEOPTS) -size 2 -load parser.img -save $@@ $(DEBUGGERMO)
@


1.18
log
@No longer hashtables - now newhashtables
@
text
@d23 3
a95 2
		utils/array \
		utils/__array \
@


1.17
log
@More upto date
@
text
@d23 3
d280 1
a300 1
		utils/newhashtable utils/_newhashtable \
a364 2
		utils/hashtable \
		utils/_hashtable \
a387 2
		utils/hashtable-with-extras \
		utils/_hashtable-with-extras \
@


1.16
log
@Added newhashtable to typer files
@
text
@d23 3
d78 1
a78 1
PERVASIVE =	rts/__callc_codes rts/__builtin_library rts/__pervasive_library
d297 1
a297 1
		utils/hashtable utils/_hashtable \
d305 1
d311 2
a312 1
		debugger/__ml_debugger 
d334 3
d378 3
a383 3
		lambda/optimise_beta \
		lambda/_optimise_beta \
		lambda/__optimise_beta \
a404 3
		debugger/debugger_types \
		debugger/_debugger_types \
		debugger/__debugger_types \
d449 3
d511 3
a518 1
		rts/callc_codes \
d531 3
@


1.15
log
@Added dependency between debugger.img and parser.img
@
text
@d23 3
d238 2
d583 1
a583 1
	$(RUNTIME) $(RUNTIMEOPTS) -preallocate 2 -save $@@ $(PERVASIVEMO)
d590 1
a590 1
	$(RUNTIME) $(RUNTIMEOPTS) -preallocate 2 -load parser.img -save $@@ $(DEBUGGERMO)
@


1.14
log
@A few changes to the debugger.img definition
@
text
@d23 3
d583 1
a583 1
debugger.img: $(DEBUGGERMO)
@


1.13
log
@Added run-inter to run the interpreter
@
text
@d23 3
d290 3
@


1.12
log
@Added run-inter for building/executing the interpreter.
@
text
@d23 3
d395 3
d501 3
@


1.11
log
@Updated dependencies of parser.img and typer.img
@
text
@d256 2
a257 1
DEBUGGER =	utils/text utils/_text utils/__text utils/diagnostic utils/_diagnostic  \
d261 4
a264 2
		lambda/environtypes lambda/_environtypes lambda/__environtypes \
		typechecker/tyvarenv typechecker/_tyvarenv typechecker/__tyvarenv \
d271 2
a272 1
		typechecker/environment typechecker/_environment typechecker/__environment \
d285 6
a290 3
		debugger/get_type_information debugger/_get_type_information debugger/__get_type_information \
		debugger/value_printer debugger/_value_printer debugger/__value_printer \
		debugger/ml_debugger debugger/_ml_debugger debugger/__ml_debugger 
d292 211
d508 1
d526 7
@


1.10
log
@Debugger.img specification changed
@
text
@d23 3
d109 69
a177 11
PARSER =	utils/map basics/ident basics/identprint typechecker/simpletypes typechecker/datatypes typechecker/nameset \
		typechecker/interface basics/ident utils/set basics/absyn parser/parserenv parser/derived parser/parser \
		parser/_parser typechecker/_datatypes utils/_map utils/__map basics/_ident basics/__ident basics/_identprint \
		basics/__identprint utils/counter typechecker/_simpletypes utils/_counter utils/_debug utils/__debug \
		typechecker/__simpletypes typechecker/__datatypes utils/_set utils/__set typechecker/__ty_debug \
		typechecker/ty_debug typechecker/types typechecker/_types typechecker/__types typechecker/strnames \
		typechecker/_strnames typechecker/__strnames typechecker/_nameset typechecker/__nameset typechecker/_interface \
		typechecker/__interface basics/__ident basics/_absyn basics/__absyn parser/_parserenv parser/__parserenv \
		utils/__counter parser/_derived parser/__derived utils/__set parser/__parser lambda/pretty lambda/_pretty \
		lambda/__pretty utils/sexpr utils/_sexpr utils/__sexpr basics/absynprint basics/_absynprint basics/__absynprint \
		lambda/topdecprint lambda/_topdecprint lambda/__topdecprint
a251 10
		utils/hashset \
		utils/_hashset \
		typechecker/namehash \
		typechecker/_namehash \
		typechecker/__namehash \
		typechecker/_newnameset \
		typechecker/__newnameset \
		typechecker/newsigma \
		typechecker/_newsigma \
		typechecker/__newsigma \
@


1.9
log
@Added build details for the debugger
@
text
@d23 3
d228 1
d290 1
a290 1
	$(RUNTIME) $(RUNTIMEOPTS) -preallocate 2 load parser.img -save $@@ $(DEBUGGERMO)
@


1.8
log
@Corrected for new dependencies. Added build of typer.img
@
text
@d23 3
d114 1
d202 28
d234 1
d241 4
d280 7
@


1.7
log
@Added rules to make typechecker image
@
text
@d23 3
d55 45
a99 8
LEXER =		utils/print utils/_print utils/__print utils/string utils/__string utils/integer \
		utils/_integer utils/__integer utils/lists utils/_lists utils/__lists utils/array \
		utils/__array utils/crash utils/_crash utils/__crash utils/balancedtree utils/_balancedtree \
		utils/__balancedtree basics/symbol basics/_symbol basics/__symbol basics/token basics/_token \
		basics/__token lexer/ndfa lexer/_ndfa lexer/__ndfa lexer/regexp lexer/_regexp lexer/__regexp \
		lexer/inbuffer lexer/_inbuffer lexer/__inbuffer lexer/lexbasics lexer/_lexbasics \
		lexer/__lexbasics lexer/lexrules lexer/lexgen lexer/lexer lexer/_lexrules lexer/_lexgen \
		lexer/_lexer lexer/__lexer
d111 3
a113 1
TYPER =		typechecker/tyvarenv \
@


1.6
log
@Added instructions and reinstated command line use of module files.
@
text
@d23 3
d71 85
d159 1
d161 1
a161 1
.PRECIOUS: pervasive.img lexer.img parser.img
d164 1
a164 1
all: pervasive.img lexer.img parser.img
d174 7
d186 1
a186 1
	$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save parser.img $(PARSERMO)
d193 1
a193 1
	$(RUNTIME) $(RUNTIMEOPTS) -load pervasive.img -save lexer.img $(LEXERMO)
d200 1
a200 1
	$(RUNTIME) $(RUNTIMEOPTS) -preallocate 2 -save pervasive.img $(PERVASIVEMO)
@


1.5
log
@Fixed rules for file list files.  Added backup rule.
@
text
@d3 17
d23 3
d73 1
a73 1

d75 1
a75 2
all: pervasive-files lexer-files parser-files \
     pervasive.img lexer.img parser.img
d78 1
d82 1
d85 2
a86 2
parser-files::
	@@ echo $(PARSERMO) > $@@
d89 2
a90 1
	$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save parser.img -from parser-files
d92 2
a93 2
lexer-files::
	@@ echo $(LEXERMO) > $@@
d96 2
a97 1
	$(RUNTIME) $(RUNTIMEOPTS) -load pervasive.img -save lexer.img -from lexer-files
d99 2
a100 2
pervasive-files::
	@@ echo $(PERVASIVEMO) > $@@
d103 2
a104 1
	$(RUNTIME) $(RUNTIMEOPTS) -preallocate 2 -save pervasive.img -from pervasive-files
@


1.4
log
@Changed runtime invocations to use module list files generated
from make variables.  This makes use of adb easier in the event of
a crash.
@
text
@d6 5
d53 1
a53 1
.SILENT:
d55 2
a56 1
all: parser.img lexer.img pervasive.img
d61 5
a65 2
parser-files: Makefile
	echo $(PARSERMO) > $@@
a67 1
	echo Building parser...
d70 2
a71 2
lexer-files: Makefile
	echo $(LEXERMO) > $@@
d73 1
a73 2
lexer.img: lexer-files pervasive.img $(LEXERMO)
	echo Building lexer...
d76 2
a77 2
pervasive-files: Makefile
	echo $(PERVASIVEMO) > $@@
d79 1
a79 2
pervasive.img: pervasive-files $(PERVASIVEMO)
	echo Building pervasive...
@


1.3
log
@Changed options to runtime.
@
text
@a2 2
# Notes:  Could do with some more automation.
#
d6 4
a9 1
# Revision 1.2  1992/03/19  13:55:23  richard
d12 1
a12 1
# Revision 1.1  1992/03/19  13:20:59  richard
d17 1
a17 1
RUNTIMEOPTS =   -verbose -c 2 -preallocate 2
d20 2
d23 1
a23 1
PERVASIVE = 	rts/__callc_codes rts/__builtin_library rts/__pervasive_library
d32 1
a32 1
PARSER = 	utils/map basics/ident basics/identprint typechecker/simpletypes typechecker/datatypes typechecker/nameset \
d50 1
a50 1
all: parser.img
d55 4
a58 1
parser.img: lexer.img
d60 1
a60 1
	$(RUNTIME) $(RUNTIMEOPTS) -load lexer.img -save parser.img $(PARSERMO)
d62 4
a65 1
lexer.img: pervasive.img
d67 1
a67 1
	$(RUNTIME) $(RUNTIMEOPTS) -load pervasive.img -save lexer.img $(LEXERMO)
d69 4
a72 1
pervasive.img:
d74 1
a74 1
	$(RUNTIME) $(RUNTIMEOPTS) -generations 0 -save pervasive.img $(PERVASIVEMO)
@


1.2
log
@Added `clean' rule.
@
text
@d8 3
d16 1
a16 1
RUNTIMEOPTS =   -verbose -c 2 -generations 2
@


1.1
log
@Initial revision
@
text
@d7 4
a10 1
# $Log$
d14 2
d45 3
@

head	1.2;
access;
symbols
	MLWorks_Beta_1996_06_07:1.2
	MLWorks_Beta_1996_06_06:1.2
	MLWorks_Beta_1996_06_05:1.2
	MLWorks_Beta_1996_06_03:1.2
	MLWorks_Beta_1996_05_31:1.2
	MLWorks_Beta_1996_05_30:1.2;
locks; strict;
comment	@ * @;


1.2
date	95.09.08.14.00.15;	author brianm;	state Exp;
branches;
next	1.1;

1.1
date	95.09.07.22.46.18;	author brianm;	state Exp;
branches;
next	;


desc
@new unit
Rename due to reorganisation & documentation of FI.
@


1.2
log
@Further modification for updates and general reorganisation.
@
text
@(*  ==== FOREIGN INTERFACE : C_CODESET ====
 *
 *  Copyright (C) 1995 Harlequin Ltd.
 *
 *  Implementation
 *  --------------
 *
 *  Revision Log
 *  ------------
 *  $Log: _c_codeset.sml,v $
# Revision 1.1  1995/09/07  22:46:18  brianm
# new unit
# Rename due to reorganisation & documentation of FI.
#
 *  Revision 1.1  1995/04/25  11:32:46  brianm
 *  new unit
 *  New file.
 *
 *
 *)

require "fi_types";
require "fi_codeset";
require "c_codeset";

functor CCodeSet(

     structure FITypes   : FOREIGN_TYPES
     structure FICodeSet : FOREIGN_CODESET

) : C_CODESET =
   struct

     structure FITypes = FITypes
     open FITypes

     open FICodeSet

     type foreign_codeset = foreign_codeset


     val FIload_codeset  = FICodeSet.load_codeset
     val FIfile_info     = FICodeSet.file_info
     val FIsymbols       = FICodeSet.symbols
     val FIsymbol_info   = FICodeSet.symbol_info

     abstype c_codeset = AC of foreign_codeset
     with
         val to_struct    : c_codeset -> foreign_codeset = (fn (AC(x)) => x)

         val load_codeset : filename * load_mode -> c_codeset =
             fn (fnm,lm) => AC(FIload_codeset(fnm,lm))

         val file_info    : c_codeset -> (filename * load_mode) =
             fn (AC(cinfo)) => FIfile_info(cinfo)

         val symbols      : c_codeset -> name list =
             fn (AC(cinfo)) => FIsymbols(cinfo)

         val symbol_info  : c_codeset * name -> value_type =
             fn (AC(cinfo),nm) => FIsymbol_info(cinfo,nm)
     end

   end;
@


1.1
log
@new unit
Rename due to reorganisation & documentation of FI.
@
text
@d1 1
a1 1
(*  ==== FOREIGN INTERFACE : C_STRUCTURE ====
d10 5
a14 1
 *  $Log: _c_struct.sml,v $
d28 2
a29 2
     structure FITypes : FOREIGN_TYPES
  structure FICodeSet : FOREIGN_CODESET
d31 1
a31 1
) : C_STRUCTURE =
a39 1
     type c_codeset = foreign_codeset
d41 22
a62 1
     val to_struct : c_codeset -> foreign_codeset = (fn x => x)
@

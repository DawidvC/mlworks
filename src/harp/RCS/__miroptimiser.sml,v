head	1.24;
access;
symbols
	MLW_daveb_inline_1_4_99:1.24.11
	MLWorks_21c0_1999_03_25:1.24
	MLWorks_20c1_1998_08_20:1.24
	MLWorks_20c0_1998_08_04:1.24
	MLWorks_20b2c2_1998_06_19:1.24
	MLWorks_20b2_Windows_1998_06_12:1.24
	MLWorks_20b1c1_1998_05_07:1.24
	MLWorks_20b0_1998_04_07:1.24
	MLWorks_20b0_1998_03_20:1.24
	MLWorks_20m2_1998_02_16:1.24
	MLWorks_20m1_1997_10_23:1.24
	MLWorks_11r1:1.24.8.1.1.1.1
	MLWorks_workspace_97:1.24.10
	MLWorks_dt_wizard:1.24.9
	MLWorks_11c0_1997_09_09:1.24.8.1.1.1
	MLWorks_10r3:1.24.8.1.3
	MLWorks_10r2_551:1.24.8.1.2
	MLWorks_11:1.24.8.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.24.8.1
	MLWorks_20m0_1997_06_20:1.24
	MLWorks_1_0_r2c2_1997_06_14:1.24.8.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.24.8.1
	MLWorks_1_0_r2c1_1997_05_12:1.24.8
	MLWorks_BugFix_1997_04_24:1.24
	MLWorks_1_0_r2_Win32_1997_04_11:1.24
	MLWorks_1_0_r2_Unix_1997_04_04:1.24
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.24.6.1.1
	MLWorks_gui_1996_12_18:1.24.7
	MLWorks_1_0_Win32_1996_12_17:1.24.6
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.24.4.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.24.4.1
	MLWorks_1_0_Irix_1996_11_28:1.24.4.1.1
	MLWorks_1_0_Win32_1996_11_22:1.24.5
	MLWorks_1_0_Unix_1996_11_14:1.24.4
	MLWorks_Open_Beta2_1996_10_11:1.24.3
	MLWorks_License_dev:1.24.2
	MLWorks_1_open_beta_1996_09_13:1.24.1
	MLWorks_Open_Beta_1996_08_22:1.24
	MLWorks_Beta_1996_07_02:1.24
	MLWorks_Beta_1996_06_07:1.24
	MLWorks_Beta_1996_06_06:1.24
	MLWorks_Beta_1996_06_05:1.24
	MLWorks_Beta_1996_06_03:1.24
	MLWorks_Beta_1996_05_31:1.24
	MLWorks_Beta_1996_05_30:1.24
	ML_beta_release_12/08/94:1.23
	ML_beta_release_03/08/94:1.23
	ML_revised_beta_release_25/05/94:1.23
	ML_final_beta_release_02/03/94:1.22
	mlworks-28-01-1994:1.22
	Release:1.22
	mlworks-beta-01-09-1993:1.22
	MLWorks-1-0-4-29/01/1993:1.22
	MLWorks-1-0-3-21/12/1992:1.22
	MLWorks-1-0-2-15/12/1992:1.22
	MLWorks-1-0-1-04/12/1992:1.22
	checkpoint_17_08_92:1.22;
locks; strict;
comment	@ * @;


1.24
date	95.05.30.11.00.11;	author matthew;	state Exp;
branches
	1.24.1.1
	1.24.2.1
	1.24.3.1
	1.24.4.1
	1.24.5.1
	1.24.6.1
	1.24.7.1
	1.24.8.1
	1.24.9.1
	1.24.10.1
	1.24.11.1;
next	1.23;

1.23
date	94.04.12.11.01.45;	author jont;	state Exp;
branches;
next	1.22;

1.22
date	92.06.17.10.15.21;	author richard;	state Exp;
branches
	1.22.1.1;
next	1.21;

1.21
date	92.06.04.07.56.18;	author richard;	state Exp;
branches;
next	1.20;

1.20
date	92.04.28.14.13.52;	author richard;	state Exp;
branches;
next	1.19;

1.19
date	92.04.23.11.13.10;	author jont;	state Exp;
branches;
next	1.18;

1.18
date	92.02.20.16.25.11;	author richard;	state Exp;
branches;
next	1.17;

1.17
date	92.02.14.16.05.56;	author richard;	state Exp;
branches;
next	1.16;

1.16
date	92.02.11.13.17.10;	author richard;	state Exp;
branches;
next	1.15;

1.15
date	91.11.18.16.41.55;	author richard;	state Exp;
branches;
next	1.14;

1.14
date	91.10.29.09.44.21;	author richard;	state Exp;
branches;
next	1.13;

1.13
date	91.10.24.14.38.33;	author richard;	state Exp;
branches;
next	1.12;

1.12
date	91.10.21.14.00.48;	author richard;	state Exp;
branches;
next	1.11;

1.11
date	91.10.17.11.26.22;	author richard;	state Exp;
branches;
next	1.10;

1.10
date	91.10.15.16.01.47;	author richard;	state Exp;
branches;
next	1.9;

1.9
date	91.10.04.13.57.21;	author richard;	state Exp;
branches;
next	1.8;

1.8
date	91.09.30.10.16.49;	author richard;	state Exp;
branches;
next	1.7;

1.7
date	91.09.18.17.53.05;	author richard;	state Exp;
branches
	1.7.1.1;
next	1.6;

1.6
date	91.09.17.15.40.41;	author richard;	state Exp;
branches;
next	1.5;

1.5
date	91.09.16.12.07.27;	author richard;	state Exp;
branches;
next	1.4;

1.4
date	91.09.09.09.43.32;	author richard;	state Exp;
branches;
next	1.3;

1.3
date	91.09.05.12.32.16;	author richard;	state Exp;
branches;
next	1.2;

1.2
date	91.09.04.11.33.09;	author richard;	state Exp;
branches;
next	1.1;

1.1
date	91.09.02.12.15.27;	author richard;	state Exp;
branches;
next	;

1.7.1.1
date	91.09.26.14.58.28;	author richard;	state Exp;
branches;
next	;

1.22.1.1
date	92.06.17.10.15.21;	author jont;	state Exp;
branches;
next	;

1.24.1.1
date	96.09.13.11.14.02;	author hope;	state Exp;
branches;
next	;

1.24.2.1
date	96.10.07.16.04.33;	author hope;	state Exp;
branches;
next	;

1.24.3.1
date	96.10.17.11.22.46;	author hope;	state Exp;
branches;
next	;

1.24.4.1
date	96.11.14.12.47.00;	author hope;	state Exp;
branches
	1.24.4.1.1.1;
next	;

1.24.4.1.1.1
date	96.11.28.14.58.36;	author hope;	state Exp;
branches;
next	;

1.24.5.1
date	96.11.22.18.07.08;	author hope;	state Exp;
branches;
next	;

1.24.6.1
date	96.12.17.17.45.52;	author hope;	state Exp;
branches
	1.24.6.1.1.1;
next	;

1.24.6.1.1.1
date	97.02.24.11.35.23;	author hope;	state Exp;
branches;
next	;

1.24.7.1
date	96.12.18.09.39.50;	author hope;	state Exp;
branches;
next	;

1.24.8.1
date	97.05.12.10.32.11;	author hope;	state Exp;
branches
	1.24.8.1.1.1
	1.24.8.1.2.1
	1.24.8.1.3.1;
next	;

1.24.8.1.1.1
date	97.07.28.18.17.55;	author daveb;	state Exp;
branches
	1.24.8.1.1.1.1.1;
next	;

1.24.8.1.1.1.1.1
date	97.10.07.11.42.52;	author jkbrook;	state Exp;
branches;
next	;

1.24.8.1.2.1
date	97.09.08.17.11.29;	author daveb;	state Exp;
branches;
next	;

1.24.8.1.3.1
date	97.09.09.14.07.04;	author daveb;	state Exp;
branches;
next	;

1.24.9.1
date	97.09.10.19.21.45;	author brucem;	state Exp;
branches;
next	;

1.24.10.1
date	97.09.11.20.53.01;	author daveb;	state Exp;
branches;
next	;

1.24.11.1
date	99.04.01.17.55.55;	author daveb;	state Exp;
branches;
next	;


desc
@Structure for HARP optimiser
@


1.24
log
@Removing Timer structure
@
text
@(* __miroptimiser.sml the structure *)
(*
$Log: __miroptimiser.sml,v $
 *  Revision 1.23  1994/04/12  11:01:45  jont
 *  Adding expression analysis
 *
 *  Revision 1.22  1992/06/17  10:15:21  richard
 *  Removed preallocator and expression analyser from parameters.
 *
 *  Revision 1.21  1992/06/04  07:56:18  richard
 *  Removed obsolete MirOptTypes and MirFlow structures.
 *
 *  Revision 1.20  1992/04/28  14:13:52  richard
 *  Added register preallocator.
 *
 *  Revision 1.19  1992/04/23  11:13:10  jont
 *  Added require __timer
 *
 *  Revision 1.18  1992/02/20  16:25:11  richard
 *  Added MirProcedure to parameters.
 *
 *  Revision 1.17  1992/02/14  16:05:56  richard
 *  Removed unnecessary parameters to the functor and added Timer.
 *
Revision 1.16  1992/02/11  13:17:10  richard
Changed the application of the Diagnostic functor to take the Text
structure as a parameter.  See utils/diagnostic.sml for details.

Revision 1.15  1991/11/18  16:41:55  richard
Changed debugging output to use the Diagnostic module.

Revision 1.14  91/10/29  09:44:21  richard
Added stack allocator to optimizations.

Revision 1.13  91/10/24  14:38:33  richard
Added several modules to dependencies.

Revision 1.12  91/10/21  14:00:48  richard
Added Print module to dependencies to allow listings at a later stage.

Revision 1.11  91/10/17  11:26:22  richard
Added Switches structure and removed redundant MirDataFlow module.

Revision 1.10  91/10/15  16:01:47  richard
Added MirRegisters to dependencies.

Revision 1.9  91/10/04  13:57:21  richard
Removed some redundant dependencies.

Revision 1.8  91/09/30  10:16:49  richard
Added register allocator to optimisation module.

Revision 1.7  91/09/18  17:53:05  richard
Added MirFlow module to functor call.

Revision 1.6  91/09/17  15:40:41  richard
Minor changes associated with break-up of MirDataflow module. See
log for that file.

Revision 1.5  91/09/16  12:07:27  richard
Added dependency on Lists module so that separate function can cope
with nested procedures. See functor.

Revision 1.4  91/09/09  09:43:32  richard
Changed filename of mirpeep to mirpeepholer.

Revision 1.3  91/09/05  12:32:16  richard
Removed dependency on Set module. This is now imported via the
MirDataFlow module.

Revision 1.2  91/09/04  11:33:09  richard
Early version of code to split up MIR code ready for
dataflow analysis.

Revision 1.1  91/09/02  12:15:27  richard
Initial revision

Copyright (c) 1991 Harlequin Ltd.
*)

require "../utils/__text";
require "../utils/_diagnostic";
require "__mirvariable";
require "__mirregisters";
require "__mirexpr";
require "__stackallocator";
require "_miroptimiser";


structure MirOptimiser_ = MirOptimiser(
  structure MirVariable = MirVariable_
  structure StackAllocator = StackAllocator_
  structure MirRegisters = MirRegisters_
  structure MirExpr = MirExpr_
  structure Diagnostic = Diagnostic (structure Text = Text_)
)
@


1.24.11.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a3 3
 * Revision 1.24  1995/05/30  11:00:11  matthew
 * Removing Timer structure
 *
@


1.24.10.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a3 3
 * Revision 1.24  1995/05/30  11:00:11  matthew
 * Removing Timer structure
 *
@


1.24.9.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a3 3
 * Revision 1.24  1995/05/30  11:00:11  matthew
 * Removing Timer structure
 *
@


1.24.8.1
log
@branched from 1.24
@
text
@a3 3
 * Revision 1.24  1995/05/30  11:00:11  matthew
 * Removing Timer structure
 *
@


1.24.8.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a3 3
 * Revision 1.24.8.1  1997/05/12  10:32:11  hope
 * branched from 1.24
 *
@


1.24.8.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a3 3
 * Revision 1.24.8.1  1997/05/12  10:32:11  hope
 * branched from 1.24
 *
@


1.24.8.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a3 3
 * Revision 1.24.8.1  1997/05/12  10:32:11  hope
 * branched from 1.24
 *
@


1.24.8.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a3 3
 * Revision 1.24.8.1.1.1  1997/07/28  18:17:55  daveb
 * branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
@


1.24.7.1
log
@branched from 1.24
@
text
@a3 3
 * Revision 1.24  1995/05/30  11:00:11  matthew
 * Removing Timer structure
 *
@


1.24.6.1
log
@branched from 1.24
@
text
@a3 3
 * Revision 1.24  1995/05/30  11:00:11  matthew
 * Removing Timer structure
 *
@


1.24.6.1.1.1
log
@branched from 1.24.6.1
@
text
@a3 3
 * Revision 1.24.6.1  1996/12/17  17:45:52  hope
 * branched from 1.24
 *
@


1.24.5.1
log
@branched from 1.24
@
text
@a3 3
 * Revision 1.24  1995/05/30  11:00:11  matthew
 * Removing Timer structure
 *
@


1.24.4.1
log
@branched from 1.24
@
text
@a3 3
 * Revision 1.24  1995/05/30  11:00:11  matthew
 * Removing Timer structure
 *
@


1.24.4.1.1.1
log
@branched from 1.24.4.1
@
text
@a3 3
 * Revision 1.24.4.1  1996/11/14  12:47:00  hope
 * branched from 1.24
 *
@


1.24.3.1
log
@branched from 1.24
@
text
@a3 3
 * Revision 1.24  1995/05/30  11:00:11  matthew
 * Removing Timer structure
 *
@


1.24.2.1
log
@branched from 1.24
@
text
@a3 3
 * Revision 1.24  1995/05/30  11:00:11  matthew
 * Removing Timer structure
 *
@


1.24.1.1
log
@branched from 1.24
@
text
@a3 3
 * Revision 1.24  1995/05/30  11:00:11  matthew
 * Removing Timer structure
 *
@


1.23
log
@Adding expression analysis
@
text
@d4 3
a82 1
require "../utils/__timer";
a95 1
  structure Timer = Timer_
@


1.22
log
@Removed preallocator and expression analyser from parameters.
@
text
@d4 3
d78 2
a79 1
require "../utils/__crash";
a80 1
require "__mirtypes";
d82 2
a83 1
require "__registerallocator";
a84 4
require "__mirregisters";
require "__mirprocedure";
require "../utils/__text";
require "../utils/_diagnostic";
a88 1
  structure MirTypes = MirTypes_
a89 2
  structure MirProcedure = MirProcedure_
  structure RegisterAllocator = RegisterAllocator_
a90 1
  structure Crash = Crash_
d92 1
@


1.22.1.1
log
@Fork for bug fixing
@
text
@a3 3
 *  Revision 1.22  1992/06/17  10:15:21  richard
 *  Removed preallocator and expression analyser from parameters.
 *
@


1.21
log
@Removed obsolete MirOptTypes and MirFlow structures.
@
text
@d4 3
a77 1
require "__mirexpression";
a78 1
require "__preallocator";
a90 1
  structure MirExpression = MirExpression_
a91 1
  structure Preallocator = Preallocator_
@


1.20
log
@Added register preallocator.
@
text
@d4 3
a74 1
require "__miropttypes";
a76 1
require "__mirflow";
a87 1
  structure MirOptTypes = MirOptTypes_
a91 1
  structure MirFlow = MirFlow_
@


1.19
log
@Added require __timer
@
text
@d4 3
d76 1
d93 1
@


1.18
log
@Added MirProcedure to parameters.
@
text
@d4 3
d67 1
@


1.17
log
@Removed unnecessary parameters to the functor and added Timer.
@
text
@d4 3
d72 1
d83 1
@


1.16
log
@Changed the application of the Diagnostic functor to take the Text
structure as a parameter.  See utils/diagnostic.sml for details.
@
text
@d4 4
a60 3
require "../utils/__balancedtree";
require "__mirprint";
require "__mirtables";
a68 1
require "__switches";
a83 1
  structure Switches = Switches_
d85 1
a85 3
  structure BalancedTree = BalancedTree_
  structure MirPrint = MirPrint_
  structure MirTables = MirTables_
@


1.15
log
@Changed debugging output to use the Diagnostic module.
@
text
@d3 4
a6 1
$Log:	__miroptimiser.sml,v $
d69 1
a69 1
require "../utils/__print";
d85 1
a85 1
  structure Diagnostic = Diagnostic (structure Print = Print_)
@


1.14
log
@Added stack allocator to optimizations.
@
text
@d4 3
a52 1
require "../utils/__print";
d66 2
d82 1
a82 1
  structure Print = Print_
@


1.13
log
@Added several modules to dependencies.
@
text
@d4 3
d61 1
d74 1
@


1.12
log
@Added Print module to dependencies to allow listings at a later stage.
@
text
@d4 3
d49 3
d74 3
@


1.11
log
@Added Switches structure and removed redundant MirDataFlow module.
@
text
@d4 3
d44 1
d67 1
@


1.10
log
@Added MirRegisters to dependencies.
@
text
@d4 3
d44 2
a45 1
require "__mirdataflow";
d49 1
d56 2
a57 1
  structure MirDataFlow = MirDataFlow_
d62 1
@


1.9
log
@Removed some redundant dependencies.
@
text
@d4 3
d44 1
d55 1
@


1.8
log
@Added register allocator to optimisation module.
@
text
@d4 3
a35 3
require "../utils/__print";
require "../utils/__lists";
require "__mirprint";
a37 1
require "__mirpeepholer";
a46 2
  structure MirPrint = MirPrint_
  structure MirPeepholer = MirPeepholer_
d51 1
a51 3
  structure Print = Print_
  structure Lists = Lists_
);
@


1.7
log
@Added MirFlow module to functor call.
@
text
@d4 3
d41 1
d52 1
@


1.7.1.1
log
@This is a modified version to use the reworked MirTypes module
(ver 1.23.1.1). This module is correct, but work has been suspended
on this branch because of the amount of time it would take to convert
the code generator (Mir_Cg) module.
@
text
@a3 3
Revision 1.7  91/09/18  17:53:05  richard
Added MirFlow module to functor call.

d35 1
d45 1
@


1.6
log
@Minor changes associated with break-up of MirDataflow module. See
log for that file.
@
text
@d4 4
d37 1
d47 1
@


1.5
log
@Added dependency on Lists module so that separate function can cope
with nested procedures. See functor.
@
text
@d4 4
d30 1
d35 1
d37 1
@


1.4
log
@Changed filename of mirpeep to mirpeepholer.
@
text
@d4 3
d23 1
a23 1
(*require "../utils/__set";*)
d37 1
a37 1
(*  structure Set = Set_*)
@


1.3
log
@Removed dependency on Set module. This is now imported via the
MirDataFlow module.
@
text
@d4 4
d23 1
a23 1
require "__mirpeep";
@


1.2
log
@Early version of code to split up MIR code ready for
dataflow analysis.
@
text
@d4 4
d16 1
a16 1
require "../utils/__set";
d20 1
d27 1
d30 1
a30 1
  structure Set = Set_
@


1.1
log
@Initial revision
@
text
@d3 4
a6 1
$Log:$
d10 4
d15 1
d18 8
a25 2
structure MirOptimiser_ =
   MirOptimiser( structure MirTypes = MirTypes_ );
@

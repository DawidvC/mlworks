head	1.3;
access;
symbols
	MLW_daveb_inline_1_4_99:1.3.1
	MLWorks_21c0_1999_03_25:1.3
	MLWorks_20c1_1998_08_20:1.3
	MLWorks_20c0_1998_08_04:1.3
	MLWorks_20b2c2_1998_06_19:1.2
	MLWorks_20b2_Windows_1998_06_12:1.2
	MLWorks_20b1c1_1998_05_07:1.2
	MLWorks_20b0_1998_04_07:1.2
	MLWorks_20b0_1998_03_20:1.2
	MLWorks_20m2_1998_02_16:1.2
	MLWorks_20m1_1997_10_23:1.2
	MLWorks_11r1:1.1.5.1.1.2.1
	MLWorks_workspace_97:1.2.2
	MLWorks_dt_wizard:1.2.1
	MLWorks_11c0_1997_09_09:1.1.5.1.1.2
	MLWorks_10r3:1.1.5.1.3
	MLWorks_10r2_551:1.1.5.1.2
	MLWorks_11:1.1.5.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.1.5.1
	MLWorks_20m0_1997_06_20:1.1
	MLWorks_1_0_r2c2_1997_06_14:1.1.5.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.1.5.1
	MLWorks_1_0_r2c1_1997_05_12:1.1.5
	MLWorks_BugFix_1997_04_24:1.1
	MLWorks_1_0_r2_Win32_1997_04_11:1.1
	MLWorks_1_0_r2_Unix_1997_04_04:1.1
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.1.3.1.1
	MLWorks_gui_1996_12_18:1.1.4
	MLWorks_1_0_Win32_1996_12_17:1.1.3
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.1.1.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.1.1.1
	MLWorks_1_0_Irix_1996_11_28:1.1.1.1.1
	MLWorks_1_0_Win32_1996_11_22:1.1.2
	MLWorks_1_0_Unix_1996_11_14:1.1.1;
locks; strict;
comment	@ *  @;


1.3
date	98.07.14.09.37.52;	author jkbrook;	state Exp;
branches
	1.3.1.1;
next	1.2;

1.2
date	97.07.18.13.28.49;	author johnh;	state Exp;
branches
	1.2.1.1
	1.2.2.1;
next	1.1;

1.1
date	96.11.11.19.59.18;	author daveb;	state Exp;
branches
	1.1.1.1
	1.1.2.1
	1.1.3.1
	1.1.4.1
	1.1.5.1;
next	;

1.1.1.1
date	96.11.14.12.51.22;	author hope;	state Exp;
branches
	1.1.1.1.1.1;
next	;

1.1.1.1.1.1
date	96.11.28.15.02.26;	author hope;	state Exp;
branches;
next	;

1.1.2.1
date	96.11.22.18.10.35;	author hope;	state Exp;
branches;
next	;

1.1.3.1
date	96.12.17.17.49.11;	author hope;	state Exp;
branches
	1.1.3.1.1.1;
next	;

1.1.3.1.1.1
date	97.02.24.11.39.16;	author hope;	state Exp;
branches;
next	;

1.1.4.1
date	96.12.18.09.43.15;	author hope;	state Exp;
branches;
next	;

1.1.5.1
date	97.05.12.10.35.44;	author hope;	state Exp;
branches
	1.1.5.1.1.1
	1.1.5.1.2.1
	1.1.5.1.3.1;
next	;

1.1.5.1.1.1
date	97.07.28.18.21.27;	author daveb;	state Exp;
branches;
next	1.1.5.1.1.2;

1.1.5.1.1.2
date	97.08.05.09.22.05;	author johnh;	state Exp;
branches
	1.1.5.1.1.2.1.1;
next	;

1.1.5.1.1.2.1.1
date	97.10.07.11.47.01;	author jkbrook;	state Exp;
branches;
next	;

1.1.5.1.2.1
date	97.09.08.17.14.51;	author daveb;	state Exp;
branches;
next	;

1.1.5.1.3.1
date	97.09.09.14.10.43;	author daveb;	state Exp;
branches;
next	;

1.2.1.1
date	97.09.10.19.26.44;	author brucem;	state Exp;
branches;
next	;

1.2.2.1
date	97.09.11.20.56.43;	author daveb;	state Exp;
branches;
next	;

1.3.1.1
date	99.04.01.17.58.07;	author daveb;	state Exp;
branches;
next	;


desc
@new unit
Interface to the licensing code in the runtime.
@


1.3
log
@[Bug #30435]
Remove user-prompting code
@
text
@(* License server implementation.
 *
 * Copyright (c) Harlequin Ltd. 1996.
 *
 * $Log: license.sml,v $
 *  Revision 1.2  1997/07/18  13:28:49  johnh
 *  [Bug #20074]
 *  Improve licensing.
 *
 *  Revision 1.1  1996/11/11  19:59:18  daveb
 *  new unit
 *  Interface to the licensing code in the runtime.
 *
 *
 *)

signature LICENSE =
sig
  val license: (string -> bool option) -> bool option
  (* license checks whether the user has a current license.  If using
     the license server, it sets up an hourly expiry check.  If the 
     license fails, it uses the complain parameter to report this fact. *)

  val ttyComplain: string -> bool option
  (* ttyComplain prints the rejection message to standard output and exits. *)

end
@


1.3.1.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a5 4
 *  Revision 1.3  1998/07/14  09:37:52  jkbrook
 *  [Bug #30435]
 *  Remove user-prompting code
 *
@


1.2
log
@[Bug #20074]
Improve licensing.
@
text
@d6 4
d19 1
a19 3
  val license: {promptUser: unit -> string * string,
		complain: string -> bool}
	       -> bool
d21 2
a22 4
     the license server, it sets up an hourly expiry check.  If using 
     the registration scheme, it prompts the user for their registration
     if applicable, using the promptUser parameter.  If the license
     fails, it uses the complain parameter to report this fact. *)
d24 1
a24 1
  val ttyComplain: string -> bool
a26 3
  val ttyPromptUser: unit -> string * string
  (* ttyPromptUser prompts the user for their license name and code,
     using the standard input and output. *)
@


1.2.2.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a5 4
 *  Revision 1.2  1997/07/18  13:28:49  johnh
 *  [Bug #20074]
 *  Improve licensing.
 *
@


1.2.1.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a5 4
 *  Revision 1.2  1997/07/18  13:28:49  johnh
 *  [Bug #20074]
 *  Improve licensing.
 *
@


1.1
log
@new unit
Interface to the licensing code in the runtime.
@
text
@d5 5
a9 1
 * $Log$
d16 1
a16 1
		complain: string -> unit}
d24 1
a24 1
  val ttyComplain: string -> unit
@


1.1.5.1
log
@branched from 1.1
@
text
@d5 1
a5 5
 * $Log: license.sml,v $
 *  Revision 1.1  1996/11/11  19:59:18  daveb
 *  new unit
 *  Interface to the licensing code in the runtime.
 *
@


1.1.5.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a5 3
 *  Revision 1.1.5.1  1997/05/12  10:35:44  hope
 *  branched from 1.1
 *
@


1.1.5.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a5 3
 *  Revision 1.1.5.1  1997/05/12  10:35:44  hope
 *  branched from 1.1
 *
@


1.1.5.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a5 3
 *  Revision 1.1.5.1  1997/05/12  10:35:44  hope
 *  branched from 1.1
 *
@


1.1.5.1.1.2
log
@[Bug #20074]
Merging - improving license dialog.
@
text
@a5 4
 *
 *  Revision 1.1.5.1.1.1  1997/07/28  18:21:27  daveb
 *  branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
d19 1
a19 1
		complain: string -> bool}
d27 1
a27 1
  val ttyComplain: string -> bool
@


1.1.5.1.1.2.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a5 4
 *  Revision 1.1.5.1.1.2  1997/08/05  09:22:05  johnh
 *  [Bug #20074]
 *  Merging - improving license dialog.
 *
@


1.1.4.1
log
@branched from 1.1
@
text
@d5 1
a5 5
 * $Log: license.sml,v $
 *  Revision 1.1  1996/11/11  19:59:18  daveb
 *  new unit
 *  Interface to the licensing code in the runtime.
 *
@


1.1.3.1
log
@branched from 1.1
@
text
@d5 1
a5 5
 * $Log: license.sml,v $
 *  Revision 1.1  1996/11/11  19:59:18  daveb
 *  new unit
 *  Interface to the licensing code in the runtime.
 *
@


1.1.3.1.1.1
log
@branched from 1.1.3.1
@
text
@a5 3
 *  Revision 1.1.3.1  1996/12/17  17:49:11  hope
 *  branched from 1.1
 *
@


1.1.2.1
log
@branched from 1.1
@
text
@d5 1
a5 5
 * $Log: license.sml,v $
 *  Revision 1.1  1996/11/11  19:59:18  daveb
 *  new unit
 *  Interface to the licensing code in the runtime.
 *
@


1.1.1.1
log
@branched from 1.1
@
text
@d5 1
a5 5
 * $Log: license.sml,v $
 *  Revision 1.1  1996/11/11  19:59:18  daveb
 *  new unit
 *  Interface to the licensing code in the runtime.
 *
@


1.1.1.1.1.1
log
@branched from 1.1.1.1
@
text
@a5 3
 *  Revision 1.1.1.1  1996/11/14  12:51:22  hope
 *  branched from 1.1
 *
@

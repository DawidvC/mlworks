head	1.17;
access;
symbols
	MLWorks_20m1_1997_10_23:1.17
	MLWorks_11r1:1.16.8.1.1.1.1
	MLWorks_workspace_97:1.17.2
	MLWorks_dt_wizard:1.17.1
	MLWorks_11c0_1997_09_09:1.16.8.1.1.1
	MLWorks_10r3:1.16.8.1.3
	MLWorks_10r2_551:1.16.8.1.2
	MLWorks_11:1.16.8.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.16.8.1
	MLWorks_20m0_1997_06_20:1.17
	MLWorks_1_0_r2c2_1997_06_14:1.16.8.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.16.8.1
	MLWorks_1_0_r2c1_1997_05_12:1.16.8
	MLWorks_BugFix_1997_04_24:1.16
	MLWorks_1_0_r2_Win32_1997_04_11:1.16
	MLWorks_1_0_r2_Unix_1997_04_04:1.16
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.16.6.1.1
	MLWorks_gui_1996_12_18:1.16.7
	MLWorks_1_0_Win32_1996_12_17:1.16.6
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.16.4.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.16.4.1
	MLWorks_1_0_Irix_1996_11_28:1.16.4.1.1
	MLWorks_1_0_Win32_1996_11_22:1.16.5
	MLWorks_1_0_Unix_1996_11_14:1.16.4
	MLWorks_Open_Beta2_1996_10_11:1.16.3
	MLWorks_License_dev:1.16.2
	MLWorks_1_open_beta_1996_09_13:1.16.1
	MLWorks_Open_Beta_1996_08_22:1.16
	MLWorks_Beta_1996_07_02:1.16
	MLWorks_Beta_1996_06_07:1.16
	MLWorks_Beta_1996_06_06:1.16
	MLWorks_Beta_1996_06_05:1.16
	MLWorks_Beta_1996_06_03:1.16
	MLWorks_Beta_1996_05_31:1.16
	MLWorks_Beta_1996_05_30:1.16
	ML_beta_release_12/08/94:1.10
	ML_beta_release_03/08/94:1.10
	ML_revised_beta_release_25/05/94:1.10
	ML_final_beta_release_02/03/94:1.10
	mlworks-28-01-1994:1.9
	Release:1.9
	mlworks-beta-01-09-1993:1.9
	MLWorks-1-0-4-29/01/1993:1.5
	MLWorks-1-0-3-21/12/1992:1.5
	MLWorks-1-0-2-15/12/1992:1.4
	MLWorks-1-0-1-04/12/1992:1.4
	checkpoint_17_08_92:1.2;
locks; strict;
comment	@ * @;


1.17
date	97.05.12.15.51.38;	author jont;	state Exp;
branches
	1.17.1.1
	1.17.2.1;
next	1.16;

1.16
date	96.05.21.11.19.30;	author stephenb;	state Exp;
branches
	1.16.1.1
	1.16.2.1
	1.16.3.1
	1.16.4.1
	1.16.5.1
	1.16.6.1
	1.16.7.1
	1.16.8.1;
next	1.15;

1.15
date	96.04.11.15.11.53;	author stephenb;	state Exp;
branches;
next	1.14;

1.14
date	96.03.27.10.12.04;	author stephenb;	state Exp;
branches;
next	1.13;

1.13
date	95.04.19.12.32.25;	author jont;	state Exp;
branches;
next	1.12;

1.12
date	95.01.16.14.06.15;	author daveb;	state Exp;
branches;
next	1.11;

1.11
date	94.12.08.16.58.19;	author jont;	state Exp;
branches;
next	1.10;

1.10
date	94.02.01.16.19.58;	author daveb;	state Exp;
branches;
next	1.9;

1.9
date	93.08.25.12.47.28;	author daveb;	state Exp;
branches
	1.9.1.1;
next	1.8;

1.8
date	93.08.12.16.20.47;	author daveb;	state Exp;
branches;
next	1.7;

1.7
date	93.05.05.17.01.22;	author jont;	state Exp;
branches;
next	1.6;

1.6
date	93.02.24.14.32.12;	author jont;	state Exp;
branches;
next	1.5;

1.5
date	92.12.21.19.13.39;	author daveb;	state Exp;
branches;
next	1.4;

1.4
date	92.09.28.17.13.42;	author matthew;	state Exp;
branches;
next	1.3;

1.3
date	92.09.02.12.21.50;	author richard;	state Exp;
branches;
next	1.2;

1.2
date	92.08.10.11.32.37;	author davidt;	state Exp;
branches;
next	1.1;

1.1
date	92.07.22.13.51.48;	author jont;	state Exp;
branches;
next	;

1.9.1.1
date	93.08.25.12.47.28;	author jont;	state Exp;
branches;
next	;

1.16.1.1
date	96.09.13.11.18.21;	author hope;	state Exp;
branches;
next	;

1.16.2.1
date	96.10.07.16.08.13;	author hope;	state Exp;
branches;
next	;

1.16.3.1
date	96.10.17.11.26.28;	author hope;	state Exp;
branches;
next	;

1.16.4.1
date	96.11.14.12.51.46;	author hope;	state Exp;
branches
	1.16.4.1.1.1;
next	;

1.16.4.1.1.1
date	96.11.28.15.02.48;	author hope;	state Exp;
branches;
next	;

1.16.5.1
date	96.11.22.18.10.59;	author hope;	state Exp;
branches;
next	;

1.16.6.1
date	96.12.17.17.49.33;	author hope;	state Exp;
branches
	1.16.6.1.1.1;
next	;

1.16.6.1.1.1
date	97.02.24.11.39.42;	author hope;	state Exp;
branches;
next	;

1.16.7.1
date	96.12.18.09.43.37;	author hope;	state Exp;
branches;
next	;

1.16.8.1
date	97.05.12.10.36.06;	author hope;	state Exp;
branches
	1.16.8.1.1.1
	1.16.8.1.2.1
	1.16.8.1.3.1;
next	;

1.16.8.1.1.1
date	97.07.28.18.21.47;	author daveb;	state Exp;
branches
	1.16.8.1.1.1.1.1;
next	;

1.16.8.1.1.1.1.1
date	97.10.07.11.47.28;	author jkbrook;	state Exp;
branches;
next	;

1.16.8.1.2.1
date	97.09.08.17.15.12;	author daveb;	state Exp;
branches;
next	;

1.16.8.1.3.1
date	97.09.09.14.11.04;	author daveb;	state Exp;
branches;
next	;

1.17.1.1
date	97.09.10.19.27.05;	author brucem;	state Exp;
branches;
next	;

1.17.2.1
date	97.09.11.20.57.06;	author daveb;	state Exp;
branches;
next	;


desc
@Common file and filename manipulation functions
@


1.17
log
@[Bug #20050]
Change name to MLWorks_IO to avoid clash with basis.io
@
text
@(* __io.sml the structure *)
(*
$Log: __io.sml,v $
 * Revision 1.16  1996/05/21  11:19:30  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
 * Revision 1.15  1996/04/11  15:11:53  stephenb
 * Update wrt Os -> OS name change.
 *
 * Revision 1.14  1996/03/27  10:12:04  stephenb
 * Update to use the OS structure from the latest revised basis.
 *
 * Revision 1.13  1995/04/19  12:32:25  jont
 * Add Path to functor paramters
 *
Revision 1.12  1995/01/16  14:06:15  daveb
Replaced FileName argument with FileSys.

Revision 1.11  1994/12/08  16:58:19  jont
Move OS specific stuff into a system link directory

Revision 1.10  1994/02/01  16:19:58  daveb
Removed Option_, added UnixFileName_ and UnixGetenv_.

Revision 1.9  1993/08/25  12:47:28  daveb
Removed default_pervasive_dir, changed default_source_path tobe ["."].

Revision 1.8  1993/08/12  16:20:47  daveb
Added Info and ModuleId parameters.
Removed pervasive_names, changed default_pervasive_library_dir to
default_pervasive_dir, added default_source_path.

Revision 1.7  1993/05/05  17:01:22  jont
Added a new functor parameter lists

Revision 1.6  1993/02/24  14:32:12  jont
Added Option_ structure to functor parameters

Revision 1.5  1992/12/21  19:13:39  daveb
Added vector to the list of pervasive files.

Revision 1.4  1992/09/28  17:13:42  matthew
Added builtin library to pervasive_names.

Revision 1.3  1992/09/02  12:21:50  richard
Moved the special names out of the compiler as a whole.

Revision 1.2  1992/08/10  11:32:37  davidt
String structure is now pervasive.

Revision 1.1  1992/07/22  13:51:48  jont
Initial revision

Copyright (c) 1992 Harlequin Ltd.
*)

require "../system/__os";
require "../system/__path";
require "../main/__info";
require "../basics/__module_id";
require "../system/__getenv";
require "_io";

structure MLWorksIo_ = MLWorksIo(
  structure OS = OS
  structure Path = Path_
  structure Info = Info_
  structure ModuleId = ModuleId_
  structure Getenv = Getenv_
  val pervasive_library_name = "__pervasive_library"
  val builtin_library_name   = "__builtin_library"
  val default_source_path    = ["."]
);
@


1.17.2.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a3 4
 * Revision 1.17  1997/05/12  15:51:38  jont
 * [Bug #20050]
 * Change name to MLWorks_IO to avoid clash with basis.io
 *
@


1.17.1.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a3 4
 * Revision 1.17  1997/05/12  15:51:38  jont
 * [Bug #20050]
 * Change name to MLWorks_IO to avoid clash with basis.io
 *
@


1.16
log
@Change to pull in Path directly rather than OS.Path since the latter
now conforms to the latest basis and it is too much effort to update
the code to OS.Path at this point.
@
text
@d4 5
d66 1
a66 1
structure Io_ = Io(
@


1.16.8.1
log
@branched from 1.16
@
text
@a3 5
 * Revision 1.16  1996/05/21  11:19:30  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.16.8.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a3 3
 * Revision 1.16.8.1  1997/05/12  10:36:06  hope
 * branched from 1.16
 *
@


1.16.8.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a3 3
 * Revision 1.16.8.1  1997/05/12  10:36:06  hope
 * branched from 1.16
 *
@


1.16.8.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a3 3
 * Revision 1.16.8.1  1997/05/12  10:36:06  hope
 * branched from 1.16
 *
@


1.16.8.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a3 3
 * Revision 1.16.8.1.1.1  1997/07/28  18:21:47  daveb
 * branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
@


1.16.7.1
log
@branched from 1.16
@
text
@a3 5
 * Revision 1.16  1996/05/21  11:19:30  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.16.6.1
log
@branched from 1.16
@
text
@a3 5
 * Revision 1.16  1996/05/21  11:19:30  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.16.6.1.1.1
log
@branched from 1.16.6.1
@
text
@a3 3
 * Revision 1.16.6.1  1996/12/17  17:49:33  hope
 * branched from 1.16
 *
@


1.16.5.1
log
@branched from 1.16
@
text
@a3 5
 * Revision 1.16  1996/05/21  11:19:30  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.16.4.1
log
@branched from 1.16
@
text
@a3 5
 * Revision 1.16  1996/05/21  11:19:30  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.16.4.1.1.1
log
@branched from 1.16.4.1
@
text
@a3 3
 * Revision 1.16.4.1  1996/11/14  12:51:46  hope
 * branched from 1.16
 *
@


1.16.3.1
log
@branched from 1.16
@
text
@a3 5
 * Revision 1.16  1996/05/21  11:19:30  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.16.2.1
log
@branched from 1.16
@
text
@a3 5
 * Revision 1.16  1996/05/21  11:19:30  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.16.1.1
log
@branched from 1.16
@
text
@a3 5
 * Revision 1.16  1996/05/21  11:19:30  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.15
log
@Update wrt Os -> OS name change.
@
text
@d4 3
d55 1
d63 1
@


1.14
log
@Update to use the OS structure from the latest revised basis.
@
text
@d4 3
d58 1
a58 1
  structure Os = Os
@


1.13
log
@Add Path to functor paramters
@
text
@d4 3
d48 1
a48 3
require "../utils/__lists";
require "../system/__filesys";
require "../system/__path";
d55 1
a55 3
  structure Lists = Lists_
  structure FileSys = FileSys_
  structure Path = Path_
@


1.12
log
@Replaced FileName argument with FileSys.
@
text
@d4 3
d47 1
d56 1
@


1.11
log
@Move OS specific stuff into a system link directory
@
text
@d4 3
d43 1
a43 1
require "../system/__filename";
d51 1
a51 1
  structure FileName = FileName_
@


1.10
log
@Removed Option_, added UnixFileName_ and UnixGetenv_.
@
text
@d4 3
d40 1
a40 1
require "../utils/__unixfilename";
d43 1
a43 1
require "../basics/__unixgetenv";
d48 1
a48 1
  structure FileName = UnixFileName_
d51 1
a51 1
  structure Getenv = UnixGetenv_
@


1.9
log
@Removed default_pervasive_dir, changed default_source_path tobe ["."].
@
text
@d4 3
a35 1
require "../utils/__option";
d37 1
d40 1
a43 1
  structure Option = Option_
d45 1
d48 1
@


1.9.1.1
log
@Fork for bug fixing
@
text
@a3 3
Revision 1.9  1993/08/25  12:47:28  daveb
Removed default_pervasive_dir, changed default_source_path tobe ["."].

@


1.8
log
@Added Info and ModuleId parameters.
Removed pervasive_names, changed default_pervasive_library_dir to
default_pervasive_dir, added default_source_path.
@
text
@d4 5
d46 1
a46 2
  val default_pervasive_dir  = "~/ml/src/pervasive"
  val default_source_path    = ["~/ml/src", "/usr/sml/src"]
@


1.7
log
@Added a new functor parameter lists
@
text
@d4 3
d30 2
d37 2
d41 3
a43 4
  val pervasive_names =
		   [builtin_library_name,pervasive_library_name, "mlworks", "string",
		    "array", "vector", "bytearray", "bits"]
  val default_pervasive_library_dir = "/usr/sml/src/pervasive");
@


1.6
log
@Added Option_ structure to functor parameters
@
text
@d4 3
d26 1
d31 1
@


1.5
log
@Added vector to the list of pervasive files.
@
text
@d4 3
d22 1
d25 8
a32 7
structure Io_ =
  Io(val pervasive_library_name = "__pervasive_library"
     val builtin_library_name   = "__builtin_library"
     val pervasive_names =
       [builtin_library_name,pervasive_library_name, "mlworks", "string",
	"array", "vector", "bytearray", "bits"]
     val default_pervasive_library_dir = "/usr/sml/src/pervasive");
@


1.4
log
@Added builtin library to pervasive_names.
@
text
@d4 3
d25 2
a26 2
       [builtin_library_name,pervasive_library_name, "mlworks", "string", "array",
        "bytearray", "bits"]
@


1.3
log
@Moved the special names out of the compiler as a whole.
@
text
@d4 3
d22 1
a22 1
       [pervasive_library_name, "mlworks", "string", "array",
@


1.2
log
@String structure is now pervasive.
@
text
@d4 3
d15 7
a21 1
structure Io_ = Io();
@


1.1
log
@Initial revision
@
text
@d3 4
a6 1
$Log$
a9 1
require "../utils/__string";
d12 1
a12 3
structure Io_ = Io(
  structure String = String_
)
@

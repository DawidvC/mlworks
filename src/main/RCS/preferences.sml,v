head	1.11;
access;
symbols
	MLW_daveb_inline_1_4_99:1.11.1
	MLWorks_21c0_1999_03_25:1.11
	MLWorks_20c1_1998_08_20:1.11
	MLWorks_20c0_1998_08_04:1.11
	MLWorks_20b2c2_1998_06_19:1.11
	MLWorks_20b2_Windows_1998_06_12:1.11
	MLWorks_20b1c1_1998_05_07:1.11
	MLWorks_20b0_1998_04_07:1.11
	MLWorks_20b0_1998_03_20:1.11
	MLWorks_20m2_1998_02_16:1.10
	MLWorks_20m1_1997_10_23:1.9
	MLWorks_11r1:1.9.1.1.1.1.1
	MLWorks_workspace_97:1.9.3
	MLWorks_dt_wizard:1.9.2
	MLWorks_11c0_1997_09_09:1.9.1.1.1.1
	MLWorks_10r3:1.9.1.1.3
	MLWorks_10r2_551:1.9.1.1.2
	MLWorks_11:1.9.1.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.9.1.1
	MLWorks_20m0_1997_06_20:1.9
	MLWorks_1_0_r2c2_1997_06_14:1.9.1.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.9.1.1
	MLWorks_1_0_r2c1_1997_05_12:1.9.1
	MLWorks_BugFix_1997_04_24:1.9
	MLWorks_1_0_r2_Win32_1997_04_11:1.9
	MLWorks_1_0_r2_Unix_1997_04_04:1.9
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.8.6.1.1
	MLWorks_gui_1996_12_18:1.8.7
	MLWorks_1_0_Win32_1996_12_17:1.8.6
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.8.4.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.8.4.1
	MLWorks_1_0_Irix_1996_11_28:1.8.4.1.1
	MLWorks_1_0_Win32_1996_11_22:1.8.5
	MLWorks_1_0_Unix_1996_11_14:1.8.4
	MLWorks_Open_Beta2_1996_10_11:1.8.3
	MLWorks_License_dev:1.8.2
	MLWorks_1_open_beta_1996_09_13:1.8.1
	MLWorks_Open_Beta_1996_08_22:1.8
	MLWorks_Beta_1996_07_02:1.8
	MLWorks_Beta_1996_06_07:1.7
	MLWorks_Beta_1996_06_06:1.7
	MLWorks_Beta_1996_06_05:1.7
	MLWorks_Beta_1996_06_03:1.7
	MLWorks_Beta_1996_05_31:1.7
	MLWorks_Beta_1996_05_30:1.7
	ML_beta_release_12/08/94:1.1
	ML_beta_release_03/08/94:1.1;
locks; strict;
comment	@ * @;


1.11
date	98.03.20.15.57.00;	author jont;	state Exp;
branches
	1.11.1.1;
next	1.10;

1.10
date	97.10.23.13.19.58;	author johnh;	state Exp;
branches;
next	1.9;

1.9
date	97.03.19.15.31.37;	author matthew;	state Exp;
branches
	1.9.1.1
	1.9.2.1
	1.9.3.1;
next	1.8;

1.8
date	96.06.13.17.19.35;	author brianm;	state Exp;
branches
	1.8.1.1
	1.8.2.1
	1.8.3.1
	1.8.4.1
	1.8.5.1
	1.8.6.1
	1.8.7.1;
next	1.7;

1.7
date	96.05.21.16.11.58;	author daveb;	state Exp;
branches;
next	1.6;

1.6
date	96.05.01.09.36.33;	author jont;	state Exp;
branches;
next	1.5;

1.5
date	96.04.09.15.22.51;	author daveb;	state Exp;
branches;
next	1.4;

1.4
date	96.02.29.14.04.59;	author matthew;	state Exp;
branches;
next	1.3;

1.3
date	95.06.14.12.47.12;	author daveb;	state Exp;
branches;
next	1.2;

1.2
date	95.06.01.11.26.22;	author daveb;	state Exp;
branches;
next	1.1;

1.1
date	94.08.01.15.17.53;	author daveb;	state Exp;
branches;
next	;

1.8.1.1
date	96.09.13.11.18.41;	author hope;	state Exp;
branches;
next	;

1.8.2.1
date	96.10.07.16.08.34;	author hope;	state Exp;
branches;
next	;

1.8.3.1
date	96.10.17.11.26.49;	author hope;	state Exp;
branches;
next	;

1.8.4.1
date	96.11.14.12.52.13;	author hope;	state Exp;
branches
	1.8.4.1.1.1;
next	;

1.8.4.1.1.1
date	96.11.28.15.03.12;	author hope;	state Exp;
branches;
next	;

1.8.5.1
date	96.11.22.18.11.23;	author hope;	state Exp;
branches;
next	;

1.8.6.1
date	96.12.17.17.49.54;	author hope;	state Exp;
branches
	1.8.6.1.1.1;
next	;

1.8.6.1.1.1
date	97.02.24.11.40.07;	author hope;	state Exp;
branches;
next	;

1.8.7.1
date	96.12.18.09.43.59;	author hope;	state Exp;
branches;
next	;

1.9.1.1
date	97.05.12.10.36.28;	author hope;	state Exp;
branches
	1.9.1.1.1.1
	1.9.1.1.2.1
	1.9.1.1.3.1;
next	;

1.9.1.1.1.1
date	97.07.28.18.21.11;	author daveb;	state Exp;
branches
	1.9.1.1.1.1.1.1;
next	;

1.9.1.1.1.1.1.1
date	97.10.07.11.46.40;	author jkbrook;	state Exp;
branches;
next	;

1.9.1.1.2.1
date	97.09.08.17.14.37;	author daveb;	state Exp;
branches;
next	;

1.9.1.1.3.1
date	97.09.09.14.10.30;	author daveb;	state Exp;
branches;
next	;

1.9.2.1
date	97.09.10.19.26.27;	author brucem;	state Exp;
branches;
next	;

1.9.3.1
date	97.09.11.20.56.28;	author daveb;	state Exp;
branches;
next	;

1.11.1.1
date	99.04.01.17.58.03;	author daveb;	state Exp;
branches;
next	;


desc
@new file
@


1.11
log
@[Bug #30090]
Modify to use TextIO instead of MLWorks.IO
@
text
@(*  ==== ENVIRONMENT PREFERENCES ====
 *
 *  Copyright (C) 1994 Harlequin Ltd
 *
 *  Revision Log
 *  ------------
 *  $Log: preferences.sml,v $
 * Revision 1.10  1997/10/23  13:19:58  johnh
 * [Bug #30233]
 * Change editor interface.
 *
 * Revision 1.9  1997/03/19  15:31:37  matthew
 * Adding use_relative_pathname preference
 *
 * Revision 1.8  1996/06/13  17:19:35  brianm
 * Modifications to add custom editor interface ...
 *
 * Revision 1.7  1996/05/21  16:11:58  daveb
 * Removed auto_output_window preference.
 *
 * Revision 1.6  1996/05/01  09:36:33  jont
 * String functions explode, implode, chr and ord now only available from String
 * io functions and types
 * instream, oustream, open_in, open_out, close_in, close_out, input, output and end_of_stream
 * now only available from MLWorks.IO
 *
 * Revision 1.5  1996/04/09  15:22:51  daveb
 * Added remove_duplicates_from_context.
 *
 * Revision 1.4  1996/02/29  14:04:59  matthew
 * Adding function to read preferences from a file
 *
 * Revision 1.3  1995/06/14  12:47:12  daveb
 * Added use_debugger and use_error_browser preferences.
 *
 *  Revision 1.2  1995/06/01  11:26:22  daveb
 *  Moved user_preferences here from user_options.
 *
 *  Revision 1.1  1994/08/01  15:17:53  daveb
 *  new file
 *  
 *)

require "../basis/__text_io";

signature PREFERENCES =
sig
  (* Preferences are user-settable options that affect the whole environment.
     They are global.  Context-specific options and tool-specific options
     are defined in user_options.sml and options.sml.

     We could dispense with the strucutured versions of preferences and just
     pass round the record of global refs.  However, the current set-up
     keeps a clear distinction between those functions that can change the
     preferences and those that merely use them.  It also keeps our options
     open (as it were) if we decide to change our minds. *)

  datatype editor_options =
    EDITOR_OPTIONS of
      {editor : string ref,
       oneWayEditorName : string ref,
       twoWayEditorName : string ref,
       externalEditorCommand : string ref}

  val default_editor_options : editor_options

  datatype environment_options =
    ENVIRONMENT_OPTIONS of
      {window_debugger: 	bool ref,
       use_debugger: 		bool ref,
       use_error_browser: 	bool ref,
       use_relative_pathname:   bool ref,
       history_length: 		int ref,
       completion_menu:         bool ref,
       remove_duplicates_from_context:
				bool ref,
       full_menus:              bool ref}

  val default_environment_options : environment_options

  datatype preferences =
    PREFERENCES of
      {editor_options : editor_options,
       environment_options : environment_options}

  val default_preferences : preferences

  datatype user_preferences = USER_PREFERENCES of
    ({editor:                                         string ref,
      externalEditorCommand:                          string ref,
      oneWayEditorName:                               string ref,
      twoWayEditorName:                               string ref,
      history_length:                                 int ref,
      max_num_errors:                                 int ref,
      window_debugger:                                bool ref,
      use_debugger:                                   bool ref,
      use_error_browser:                              bool ref,
      use_relative_pathname:                          bool ref,
      completion_menu:                                bool ref,
      remove_duplicates_from_context:                 bool ref,
      full_menus:                                     bool ref}
     * (unit -> unit) list ref)
 
  val make_user_preferences: preferences -> user_preferences
  val new_preferences: user_preferences -> preferences

  val set_from_list : user_preferences * (string * string) list -> unit
  val save_to_stream : user_preferences * TextIO.outstream -> unit

end
@


1.11.1.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a7 4
 * Revision 1.11  1998/03/20  15:57:00  jont
 * [Bug #30090]
 * Modify to use TextIO instead of MLWorks.IO
 *
@


1.10
log
@[Bug #30233]
Change editor interface.
@
text
@d8 4
d44 2
d108 1
a108 1
  val save_to_stream : user_preferences * MLWorks.IO.outstream -> unit
@


1.9
log
@Adding use_relative_pathname preference
@
text
@d8 3
d55 2
a56 1
       customEditorName : string ref,
d85 2
a86 1
      customEditorName:                               string ref,
@


1.9.3.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a7 3
 * Revision 1.9  1997/03/19  15:31:37  matthew
 * Adding use_relative_pathname preference
 *
@


1.9.2.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a7 3
 * Revision 1.9  1997/03/19  15:31:37  matthew
 * Adding use_relative_pathname preference
 *
@


1.9.1.1
log
@branched from 1.9
@
text
@a7 3
 * Revision 1.9  1997/03/19  15:31:37  matthew
 * Adding use_relative_pathname preference
 *
@


1.9.1.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a7 3
 * Revision 1.9.1.1  1997/05/12  10:36:28  hope
 * branched from 1.9
 *
@


1.9.1.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a7 3
 * Revision 1.9.1.1  1997/05/12  10:36:28  hope
 * branched from 1.9
 *
@


1.9.1.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a7 3
 * Revision 1.9.1.1  1997/05/12  10:36:28  hope
 * branched from 1.9
 *
@


1.9.1.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a7 3
 * Revision 1.9.1.1.1.1  1997/07/28  18:21:11  daveb
 * branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
@


1.8
log
@Modifications to add custom editor interface ...
@
text
@d8 3
d62 1
d87 1
@


1.8.7.1
log
@branched from 1.8
@
text
@a7 3
 * Revision 1.8  1996/06/13  17:19:35  brianm
 * Modifications to add custom editor interface ...
 *
@


1.8.6.1
log
@branched from 1.8
@
text
@a7 3
 * Revision 1.8  1996/06/13  17:19:35  brianm
 * Modifications to add custom editor interface ...
 *
@


1.8.6.1.1.1
log
@branched from 1.8.6.1
@
text
@a7 3
 * Revision 1.8.6.1  1996/12/17  17:49:54  hope
 * branched from 1.8
 *
@


1.8.5.1
log
@branched from 1.8
@
text
@a7 3
 * Revision 1.8  1996/06/13  17:19:35  brianm
 * Modifications to add custom editor interface ...
 *
@


1.8.4.1
log
@branched from 1.8
@
text
@a7 3
 * Revision 1.8  1996/06/13  17:19:35  brianm
 * Modifications to add custom editor interface ...
 *
@


1.8.4.1.1.1
log
@branched from 1.8.4.1
@
text
@a7 3
 * Revision 1.8.4.1  1996/11/14  12:52:13  hope
 * branched from 1.8
 *
@


1.8.3.1
log
@branched from 1.8
@
text
@a7 3
 * Revision 1.8  1996/06/13  17:19:35  brianm
 * Modifications to add custom editor interface ...
 *
@


1.8.2.1
log
@branched from 1.8
@
text
@a7 3
 * Revision 1.8  1996/06/13  17:19:35  brianm
 * Modifications to add custom editor interface ...
 *
@


1.8.1.1
log
@branched from 1.8
@
text
@a7 3
 * Revision 1.8  1996/06/13  17:19:35  brianm
 * Modifications to add custom editor interface ...
 *
@


1.7
log
@Removed auto_output_window preference.
@
text
@d8 3
d49 2
a50 2
       xterm_editor_command : string ref,
       x_editor_command : string ref}
d76 2
a77 2
      x_editor_command:                               string ref,
      xterm_editor_command:                           string ref,
@


1.6
log
@String functions explode, implode, chr and ord now only available from String
io functions and types
instream, oustream, open_in, open_out, close_in, close_out, input, output and end_of_stream
now only available from MLWorks.IO
@
text
@d8 6
a56 1
       auto_output_window:      bool ref,
a79 1
      auto_output_window:                             bool ref,
@


1.5
log
@Added remove_duplicates_from_context.
@
text
@d8 3
d85 1
a85 1
  val save_to_stream : user_preferences * outstream -> unit
@


1.4
log
@Adding function to read preferences from a file
@
text
@d8 3
d50 2
d74 1
@


1.3
log
@Added use_debugger and use_error_browser preferences.
@
text
@d8 3
d74 3
@


1.2
log
@Moved user_preferences here from user_options.
@
text
@d8 3
d22 2
a23 2
     We could dispense with the non-ref versions of preferences and just
     pass round the (record of) global refs.  However, the current set-up
d39 2
d62 2
@


1.1
log
@new file
@
text
@d7 4
a10 1
 *  $Log$
d15 10
d49 15
@

head	1.8;
access;
symbols
	MLW_daveb_inline_1_4_99:1.8.1
	MLWorks_21c0_1999_03_25:1.8
	MLWorks_20c1_1998_08_20:1.8
	MLWorks_20c0_1998_08_04:1.8
	MLWorks_20b2c2_1998_06_19:1.8
	MLWorks_20b2_Windows_1998_06_12:1.8
	MLWorks_20b1c1_1998_05_07:1.7
	MLWorks_20b0_1998_04_07:1.7
	MLWorks_20b0_1998_03_20:1.7
	MLWorks_20m2_1998_02_16:1.7
	MLWorks_20m1_1997_10_23:1.7
	MLWorks_11r1:1.7.1.1.1.1.1
	MLWorks_workspace_97:1.7.3
	MLWorks_dt_wizard:1.7.2
	MLWorks_11c0_1997_09_09:1.7.1.1.1.1
	MLWorks_10r3:1.7.1.1.3
	MLWorks_10r2_551:1.7.1.1.2
	MLWorks_11:1.7.1.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.7.1.1
	MLWorks_20m0_1997_06_20:1.7
	MLWorks_1_0_r2c2_1997_06_14:1.7.1.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.7.1.1
	MLWorks_1_0_r2c1_1997_05_12:1.7.1
	MLWorks_BugFix_1997_04_24:1.7
	MLWorks_1_0_r2_Win32_1997_04_11:1.7
	MLWorks_1_0_r2_Unix_1997_04_04:1.7
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.5.6.1.1
	MLWorks_gui_1996_12_18:1.5.7
	MLWorks_1_0_Win32_1996_12_17:1.5.6
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.5.4.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.5.4.1
	MLWorks_1_0_Irix_1996_11_28:1.5.4.1.1
	MLWorks_1_0_Win32_1996_11_22:1.5.5
	MLWorks_1_0_Unix_1996_11_14:1.5.4
	MLWorks_Open_Beta2_1996_10_11:1.5.3
	MLWorks_License_dev:1.5.2
	MLWorks_1_open_beta_1996_09_13:1.5.1
	MLWorks_Open_Beta_1996_08_22:1.4
	MLWorks_Beta_1996_07_02:1.1
	MLWorks_Beta_1996_06_07:1.1
	MLWorks_Beta_1996_06_06:1.1
	MLWorks_Beta_1996_06_05:1.1
	MLWorks_Beta_1996_06_03:1.1
	MLWorks_Beta_1996_05_31:1.1
	MLWorks_Beta_1996_05_30:1.1;
locks; strict;
comment	@ *  @;


1.8
date	98.06.05.14.24.54;	author mitchell;	state Exp;
branches
	1.8.1.1;
next	1.7;

1.7
date	97.04.01.09.37.43;	author andreww;	state Exp;
branches
	1.7.1.1
	1.7.2.1
	1.7.3.1;
next	1.6;

1.6
date	97.01.15.12.19.51;	author io;	state Exp;
branches;
next	1.5;

1.5
date	96.08.21.15.02.24;	author stephenb;	state Exp;
branches
	1.5.1.1
	1.5.2.1
	1.5.3.1
	1.5.4.1
	1.5.5.1
	1.5.6.1
	1.5.7.1;
next	1.4;

1.4
date	96.08.09.10.35.49;	author daveb;	state Exp;
branches;
next	1.3;

1.3
date	96.07.15.16.36.13;	author andreww;	state Exp;
branches;
next	1.2;

1.2
date	96.07.04.18.02.32;	author andreww;	state Exp;
branches;
next	1.1;

1.1
date	96.03.05.11.34.27;	author jont;	state Exp;
branches;
next	;

1.5.1.1
date	96.09.13.11.44.04;	author hope;	state Exp;
branches;
next	;

1.5.2.1
date	96.10.07.16.37.17;	author hope;	state Exp;
branches;
next	;

1.5.3.1
date	96.10.17.11.56.15;	author hope;	state Exp;
branches;
next	;

1.5.4.1
date	96.11.14.13.24.36;	author hope;	state Exp;
branches
	1.5.4.1.1.1;
next	;

1.5.4.1.1.1
date	96.11.28.15.35.33;	author hope;	state Exp;
branches;
next	;

1.5.5.1
date	96.11.22.18.41.43;	author hope;	state Exp;
branches;
next	;

1.5.6.1
date	96.12.17.18.20.40;	author hope;	state Exp;
branches
	1.5.6.1.1.1;
next	;

1.5.6.1.1.1
date	97.02.24.12.15.23;	author hope;	state Exp;
branches;
next	;

1.5.7.1
date	96.12.18.10.16.15;	author hope;	state Exp;
branches;
next	;

1.7.1.1
date	97.05.12.10.54.19;	author hope;	state Exp;
branches
	1.7.1.1.1.1
	1.7.1.1.2.1
	1.7.1.1.3.1;
next	;

1.7.1.1.1.1
date	97.07.28.18.36.53;	author daveb;	state Exp;
branches
	1.7.1.1.1.1.1.1;
next	;

1.7.1.1.1.1.1.1
date	97.10.07.12.01.59;	author jkbrook;	state Exp;
branches;
next	;

1.7.1.1.2.1
date	97.09.08.17.29.03;	author daveb;	state Exp;
branches;
next	;

1.7.1.1.3.1
date	97.09.09.14.26.58;	author daveb;	state Exp;
branches;
next	;

1.7.2.1
date	97.09.10.19.45.15;	author brucem;	state Exp;
branches;
next	;

1.7.3.1
date	97.09.11.21.12.24;	author daveb;	state Exp;
branches;
next	;

1.8.1.1
date	99.04.01.18.10.27;	author daveb;	state Exp;
branches;
next	;


desc
@new unit
Support for revised initial basis
@


1.8
log
@[Bug #30416]
Add support for CREATE_ALWAYS
@
text
@(* Copyright (C) 1996 Harlequin Ltd.
 *
 * An interface to a misc. collection of features made available
 * on any operating system that claims to be Win32.
 *
 * Revision Log
 * ------------
 *
 *  $Log: win32os.sml,v $
 *  Revision 1.7  1997/04/01  09:37:43  andreww
 *  [Bug #2004]
 *  adding FROM_CURRENT to seek_direction.
 *
 *  Revision 1.6  1997/01/15  12:19:51  io
 *  [Bug #1892]
 *  rename __word{8,16,32}{array,vector} to __word{8,16,32}_{array,vector}
 *
 *  Revision 1.5  1996/08/21  15:02:24  stephenb
 *  [Bug #1554]
 *  Replaces various uses of int with file_desc type.
 *
 *  Revision 1.4  1996/08/09  10:35:49  daveb
 *  [Bug #1536]
 *  Made read and write use Word8Vector.vectors instead of strings.
 *
 *  Revision 1.3  1996/07/15  16:36:13  andreww
 *  eliding standard in, out and err.
 *
 *  Revision 1.2  1996/07/04  18:02:32  andreww
 *  Altering win32 runtime environment interface.
 *
 *  Revision 1.1  1996/03/05  11:34:27  jont
 *  new unit
 *  Support for revised initial basis
 *
 *
 *)

require "^.basis.__word8_vector";

signature WIN32OS =
  sig

    datatype seek_direction = FROM_BEGIN | FROM_CURRENT | FROM_END

    datatype open_method = READ | READ_WRITE | WRITE 

    datatype open_action = CREATE_ALWAYS | OPEN_ALWAYS | OPEN_EXISTING

    type file_desc

    val open_ : string * open_method * open_action -> file_desc
    val close : file_desc -> unit
    val write : file_desc * Word8Vector.vector * int * int -> int
    val read  : file_desc * int -> Word8Vector.vector
    val seek  : file_desc * int * seek_direction -> int
    val size  : file_desc -> int
  end
@


1.8.1.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a9 4
 *  Revision 1.8  1998/06/05  14:24:54  mitchell
 *  [Bug #30416]
 *  Add support for CREATE_ALWAYS
 *
@


1.7
log
@[Bug #2004]
adding FROM_CURRENT to seek_direction.
@
text
@d10 4
d48 1
a48 1
    datatype open_action = OPEN_ALWAYS | OPEN_EXISTING
@


1.7.3.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a9 4
 *  Revision 1.7  1997/04/01  09:37:43  andreww
 *  [Bug #2004]
 *  adding FROM_CURRENT to seek_direction.
 *
@


1.7.2.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a9 4
 *  Revision 1.7  1997/04/01  09:37:43  andreww
 *  [Bug #2004]
 *  adding FROM_CURRENT to seek_direction.
 *
@


1.7.1.1
log
@branched from 1.7
@
text
@a9 4
 *  Revision 1.7  1997/04/01  09:37:43  andreww
 *  [Bug #2004]
 *  adding FROM_CURRENT to seek_direction.
 *
@


1.7.1.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a9 3
 *  Revision 1.7.1.1  1997/05/12  10:54:19  hope
 *  branched from 1.7
 *
@


1.7.1.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a9 3
 *  Revision 1.7.1.1  1997/05/12  10:54:19  hope
 *  branched from 1.7
 *
@


1.7.1.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a9 3
 *  Revision 1.7.1.1  1997/05/12  10:54:19  hope
 *  branched from 1.7
 *
@


1.7.1.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a9 3
 *  Revision 1.7.1.1.1.1  1997/07/28  18:36:53  daveb
 *  branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
@


1.6
log
@[Bug #1892]
rename __word{8,16,32}{array,vector} to __word{8,16,32}_{array,vector}
@
text
@d10 4
d40 1
a40 1
    datatype seek_direction = FROM_BEGIN | FROM_END
@


1.5
log
@[Bug #1554]
Replaces various uses of int with file_desc type.
@
text
@d10 4
d31 1
a31 1
require "^.basis.__word8vector";
@


1.5.7.1
log
@branched from 1.5
@
text
@a9 4
 *  Revision 1.5  1996/08/21  15:02:24  stephenb
 *  [Bug #1554]
 *  Replaces various uses of int with file_desc type.
 *
@


1.5.6.1
log
@branched from 1.5
@
text
@a9 4
 *  Revision 1.5  1996/08/21  15:02:24  stephenb
 *  [Bug #1554]
 *  Replaces various uses of int with file_desc type.
 *
@


1.5.6.1.1.1
log
@branched from 1.5.6.1
@
text
@a9 3
 *  Revision 1.5.6.1  1996/12/17  18:20:40  hope
 *  branched from 1.5
 *
@


1.5.5.1
log
@branched from 1.5
@
text
@a9 4
 *  Revision 1.5  1996/08/21  15:02:24  stephenb
 *  [Bug #1554]
 *  Replaces various uses of int with file_desc type.
 *
@


1.5.4.1
log
@branched from 1.5
@
text
@a9 4
 *  Revision 1.5  1996/08/21  15:02:24  stephenb
 *  [Bug #1554]
 *  Replaces various uses of int with file_desc type.
 *
@


1.5.4.1.1.1
log
@branched from 1.5.4.1
@
text
@a9 3
 *  Revision 1.5.4.1  1996/11/14  13:24:36  hope
 *  branched from 1.5
 *
@


1.5.3.1
log
@branched from 1.5
@
text
@a9 4
 *  Revision 1.5  1996/08/21  15:02:24  stephenb
 *  [Bug #1554]
 *  Replaces various uses of int with file_desc type.
 *
@


1.5.2.1
log
@branched from 1.5
@
text
@a9 4
 *  Revision 1.5  1996/08/21  15:02:24  stephenb
 *  [Bug #1554]
 *  Replaces various uses of int with file_desc type.
 *
@


1.5.1.1
log
@branched from 1.5
@
text
@a9 4
 *  Revision 1.5  1996/08/21  15:02:24  stephenb
 *  [Bug #1554]
 *  Replaces various uses of int with file_desc type.
 *
@


1.4
log
@[Bug #1536]
Made read and write use Word8Vector.vectors instead of strings.
@
text
@d10 4
d31 15
a45 17
    val FILE_BEGIN      : int
    val FILE_END        : int
    val OPEN_ALWAYS     : int
    val OPEN_EXISTING   : int
    val GENERIC_READ    : int
    val GENERIC_WRITE   : int
    val GENERIC_READ_WRITE : int

    val open_		: string * int * int -> int
    val close		: int -> unit
    val write		: int * Word8Vector.vector * int * int -> int
    val read		: int * int -> Word8Vector.vector
    val seek		: int * int * int -> int
    val size		: int -> int
(*    val std_in          : int
    val std_out         : int
    val std_err         : int*)
@


1.3
log
@eliding standard in, out and err.
@
text
@d10 3
d23 2
d37 2
a38 2
    val write		: int * string * int * int -> int
    val read		: int * int -> string
@


1.2
log
@Altering win32 runtime environment interface.
@
text
@d10 3
d34 1
a34 1
    val seek		: int * int * int -> unit
d36 1
a36 1
    val std_in          : int
d38 1
a38 1
    val std_err         : int
@


1.1
log
@new unit
Support for revised initial basis
@
text
@d9 5
a13 1
 *  $Log$
d19 9
a27 1
    val open_		: string * int -> int
d31 1
a31 1
    val seek		: {fd : int, pos : int} -> unit
d33 3
@

head	1.30;
access;
symbols
	MLW_daveb_inline_1_4_99:1.30.1
	MLWorks_21c0_1999_03_25:1.30
	MLWorks_20c1_1998_08_20:1.30
	MLWorks_20c0_1998_08_04:1.30
	MLWorks_20b2c2_1998_06_19:1.30
	MLWorks_20b2_Windows_1998_06_12:1.30
	MLWorks_20b1c1_1998_05_07:1.30
	MLWorks_20b0_1998_04_07:1.29
	MLWorks_20b0_1998_03_20:1.28
	MLWorks_20m2_1998_02_16:1.28
	MLWorks_20m1_1997_10_23:1.28
	MLWorks_11r1:1.28.8.1.1.1.1
	MLWorks_workspace_97:1.28.10
	MLWorks_dt_wizard:1.28.9
	MLWorks_11c0_1997_09_09:1.28.8.1.1.1
	MLWorks_10r3:1.28.8.1.3
	MLWorks_10r2_551:1.28.8.1.2
	MLWorks_11:1.28.8.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.28.8.1
	MLWorks_20m0_1997_06_20:1.28
	MLWorks_1_0_r2c2_1997_06_14:1.28.8.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.28.8.1
	MLWorks_1_0_r2c1_1997_05_12:1.28.8
	MLWorks_BugFix_1997_04_24:1.28
	MLWorks_1_0_r2_Win32_1997_04_11:1.28
	MLWorks_1_0_r2_Unix_1997_04_04:1.28
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.28.6.1.1
	MLWorks_gui_1996_12_18:1.28.7
	MLWorks_1_0_Win32_1996_12_17:1.28.6
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.28.4.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.28.4.1
	MLWorks_1_0_Irix_1996_11_28:1.28.4.1.1
	MLWorks_1_0_Win32_1996_11_22:1.28.5
	MLWorks_1_0_Unix_1996_11_14:1.28.4
	MLWorks_Open_Beta2_1996_10_11:1.28.3
	MLWorks_License_dev:1.28.2
	MLWorks_1_open_beta_1996_09_13:1.28.1
	MLWorks_Open_Beta_1996_08_22:1.28
	MLWorks_Beta_1996_07_02:1.28
	MLWorks_Beta_1996_06_07:1.28
	MLWorks_Beta_1996_06_06:1.28
	MLWorks_Beta_1996_06_05:1.28
	MLWorks_Beta_1996_06_03:1.28
	MLWorks_Beta_1996_05_31:1.28
	MLWorks_Beta_1996_05_30:1.28
	ML_beta_release_12/08/94:1.19
	ML_beta_release_03/08/94:1.19
	ML_revised_beta_release_25/05/94:1.17
	ML_final_beta_release_02/03/94:1.17
	mlworks-28-01-1994:1.16
	Release:1.15
	mlworks-beta-01-09-1993:1.15
	MLWorks-1-0-4-29/01/1993:1.10
	MLWorks-1-0-3-21/12/1992:1.10
	MLWorks-1-0-2-15/12/1992:1.10
	MLWorks-1-0-1-04/12/1992:1.10
	checkpoint_17_08_92:1.3;
locks; strict;
comment	@ * @;


1.30
date	98.04.09.09.52.30;	author jont;	state Exp;
branches
	1.30.1.1;
next	1.29;

1.29
date	98.03.31.11.27.20;	author jont;	state Exp;
branches;
next	1.28;

1.28
date	96.05.21.11.11.16;	author stephenb;	state Exp;
branches
	1.28.1.1
	1.28.2.1
	1.28.3.1
	1.28.4.1
	1.28.5.1
	1.28.6.1
	1.28.7.1
	1.28.8.1
	1.28.9.1
	1.28.10.1;
next	1.27;

1.27
date	96.04.12.08.30.03;	author stephenb;	state Exp;
branches;
next	1.26;

1.26
date	96.03.27.12.11.11;	author stephenb;	state Exp;
branches;
next	1.25;

1.25
date	96.02.26.13.50.25;	author stephenb;	state Exp;
branches;
next	1.24;

1.24
date	95.03.08.10.49.44;	author matthew;	state Exp;
branches;
next	1.23;

1.23
date	95.03.01.15.39.18;	author matthew;	state Exp;
branches;
next	1.22;

1.22
date	95.01.30.13.23.11;	author matthew;	state Exp;
branches;
next	1.21;

1.21
date	95.01.27.11.44.39;	author daveb;	state Exp;
branches;
next	1.20;

1.20
date	94.09.14.15.19.28;	author matthew;	state Exp;
branches;
next	1.19;

1.19
date	94.07.29.16.34.37;	author daveb;	state Exp;
branches;
next	1.18;

1.18
date	94.06.09.15.48.06;	author nickh;	state Exp;
branches;
next	1.17;

1.17
date	94.02.21.17.30.22;	author nosa;	state Exp;
branches;
next	1.16;

1.16
date	93.12.09.19.26.55;	author jont;	state Exp;
branches;
next	1.15;

1.15
date	93.08.17.18.14.04;	author daveb;	state Exp;
branches
	1.15.1.1;
next	1.14;

1.14
date	93.07.22.15.27.09;	author nosa;	state Exp;
branches;
next	1.13;

1.13
date	93.05.18.13.56.57;	author jont;	state Exp;
branches;
next	1.12;

1.12
date	93.04.30.11.02.53;	author matthew;	state Exp;
branches;
next	1.11;

1.11
date	93.04.29.10.19.14;	author matthew;	state Exp;
branches;
next	1.10;

1.10
date	92.11.27.16.14.47;	author clive;	state Exp;
branches;
next	1.9;

1.9
date	92.11.05.18.18.31;	author richard;	state Exp;
branches;
next	1.8;

1.8
date	92.10.26.11.26.54;	author clive;	state Exp;
branches;
next	1.7;

1.7
date	92.10.12.11.17.14;	author clive;	state Exp;
branches;
next	1.6;

1.6
date	92.10.06.15.25.38;	author clive;	state Exp;
branches;
next	1.5;

1.5
date	92.10.05.15.01.04;	author clive;	state Exp;
branches;
next	1.4;

1.4
date	92.08.19.10.27.11;	author clive;	state Exp;
branches;
next	1.3;

1.3
date	92.07.28.11.16.33;	author clive;	state Exp;
branches;
next	1.2;

1.2
date	92.07.14.10.09.23;	author clive;	state Exp;
branches;
next	1.1;

1.1
date	92.06.22.15.21.32;	author clive;	state Exp;
branches;
next	;

1.15.1.1
date	93.08.17.18.14.04;	author jont;	state Exp;
branches;
next	;

1.28.1.1
date	96.09.13.11.11.18;	author hope;	state Exp;
branches;
next	;

1.28.2.1
date	96.10.07.16.02.04;	author hope;	state Exp;
branches;
next	;

1.28.3.1
date	96.10.17.11.20.19;	author hope;	state Exp;
branches;
next	;

1.28.4.1
date	96.11.14.12.43.55;	author hope;	state Exp;
branches
	1.28.4.1.1.1;
next	;

1.28.4.1.1.1
date	96.11.28.14.55.50;	author hope;	state Exp;
branches;
next	;

1.28.5.1
date	96.11.22.18.04.20;	author hope;	state Exp;
branches;
next	;

1.28.6.1
date	96.12.17.17.43.17;	author hope;	state Exp;
branches
	1.28.6.1.1.1;
next	;

1.28.6.1.1.1
date	97.02.24.11.32.06;	author hope;	state Exp;
branches;
next	;

1.28.7.1
date	96.12.18.09.37.16;	author hope;	state Exp;
branches;
next	;

1.28.8.1
date	97.05.12.10.29.26;	author hope;	state Exp;
branches
	1.28.8.1.1.1
	1.28.8.1.2.1
	1.28.8.1.3.1;
next	;

1.28.8.1.1.1
date	97.07.28.18.15.19;	author daveb;	state Exp;
branches
	1.28.8.1.1.1.1.1;
next	;

1.28.8.1.1.1.1.1
date	97.10.07.11.40.23;	author jkbrook;	state Exp;
branches;
next	;

1.28.8.1.2.1
date	97.09.08.17.08.49;	author daveb;	state Exp;
branches;
next	;

1.28.8.1.3.1
date	97.09.09.14.03.54;	author daveb;	state Exp;
branches;
next	;

1.28.9.1
date	97.09.10.19.18.26;	author brucem;	state Exp;
branches;
next	;

1.28.10.1
date	97.09.11.20.49.25;	author daveb;	state Exp;
branches;
next	;

1.30.1.1
date	99.04.01.17.53.13;	author daveb;	state Exp;
branches;
next	;


desc
@First version
@


1.30
log
@[Bug #70085]
Add Project to list of functor parameters
@
text
@(* __ml_debugger.sml the structure *)
(*
$Log: __ml_debugger.sml,v $
 * Revision 1.29  1998/03/31  11:27:20  jont
 * [Bug #70077]
 * Remove use of Path_
 *
 * Revision 1.28  1996/05/21  11:11:16  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
 * Revision 1.27  1996/04/12  08:30:03  stephenb
 * Rename Os -> OS to conform with latest basis revision.
 *
 * Revision 1.26  1996/03/27  12:11:11  stephenb
 * Replace Path/PATH by Os.Path/OS_PATH
 *
 * Revision 1.25  1996/02/26  13:50:25  stephenb
 * Add StackFrame
 *
 * Revision 1.24  1995/03/08  10:49:44  matthew
 * Adding StackInterface structure
 *
Revision 1.22  1995/01/30  13:23:11  matthew
Renaming debugger_type_utilities

Revision 1.21  1995/01/27  11:44:39  daveb
Added Path parameter.

Revision 1.20  1994/09/14  15:19:28  matthew
Abstraction of debug information

Revision 1.19  1994/07/29  16:34:37  daveb
Added Preferences argument.

Revision 1.18  1994/06/09  15:48:06  nickh
New runtime directory structure.

Revision 1.17  1994/02/21  17:30:22  nosa
structure Encapsulate for type basis decapsulation facility for Monomorphic debugger.

Revision 1.16  1993/12/09  19:26:55  jont
Added copyright message

Revision 1.15  1993/08/17  18:14:04  daveb
Removed Io structure.

Revision 1.14  1993/07/22  15:27:09  nosa
Debugger Environments for local and closure variable inspection
in the debugger.

Revision 1.13  1993/05/18  13:56:57  jont
Removed integer parameter

Revision 1.12  1993/04/30  11:02:53  matthew
 Added ShellUtils structure

Revision 1.11  1993/04/29  10:19:14  matthew
Renamed Debugger_Type_Utilities to DebuggerTypeUtilities
Renamed Get_Type_Information to GetTypeInformation

Revision 1.10  1992/11/27  16:14:47  clive
ValuePrinter structure now needed by the debugger

Revision 1.9  1992/11/05  18:18:31  richard
Added Tags parameter.

Revision 1.8  1992/10/26  11:26:54  clive
Took out trace and added binding of frame arguments to it

Revision 1.7  1992/10/12  11:17:14  clive
Tynames now have a slot recording their definition point

Revision 1.6  1992/10/06  15:25:38  clive
Changes for the use of new shell

Revision 1.5  1992/10/05  15:01:04  clive
Change to NewMap.empty which now takes < and = functions instead of the single-function

Revision 1.4  1992/08/19  10:27:11  clive
Changed to reflect changes to pervasive_library

Revision 1.3  1992/07/28  11:16:33  clive
Periodical checking in - many improvements

Revision 1.2  1992/07/14  10:09:23  clive
Made the debugger work better, and changes for the new interface to the runtime system

Revision 1.1  1992/06/22  15:21:32  clive
Initial revision

 * Copyright (c) 1993 Harlequin Ltd.
*)

require "../utils/__lists";
require "../utils/__crash";
require "../main/__encapsulate";
require "../main/__preferences";
require "../main/__project";
require "../basics/__module_id";
require "../basics/__location";
require "../typechecker/__types";
require "../interpreter/__incremental";
require "../interpreter/__shell_utils";
require "../rts/gen/__tags";
require "__value_printer";
require "__debugger_print";
require "../machine/__stack_interface";
require "__debugger_utilities";
require "__newtrace";
require "__stack_frame";
require "^.system.__os";
require "_ml_debugger";

structure Ml_Debugger_ = 
  Ml_Debugger(structure Lists = Lists_
              structure Crash = Crash_
	      structure Path = OS.Path;
              structure Encapsulate = Encapsulate_
              structure Preferences = Preferences_
	      structure Project = Project_
	      structure ModuleId = ModuleId_
	      structure Location = Location_
              structure Types = Types_
              structure Incremental = Incremental_
              structure ShellUtils = ShellUtils_
              structure ValuePrinter = ValuePrinter_
              structure StackInterface = StackInterface_
              structure DebuggerUtilities = DebuggerUtilities_
              structure Tags = Tags_
              structure DebuggerPrint = DebuggerPrint_
              structure Trace = Trace_
              structure StackFrame = StackFrame_
                )
@


1.30.1.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a3 4
 * Revision 1.30  1998/04/09  09:52:30  jont
 * [Bug #70085]
 * Add Project to list of functor parameters
 *
@


1.29
log
@[Bug #70077]
Remove use of Path_
@
text
@d4 4
d100 3
d122 3
@


1.28
log
@Change to pull in Path directly rather than OS.Path since the latter
now conforms to the latest basis and it is too much effort to update
the code to OS.Path at this point.
@
text
@d4 5
a93 1
require "../system/__path";
d106 1
d112 1
a112 1
              structure Path = Path_
@


1.28.10.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a3 5
 * Revision 1.28  1996/05/21  11:11:16  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.28.9.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a3 5
 * Revision 1.28  1996/05/21  11:11:16  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.28.8.1
log
@branched from 1.28
@
text
@a3 5
 * Revision 1.28  1996/05/21  11:11:16  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.28.8.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a3 3
 * Revision 1.28.8.1  1997/05/12  10:29:26  hope
 * branched from 1.28
 *
@


1.28.8.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a3 3
 * Revision 1.28.8.1  1997/05/12  10:29:26  hope
 * branched from 1.28
 *
@


1.28.8.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a3 3
 * Revision 1.28.8.1  1997/05/12  10:29:26  hope
 * branched from 1.28
 *
@


1.28.8.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a3 3
 * Revision 1.28.8.1.1.1  1997/07/28  18:15:19  daveb
 * branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
@


1.28.7.1
log
@branched from 1.28
@
text
@a3 5
 * Revision 1.28  1996/05/21  11:11:16  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.28.6.1
log
@branched from 1.28
@
text
@a3 5
 * Revision 1.28  1996/05/21  11:11:16  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.28.6.1.1.1
log
@branched from 1.28.6.1
@
text
@a3 3
 * Revision 1.28.6.1  1996/12/17  17:43:17  hope
 * branched from 1.28
 *
@


1.28.5.1
log
@branched from 1.28
@
text
@a3 5
 * Revision 1.28  1996/05/21  11:11:16  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.28.4.1
log
@branched from 1.28
@
text
@a3 5
 * Revision 1.28  1996/05/21  11:11:16  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.28.4.1.1.1
log
@branched from 1.28.4.1
@
text
@a3 3
 * Revision 1.28.4.1  1996/11/14  12:43:55  hope
 * branched from 1.28
 *
@


1.28.3.1
log
@branched from 1.28
@
text
@a3 5
 * Revision 1.28  1996/05/21  11:11:16  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.28.2.1
log
@branched from 1.28
@
text
@a3 5
 * Revision 1.28  1996/05/21  11:11:16  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.28.1.1
log
@branched from 1.28
@
text
@a3 5
 * Revision 1.28  1996/05/21  11:11:16  stephenb
 * Change to pull in Path directly rather than OS.Path since the latter
 * now conforms to the latest basis and it is too much effort to update
 * the code to OS.Path at this point.
 *
@


1.27
log
@Rename Os -> OS to conform with latest basis revision.
@
text
@d4 3
d89 1
a89 1
require "../system/__os";
d107 1
a107 1
              structure OS = OS
@


1.26
log
@Replace Path/PATH by Os.Path/OS_PATH
@
text
@d4 3
d104 1
a104 1
              structure Os = Os
@


1.25
log
@Add StackFrame
@
text
@d4 3
d83 1
a83 1
require "../system/__path";
d101 1
a101 1
              structure Path = Path_
@


1.24
log
@Adding StackInterface structure
@
text
@d4 3
d92 1
d110 1
a111 7







@


1.23
log
@Adding Trace structure
@
text
@d86 1
d101 1
@


1.22
log
@Renaming debugger_type_utilities
@
text
@d4 3
a84 1
require "__get_type_information";
d87 1
a99 1
              structure GetTypeInformation = GetTypeInformation_
d102 3
a104 1
              structure DebuggerPrint = DebuggerPrint_)
@


1.21
log
@Added Path parameter.
@
text
@d4 3
d84 1
a84 1
require "__debugger_type_utilities";
d98 1
a98 1
              structure DebuggerTypeUtilities = DebuggerTypeUtilities_
@


1.20
log
@Abstraction of debug information
@
text
@d4 3
d71 1
d87 1
@


1.19
log
@Added Preferences argument.
@
text
@d4 3
d92 1
a92 1
              structure RuntimeEnv = RuntimeEnv)
@


1.18
log
@New runtime directory structure.
@
text
@d4 3
d66 1
d81 1
@


1.17
log
@structure Encapsulate for type basis decapsulation facility for Monomorphic debugger.
@
text
@d4 3
d66 1
a66 1
require "../rts/__tags";
@


1.16
log
@Added copyright message
@
text
@d4 3
d59 1
d73 1
@


1.15
log
@Removed Io structure.
@
text
@d4 3
d51 1
@


1.15.1.1
log
@Fork for bug fixing
@
text
@a3 3
Revision 1.15  1993/08/17  18:14:04  daveb
Removed Io structure.

@


1.14
log
@Debugger Environments for local and closure variable inspection
in the debugger.
@
text
@d4 4
a54 1
require "../main/__io";
a70 1
              structure Io = Io_
@


1.13
log
@Removed integer parameter
@
text
@d4 3
d55 1
d59 12
a70 11
structure Ml_Debugger_ = Ml_Debugger(
  structure Lists = Lists_
  structure Crash = Crash_
  structure Types = Types_
  structure Incremental = Incremental_
  structure ShellUtils = ShellUtils_
  structure ValuePrinter = ValuePrinter_
  structure GetTypeInformation = GetTypeInformation_
  structure DebuggerTypeUtilities = DebuggerTypeUtilities_
  structure Io = Io_
  structure Tags = Tags_)
@


1.12
log
@ Added ShellUtils structure
@
text
@d4 3
a42 1
require "../utils/__integer" ;
d55 11
a65 12
structure Ml_Debugger_ = 
  Ml_Debugger(structure Integer = Integer_
              structure Lists = Lists_
              structure Crash = Crash_
              structure Types = Types_
              structure Incremental = Incremental_
              structure ShellUtils = ShellUtils_
              structure ValuePrinter = ValuePrinter_
              structure GetTypeInformation = GetTypeInformation_
              structure DebuggerTypeUtilities = DebuggerTypeUtilities_
              structure Io = Io_
              structure Tags = Tags_)
@


1.11
log
@Renamed Debugger_Type_Utilities to DebuggerTypeUtilities
Renamed Get_Type_Information to GetTypeInformation
@
text
@d4 4
a41 1
require "../utils/__btree";
d45 1
a55 1
              structure NewMap = BTree_
d57 4
a62 1
              structure Incremental = Incremental_
a63 2
              structure ValuePrinter = ValuePrinter_
              structure Types = Types_
@


1.10
log
@ValuePrinter structure now needed by the debugger
@
text
@d4 3
d54 2
a55 2
              structure Get_Type_Information = GetTypeInformation_
              structure Debugger_Type_Utilities = Debugger_Type_Utilities_
@


1.9
log
@Added Tags parameter.
@
text
@d4 3
d41 1
a42 1
require "__value_printer";
a51 1
              structure ValuePrinter = ValuePrinter_
d55 1
@


1.8
log
@Took out trace and added binding of frame arguments to it
@
text
@d4 3
d37 1
d53 2
a54 1
              structure Types = Types_)
@


1.7
log
@Tynames now have a slot recording their definition point
@
text
@d4 3
a36 1
require "__trace";
a46 1
              structure Trace = Trace_
@


1.6
log
@Changes for the use of new shell
@
text
@d4 3
d30 1
d47 1
@


1.5
log
@Change to NewMap.empty which now takes < and = functions instead of the single-function
@
text
@d4 3
d26 1
d30 1
d41 2
@


1.4
log
@Changed to reflect changes to pervasive_library
@
text
@d4 3
d20 1
a20 1
require "../utils/_btree";
d31 1
a31 1
              structure NewMap = BTree()
@


1.3
log
@Periodical checking in - many improvements
@
text
@d4 3
d18 1
d29 1
@


1.2
log
@Made the debugger work better, and changes for the new interface to the runtime system
@
text
@d4 3
d14 1
d24 1
d29 7
@


1.1
log
@Initial revision
@
text
@d3 4
a6 1
$Log$
d14 1
d22 1
@

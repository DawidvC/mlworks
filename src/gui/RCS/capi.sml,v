head	1.64;
access;
symbols
	MLW_daveb_inline_1_4_99:1.64.1
	MLWorks_21c0_1999_03_25:1.64
	MLWorks_20c1_1998_08_20:1.64
	MLWorks_20c0_1998_08_04:1.64
	MLWorks_20b2c2_1998_06_19:1.62
	MLWorks_20b2_Windows_1998_06_12:1.62
	MLWorks_20b1c1_1998_05_07:1.61
	MLWorks_20b0_1998_04_07:1.61
	MLWorks_20b0_1998_03_20:1.59
	MLWorks_20m2_1998_02_16:1.58
	MLWorks_20m1_1997_10_23:1.57
	MLWorks_11r1:1.45.1.1.1.3.1
	MLWorks_workspace_97:1.56.2
	MLWorks_dt_wizard:1.56.1
	MLWorks_11c0_1997_09_09:1.45.1.1.1.3
	MLWorks_10r3:1.45.1.1.3
	MLWorks_10r2_551:1.45.1.1.2
	MLWorks_11:1.45.1.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.45.1.1
	MLWorks_20m0_1997_06_20:1.50
	MLWorks_1_0_r2c2_1997_06_14:1.45.1.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.45.1.1
	MLWorks_1_0_r2c1_1997_05_12:1.45.1
	MLWorks_BugFix_1997_04_24:1.45
	MLWorks_1_0_r2_Win32_1997_04_11:1.45
	MLWorks_1_0_r2_Unix_1997_04_04:1.45
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.44.3.1.1
	MLWorks_gui_1996_12_18:1.44.4
	MLWorks_1_0_Win32_1996_12_17:1.44.3
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.42.1.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.42.1.1
	JFHgui:1.44.2
	MLWorks_1_0_Irix_1996_11_28:1.42.1.1.1
	MLWorks_1_0_Win32_1996_11_22:1.44.1
	MLWorks_1_0_Unix_1996_11_14:1.42.1
	MLWorks_Open_Beta2_1996_10_11:1.39.2
	MLWorks_License_dev:1.39.1
	MLWorks_1_open_beta_1996_09_13:1.37.1
	MLWorks_Open_Beta_1996_08_22:1.37
	MLWorks_Beta_1996_07_02:1.35
	MLWorks_Beta_1996_06_07:1.35
	MLWorks_Beta_1996_06_06:1.35
	MLWorks_Beta_1996_06_05:1.35
	MLWorks_Beta_1996_06_03:1.35
	MLWorks_Beta_1996_05_31:1.34
	MLWorks_Beta_1996_05_30:1.34;
locks; strict;
comment	@ * @;


1.64
date	98.07.14.10.43.30;	author jkbrook;	state Exp;
branches
	1.64.1.1;
next	1.63;

1.63
date	98.07.02.14.33.55;	author johnh;	state Exp;
branches;
next	1.62;

1.62
date	98.05.28.17.08.02;	author johnh;	state Exp;
branches;
next	1.61;

1.61
date	98.03.31.16.17.32;	author johnh;	state Exp;
branches;
next	1.60;

1.60
date	98.03.26.11.39.18;	author johnh;	state Exp;
branches;
next	1.59;

1.59
date	98.02.17.16.43.36;	author johnh;	state Exp;
branches;
next	1.58;

1.58
date	98.01.27.14.12.18;	author johnh;	state Exp;
branches;
next	1.57;

1.57
date	97.10.06.10.58.48;	author johnh;	state Exp;
branches;
next	1.56;

1.56
date	97.09.05.10.23.44;	author johnh;	state Exp;
branches
	1.56.1.1
	1.56.2.1;
next	1.55;

1.55
date	97.08.05.13.33.15;	author brucem;	state Exp;
branches;
next	1.54;

1.54
date	97.07.23.09.16.38;	author johnh;	state Exp;
branches;
next	1.53;

1.53
date	97.07.18.14.40.26;	author johnh;	state Exp;
branches;
next	1.52;

1.52
date	97.07.18.13.29.11;	author johnh;	state Exp;
branches;
next	1.51;

1.51
date	97.06.18.08.23.21;	author johnh;	state Exp;
branches;
next	1.50;

1.50
date	97.06.17.16.18.12;	author johnh;	state Exp;
branches;
next	1.49;

1.49
date	97.06.13.09.52.22;	author johnh;	state Exp;
branches;
next	1.48;

1.48
date	97.05.20.15.57.18;	author johnh;	state Exp;
branches;
next	1.47;

1.47
date	97.05.16.15.35.57;	author johnh;	state Exp;
branches;
next	1.46;

1.46
date	97.05.01.12.32.54;	author jont;	state Exp;
branches;
next	1.45;

1.45
date	97.03.17.14.37.25;	author johnh;	state Exp;
branches
	1.45.1.1;
next	1.44;

1.44
date	96.11.21.11.24.34;	author jont;	state Exp;
branches
	1.44.1.1
	1.44.2.1
	1.44.3.1
	1.44.4.1;
next	1.43;

1.43
date	96.11.18.09.52.34;	author daveb;	state Exp;
branches;
next	1.42;

1.42
date	96.11.12.11.44.28;	author daveb;	state Exp;
branches
	1.42.1.1;
next	1.41;

1.41
date	96.11.01.13.41.09;	author johnh;	state Exp;
branches;
next	1.40;

1.40
date	96.10.30.13.17.52;	author johnh;	state Exp;
branches;
next	1.39;

1.39
date	96.09.23.14.01.28;	author matthew;	state Exp;
branches
	1.39.1.1
	1.39.2.1;
next	1.38;

1.38
date	96.09.19.12.59.22;	author johnh;	state Exp;
branches;
next	1.37;

1.37
date	96.07.30.14.37.35;	author jont;	state Exp;
branches
	1.37.1.1;
next	1.36;

1.36
date	96.07.05.14.39.39;	author daveb;	state Exp;
branches;
next	1.35;

1.35
date	96.05.31.16.12.14;	author daveb;	state Exp;
branches;
next	1.34;

1.34
date	96.05.28.12.33.50;	author matthew;	state Exp;
branches;
next	1.33;

1.33
date	96.05.16.09.29.40;	author matthew;	state Exp;
branches;
next	1.32;

1.32
date	96.05.07.11.31.05;	author jont;	state Exp;
branches;
next	1.31;

1.31
date	96.04.18.09.53.29;	author matthew;	state Exp;
branches;
next	1.30;

1.30
date	96.02.14.10.31.13;	author matthew;	state Exp;
branches;
next	1.29;

1.29
date	96.02.09.11.27.29;	author daveb;	state Exp;
branches;
next	1.28;

1.28
date	96.01.25.17.20.51;	author matthew;	state Exp;
branches;
next	1.27;

1.27
date	96.01.12.16.30.45;	author matthew;	state Exp;
branches;
next	1.26;

1.26
date	96.01.12.12.09.07;	author daveb;	state Exp;
branches;
next	1.25;

1.25
date	96.01.12.10.33.16;	author daveb;	state Exp;
branches;
next	1.24;

1.24
date	96.01.10.12.32.52;	author daveb;	state Exp;
branches;
next	1.23;

1.23
date	96.01.09.13.48.11;	author matthew;	state Exp;
branches;
next	1.22;

1.22
date	95.12.13.10.15.07;	author daveb;	state Exp;
branches;
next	1.21;

1.21
date	95.12.07.14.05.24;	author matthew;	state Exp;
branches;
next	1.20;

1.20
date	95.11.21.14.43.53;	author matthew;	state Exp;
branches;
next	1.19;

1.19
date	95.11.17.11.15.57;	author matthew;	state Exp;
branches;
next	1.18;

1.18
date	95.11.15.15.17.46;	author matthew;	state Exp;
branches;
next	1.17;

1.17
date	95.11.14.13.58.48;	author matthew;	state Exp;
branches;
next	1.16;

1.16
date	95.10.10.12.16.08;	author nickb;	state Exp;
branches;
next	1.15;

1.15
date	95.10.04.13.04.19;	author brianm;	state Exp;
branches;
next	1.14;

1.14
date	95.10.02.10.53.18;	author brianm;	state Exp;
branches;
next	1.13;

1.13
date	95.09.22.14.21.11;	author daveb;	state Exp;
branches;
next	1.12;

1.12
date	95.09.21.15.16.50;	author nickb;	state Exp;
branches;
next	1.11;

1.11
date	95.09.18.12.40.08;	author brianm;	state Exp;
branches;
next	1.10;

1.10
date	95.09.11.13.21.19;	author matthew;	state Exp;
branches;
next	1.9;

1.9
date	95.09.04.14.49.44;	author matthew;	state Exp;
branches;
next	1.8;

1.8
date	95.08.30.13.23.43;	author matthew;	state Exp;
branches;
next	1.7;

1.7
date	95.08.24.16.03.08;	author matthew;	state Exp;
branches;
next	1.6;

1.6
date	95.08.16.13.26.32;	author matthew;	state Exp;
branches;
next	1.5;

1.5
date	95.08.16.11.54.10;	author io;	state Exp;
branches;
next	1.4;

1.4
date	95.08.15.10.36.09;	author matthew;	state Exp;
branches;
next	1.3;

1.3
date	95.08.10.12.08.17;	author matthew;	state Exp;
branches;
next	1.2;

1.2
date	95.08.02.15.53.40;	author matthew;	state Exp;
branches;
next	1.1;

1.1
date	95.07.27.11.13.56;	author matthew;	state Exp;
branches;
next	;

1.37.1.1
date	96.09.13.11.13.49;	author hope;	state Exp;
branches;
next	;

1.39.1.1
date	96.10.07.16.04.23;	author hope;	state Exp;
branches;
next	;

1.39.2.1
date	96.10.17.11.22.36;	author hope;	state Exp;
branches;
next	;

1.42.1.1
date	96.11.14.12.46.47;	author hope;	state Exp;
branches
	1.42.1.1.1.1;
next	;

1.42.1.1.1.1
date	96.11.28.14.58.23;	author hope;	state Exp;
branches;
next	;

1.44.1.1
date	96.11.22.18.06.58;	author hope;	state Exp;
branches;
next	;

1.44.2.1
date	96.12.17.09.55.03;	author hope;	state Exp;
branches;
next	;

1.44.3.1
date	96.12.17.17.45.41;	author hope;	state Exp;
branches
	1.44.3.1.1.1;
next	;

1.44.3.1.1.1
date	97.02.24.11.35.11;	author hope;	state Exp;
branches;
next	;

1.44.4.1
date	96.12.18.09.39.40;	author hope;	state Exp;
branches;
next	1.44.4.2;

1.44.4.2
date	96.12.18.14.14.19;	author johnh;	state Exp;
branches;
next	;

1.45.1.1
date	97.05.12.10.32.01;	author hope;	state Exp;
branches
	1.45.1.1.1.1
	1.45.1.1.2.1
	1.45.1.1.3.1;
next	;

1.45.1.1.1.1
date	97.07.28.18.17.02;	author daveb;	state Exp;
branches;
next	1.45.1.1.1.2;

1.45.1.1.1.2
date	97.08.05.09.16.05;	author johnh;	state Exp;
branches;
next	1.45.1.1.1.3;

1.45.1.1.1.3
date	97.08.05.11.10.22;	author johnh;	state Exp;
branches
	1.45.1.1.1.3.1.1;
next	;

1.45.1.1.1.3.1.1
date	97.10.07.11.41.53;	author jkbrook;	state Exp;
branches;
next	;

1.45.1.1.2.1
date	97.09.08.17.10.35;	author daveb;	state Exp;
branches;
next	;

1.45.1.1.3.1
date	97.09.09.14.06.09;	author daveb;	state Exp;
branches;
next	;

1.56.1.1
date	97.09.10.19.20.37;	author brucem;	state Exp;
branches;
next	;

1.56.2.1
date	97.09.11.20.51.52;	author daveb;	state Exp;
branches;
next	1.56.2.2;

1.56.2.2
date	97.09.12.14.46.47;	author johnh;	state Exp;
branches;
next	1.56.2.3;

1.56.2.3
date	98.01.09.11.50.32;	author johnh;	state Exp;
branches;
next	;

1.64.1.1
date	99.04.01.17.55.21;	author daveb;	state Exp;
branches;
next	;


desc
@new unit
Moved from library
@


1.64
log
@[Bug #30435]
Remove license-prompting code
@
text
@(*  ==== CAPI INTERFACE ====
 *
 *  Copyright (C) 1995 Harlequin Ltd
 *
 *  Revision Log
 *  ------------
 * $Log: capi.sml,v $
 * Revision 1.63  1998/07/02  14:33:55  johnh
 * [Bug #30431]
 * Add attributes.
 *
 * Revision 1.62  1998/05/28  17:08:02  johnh
 * [Bug #30369]
 * Make file selection box allow multiple selection.
 *
 * Revision 1.61  1998/03/31  16:17:32  johnh
 * [Bug #30346]
 * Call Capi.getNextWindowPos().
 *
 * Revision 1.60  1998/03/26  11:39:18  johnh
 * [Bug #50035]
 * Allow keyboard accelerators to be platform specific.
 *
 * Revision 1.59  1998/02/17  16:43:36  johnh
 * [Bug #30344]
 * Allow windows to retain size and position.
 *
 * Revision 1.58  1998/01/27  14:12:18  johnh
 * [Bug #30071]
 * Merge in Project Workspace changes.
 *
 * Revision 1.57  1997/10/06  10:58:48  johnh
 * [Bug #30137]
 * Add make_messages_popup.
 *
 * Revision 1.56.2.3  1998/01/09  11:50:32  johnh
 * [Bug #30071]
 * Add Callback.VALUE_CHANGED.
 *
 * Revision 1.56.2.2  1997/09/12  14:46:47  johnh
 * [Bug #30071]
 * Implement new Project Workspace tool.
 *
 * Revision 1.56  1997/09/05  10:23:44  johnh
 * [Bug #30241]
 * Implementing proper Find Dialog.
 *
 * Revision 1.55  1997/08/05  13:33:15  brucem
 * [Bug #30224]
 * Add function makeYesNo.
 *
 * Revision 1.54  1997/07/23  09:16:38  johnh
 * [Bug #30182]
 * Add delete handler for Windows.
 *
 * Revision 1.53  1997/07/18  14:40:26  johnh
 * [Bug #20074]
 * Add comment previously forgot to add.
 *
 * Revision 1.52  1997/07/18  13:29:11  johnh
 * [Bug #20074]
 * Improve license dialog.
 *
 * Revision 1.51  1997/06/18  08:23:21  johnh
 * [Bug #30181]
 * Tidy interrupt button code.
 *
 * Revision 1.50  1997/06/17  16:18:12  johnh
 * [Bug #30179]
 * Fixing interrupt button on Unix - added register_interrupt_widget.
 *
 * Revision 1.49  1997/06/13  09:52:22  johnh
 * [Bug #30175]
 * Add extra arg to make_main_window to include window in dynamic menu.
 *
 * Revision 1.48  1997/05/20  15:57:18  johnh
 * On Windows only, moving interrupt button to toolbar.
 *
 * Revision 1.47  1997/05/16  15:35:57  johnh
 * Implementing single menu bar on Windows.
 * Re-organising menus for Motif.
 *
 * Revision 1.46  1997/05/01  12:32:54  jont
 * [Bug #30088]
 * Get rid of MLWorks.Option
 *
 * Revision 1.45  1997/03/17  14:37:25  johnh
 * [Bug #1954]
 * Added set_min_window_size.
 *
 * Revision 1.44  1996/11/21  11:24:34  jont
 * [Bug #1799]
 * Modify check_insertion to truncate string if it would not fit at all
 *
 * Revision 1.43  1996/11/18  09:52:34  daveb
 * Added splash screen.
 *
 * Revision 1.42  1996/11/12  11:44:28  daveb
 * Adeded license_prompt and license_compaillain.
 *
 * Revision 1.41  1996/11/01  13:41:09  johnh
 * Enabling close from control box on top left of window.
 *
 * Revision 1.40  1996/10/30  13:17:52  johnh
 * Add interrupt button on Windows.
 *
 * Revision 1.39  1996/09/23  14:01:28  matthew
 * Adding register_interrupt_window to capi
 *
 * Revision 1.38  1996/09/19  12:59:22  johnh
 * [Bug #1583]
 * passing has_controlling_tty to exit_mlworks instead of passed ing false.
 *
 * Revision 1.37  1996/07/30  14:37:35  jont
 * Provide a system dependent line terminator
 *
 * Revision 1.36  1996/07/05  14:39:39  daveb
 * [Bug #1260]
 * Changed the Capi layout datatype so that the PANED constructor takes the
 * layout info for its sub-panes.  This enables the Windows layout code to
 * calculate the minimum size of each window.
 *
 * Revision 1.35  1996/05/31  16:12:14  daveb
 * Bug 1074: Capi.list_select now takes a function to be called on any key
 * press handled by the list widget itself.  In the listener, this pops the
 * completions widget down as if the key had been typed at the listener.
 *
 * Revision 1.34  1996/05/28  12:33:50  matthew
 * Adding reset function
 *
 * Revision 1.33  1996/05/16  09:29:40  matthew
 * Adding Text.convert_text
 *
 * Revision 1.32  1996/05/07  11:31:05  jont
 * Array moving to MLWorks.Array
 *
 * Revision 1.31  1996/04/18  09:53:29  matthew
 * Adding start/stop graphics functions
 *
 * Revision 1.30  1996/02/14  10:31:13  matthew
 * Adding clear_rectangle
 *
 * Revision 1.29  1996/02/09  11:27:29  daveb
 * Changed return type of make_scrolllist to a record, with an extra element
 * add_items.  Replaced set_bottom_pos with set_pos (which can be implemented
 * on windows).  Added add_items to the List structure.
 *
 * Revision 1.28  1996/01/25  17:20:51  matthew
 * Adding set_selection for text widgets
 *
 * Revision 1.27  1996/01/12  16:30:45  matthew
 * Adding insertion checks for the benefit of Windows
 *
 * Revision 1.26  1996/01/12  12:09:07  daveb
 * Added comment.
 *
 * Revision 1.25  1996/01/12  10:33:16  daveb
 * Added separate open_dir_dialog function.
 *
 * Revision 1.24  1996/01/10  12:32:52  daveb
 * Replaced find_file with save_as_dialog and open_file_dialog, for Windows.
 *
 * Revision 1.23  1996/01/09  13:48:11  matthew
 * Moving list_select to capi
 *
 * Revision 1.22  1995/12/13  10:15:07  daveb
 * Added FileType datatype and changed type of find_file.
 *
 * Revision 1.21  1995/12/07  14:05:24  matthew
 * Changing interface to clipboard functions
 *
 * Revision 1.20  1995/11/21  14:43:53  matthew
 * Adding transfer_focus function
 *
 * Revision 1.19  1995/11/17  11:15:57  matthew
 * Adding some stuff for listeners
 *
 * Revision 1.18  1995/11/15  15:17:46  matthew
 * Adding support for Windows menu
 *
 * Revision 1.17  1995/11/14  13:58:48  matthew
 * Changing the way we do mouse input to graphics ports
 *
 * Revision 1.16  1995/10/10  12:16:08  nickb
 * Add Resize callback.
 *
 * Revision 1.15  1995/10/04  13:04:19  brianm
 * Adding user-controllable graphics-positioning ... (mods to make_graphics).
 *
 * Revision 1.14  1995/10/02  10:53:18  brianm
 * Adding `with_graphics_port' and related facilities.
 *
 * Revision 1.13  1995/09/22  14:21:11  daveb
 * Added Capi.Text.set_highlight.
 *
 * Revision 1.12  1995/09/21  15:16:50  nickb
 * Make scroll bars on graphics ports optional.
 *
 * Revision 1.11  1995/09/18  12:40:08  brianm
 * Updating by adding Capi Point/Region datatypes
 *
 * Revision 1.10  1995/09/11  13:21:19  matthew
 * Changing top level window initialization
 *
 * Revision 1.9  1995/09/04  14:49:44  matthew
 * Adding make_message_text
 *
 * Revision 1.8  1995/08/30  13:23:43  matthew
 * Adding make_main_window
 *
 * Revision 1.7  1995/08/24  16:03:08  matthew
 * Abstracting text functionality
 *
 * Revision 1.6  1995/08/16  13:26:32  matthew
 * Undoing previous change
 *
 * Revision 1.1  1995/08/16  13:26:32  matthew
 * Initial revision
 * 
 * Revision 1.5  1995/08/16  11:54:10  io
 * sync datatype WidgetClass
 *
 * Revision 1.4  1995/08/15  10:36:09  matthew
 * Removing quit_on_exit
 *
 * Revision 1.3  1995/08/10  12:08:17  matthew
 * Adding make_buttons function to capi
 *
 * Revision 1.2  1995/08/02  15:53:40  matthew
 * Adding event handler stuff
 *
 * Revision 1.1  1995/07/27  11:13:56  matthew
 * new unit
 * Moved from library
 *
 *  Revision 1.6  1995/07/26  13:19:30  matthew
 *  Adding support for font dimensions etc.
 *
 *  Revision 1.5  1995/07/17  12:44:37  matthew
 *  Adding scroll_to functions
 *
 *  Revision 1.4  1995/07/14  14:38:18  matthew
 *  Adding new stuff, including preliminary graphics ports
 *
 *  Revision 1.3  1995/07/07  14:06:27  daveb
 *  Minor changes to paned windows.
 *
 *  Revision 1.2  1995/07/04  14:56:47  matthew
 *  More stuff
 *
 *  Revision 1.1  1995/06/29  15:58:22  matthew
 *  new unit
 *  New "window system independent" interface
 *
 *
 * Copyright (c) 1995 Harlequin Ltd.
 *
 *)

signature CAPI =
sig

  type Widget

  datatype Point = POINT of { x : int, y : int }

  datatype Region = REGION of { x : int, y :int, width : int, height :int }

  type Font

  exception SubLoopTerminated
  exception WindowSystemError of string

  val getNextWindowPos : unit -> int * int

  val initialize_application : string * string * bool -> Widget
  (* (name, title, has_controlling_tty) -> applicationShell *)

  datatype WidgetAttribute =
      PanedMargin of bool
    | Position of    int * int
    | Size of        int * int
    | ReadOnly of    bool

  datatype WidgetClass =
    (* RowColumn should be renamed ButtonPane *)
    Frame | Graphics | Label | Button | Text | RowColumn | Paned | Form
    
  val make_widget : 
    string * WidgetClass * Widget * WidgetAttribute list -> Widget

  val make_managed_widget : 
    string * WidgetClass * Widget * WidgetAttribute list -> Widget

  (* Used in various tools to add or remove window entries from the dynamic
   * windows menu under the tools menu when a window is hidden, or re-shown.
   *)
  val add_main_window : Widget * string -> unit
  val remove_main_window : Widget -> unit

  (* (name, title, parent, has_context_label, in_windows_menu) -> 
	(shell, form, menubar, contextlabel option) *)
  (* The shell is a toplevel shell. *)
  (* in_windows_menu (final bool argument) indicates whether the window to be 
   * created is to be added to the dynamic list of windows.  Any window
   * created by this function other than those contained in the tools menu 
   * should be added to the dynamic list.
   *)
  val make_main_window : 
    {name: 	   string,
     title: 	   string,
     parent: 	   Widget,
     contextLabel: bool,
     winMenu:	   bool,
     pos:	   int * int} -> Widget * Widget * Widget * Widget option    

  val get_main_windows : unit -> (Widget * string) list

  (* (name, title, parent, has_context_label) -> (shell, form, menubar, contextlabel option) *)
  (* The shell is a dialog shell. *)

  val make_main_popup : 
    {name:	   string,
     title:	   string,
     parent:	   Widget,
     contextLabel: bool,
     visibleRef:   bool ref,
     pos:	   int * int} -> Widget * Widget * Widget * Widget option    

  (* This is needed on Win32 platforms to specific a different parent than usual, 
   * which is the same parent as the Podium (ie. dummyWindow).  This is to handle 
   * window focus properly.  This window cannot be created as a main window because
   * it will then not be hidden properly on Motif.
   *)
  val make_messages_popup : Widget * bool ref ->
    Widget * Widget * Widget * Widget option

  (* (parent, has_context_label) -> (form, menubar, contextlabel option) *)
  (* The form window isn't managed *)
  val make_main_subwindows : 
    Widget * bool -> 
    Widget * Widget * Widget option    

  val make_subwindow : Widget -> Widget

  (* Convenience functions for different kinds of widget *)

  val make_popup_shell : string * Widget * WidgetAttribute list * bool ref -> Widget

  (* name, title,parent,attributes -> widget *)
  val make_toplevel_shell : string * string * Widget * WidgetAttribute list -> Widget

  (* Result is the scroll widget and the text widget *)
  val make_scrolled_text : string * Widget * WidgetAttribute list -> Widget * Widget

  (* The results are the scroll window, the list window, and the functions
     for setting and adding to the contents of the list window.  These are
     also passed (curried) to the select and action functions, so that they
     can (e.g.)  modify the contents. *)
  val make_scrolllist:
    {parent: Widget,
     name: string,
     select_fn:
       (Widget * Widget * ('b -> '_a list -> unit) * ('b -> '_a list -> unit))
       -> '_a -> unit,
     action_fn:
       (Widget * Widget * ('b -> '_a list -> unit) * ('b -> '_a list -> unit))
       -> '_a -> unit,
     print_fn: 'b -> '_a -> string}
    -> {scroll: Widget,
	list: Widget,
	set_items: 'b -> '_a list -> unit,
	add_items: 'b -> '_a list -> unit}

  val make_file_selection_box : string * Widget * WidgetAttribute list ->
    Widget * 
    {get_file : unit -> string,
     get_directory : unit -> string,
     set_directory : string -> unit,
     set_mask : string -> unit}

  val list_select :
    (Widget * string * (string -> unit)) ->
    ('_a list * ('_a -> unit) * ('_a -> string)) -> 
    (unit -> unit)

  val remove_menu : Widget -> unit
  val destroy : Widget -> unit
  val initialize_application_shell : Widget -> unit
  val initialize_toplevel : Widget -> unit
  val reveal : Widget -> unit
  val hide : Widget -> unit
  val to_front : Widget -> unit
  val set_min_window_size : Widget * int * int -> unit 

  val transfer_focus : Widget * Widget -> unit
  val set_sensitivity : Widget * bool -> unit
  val set_label_string : Widget * string -> unit
  val set_focus : Widget -> unit
  val parent : Widget -> Widget
  val set_busy : Widget -> unit
  val unset_busy : Widget -> unit
  val widget_size : Widget -> int * int
  val widget_pos : Widget -> int * int
  val set_message_widget : Widget -> unit
  val no_message_widget : unit -> unit
  val set_close_callback : Widget * (unit -> unit) -> unit

  (* miscellaneous utils *)
  val event_loop : bool ref -> unit
  val main_loop : unit -> unit

  (* pop up a file selection tool and return a pathname.  The string argument
     specifies a filename mask. *)
  val open_file_dialog : Widget * string * bool -> string list option 
  val open_dir_dialog : Widget -> string option

  (* Allows the creation of a new directory, but only on Unix. 
   * On Win32, this function is the same as open_dir_dialog *)
  val set_dir_dialog : Widget -> string option

  (* N.B. the Windows implementation of save_as_dialog currently ignores
     the mask argument. *)
  val save_as_dialog : Widget * string -> string option

  (* Create a popup window with an ok button *)
  val send_message : Widget * string -> unit
  (* Create a popup window with `Yes', `No' and 'Cancel' (optional) buttons,
     returns true if user clicks `Yes'. *)
  val makeYesNoCancel : Widget * string * bool -> unit -> bool option

  (* Create a find dialog with optional search facilities:  search direction, 
   * matching case, and/or match whole word.  Takes an search function which 
   * takes the settings of these facilities including the search string.
   *)
  val find_dialog : Widget * ({searchStr: string,
              searchDown: bool,
              matchCase: bool,
              wholeWord: bool} -> unit) 
             * {findStr: string,
                downOpt: bool option,
                wordOpt: bool option,
                caseOpt: bool option}  -> unit -> Widget 

  val with_message : Widget * string -> (unit -> 'a) -> 'a
  val beep : Widget -> unit

  structure Event:
    sig
      eqtype Modifier
      val meta_modifier : Modifier
      datatype Button = LEFT | RIGHT | OTHER
    end

  structure Callback:
    sig
      datatype Type =
	Activate
      | Destroy
      | Unmap
      | Resize
      | ValueChange

      val add : Widget * Type * (unit -> unit) -> unit
    end

  structure List:
    sig
      (* lifted directly from Motif *)
      val get_selected_pos : Widget -> int MLWorks.Internal.Vector.vector
      val select_pos : Widget * int * bool -> unit
      val set_pos : Widget * int -> unit
      val add_items: Widget * string list -> unit
    end

  structure Text:
    sig
      val add_del_handler : Widget * (unit -> unit) -> unit

      val get_key_bindings: 
	{startOfLine: 	 unit -> unit,
	 endOfLine:	 unit -> unit,
	 backwardChar:	 unit -> unit,
	 forwardChar:	 unit -> unit,
	 eofOrDelete:	 unit -> unit,
	 abandon:	 unit -> unit,
	 deleteToEnd:	 unit -> unit,
	 previousLine:	 unit -> unit,
	 nextLine:	 unit -> unit,
	 newLine:   	 unit -> unit,
	 delCurrentLine: unit -> unit,
	 checkCutSel:	 unit -> unit,
	 checkPasteSel:	 unit -> unit} -> (string * (unit -> unit)) list

      val insert : Widget * int * string -> unit
      val replace : Widget * int * int * string -> unit
      val set_insertion_position : Widget * int -> unit
      val get_insertion_position : Widget -> int
      val get_last_position : Widget -> int
      val get_string : Widget -> string
      val set_string : Widget * string -> unit
      val substring : Widget * int * int -> string
      val get_line_and_index : Widget * int -> string * int
      val current_line : Widget * int -> int
      val end_line : Widget * int -> int
      val get_line : Widget * int -> string
      val set_highlight : Widget * int * int * bool -> unit
      val get_selection : Widget -> string
      val set_selection : Widget * int * int -> unit
      val remove_selection : Widget -> unit
      val convert_text : string -> string
      val text_size : string -> int

      val cut_selection : Widget -> unit
      val paste_selection : Widget -> unit
      val delete_selection : Widget -> unit
      val copy_selection : Widget -> unit

      val add_handler : Widget * (string * Event.Modifier list -> bool) -> unit

      (* This isn't portable unfortunately *)
      (* the section of text affected, the new contents, the confirm function *)
      val add_modify_verify : Widget * ((int * int * string * (bool -> unit)) -> unit) -> unit

      (* This is a nasty hack *)
      val read_only_before_prompt : bool

      (* Truncate the widget if adding the string will make it too big *)
      (* Truncate the string if it would be too big to fit at all *)
      val check_insertion : Widget * string * int * int ref list -> string
    end

  val setAttribute : Widget * WidgetAttribute -> unit

  (* layout *)

  structure Layout:
    sig
      (* The lay_out function sets up the constraint resources for the children
       of a form such that they are laid out from top to bottom, in the order
         they appear in the list.  The first text widget in the list, if any,
         will resize to match any changes in the size of the form.
     
         All widgets will have space to the left and right, except for menu bars.
         *)

      datatype Class =
        MENUBAR of Widget
      | FLEX of Widget
      | FIXED of Widget
      | PANED of Widget * (Widget * Class list) list
      | FILEBOX of Widget
      | SPACE

      val lay_out: Widget * (int * int) option * Class list -> unit
    end

  val show_splash_screen : Widget -> unit

  (* Widget is the parent of the message box, the string is the message 
   * to display, and the boolean indicates whether the user clicked
   * retry or cancel (retry == true).
   *)
  val license_complain : Widget -> string -> bool option

  structure GraphicsPorts:
    sig
      type GraphicsPort

      exception UnInitialized
      
      val initialize_gp : GraphicsPort -> unit
      val start_graphics : GraphicsPort -> unit
      val stop_graphics : GraphicsPort -> unit
      val with_graphics : GraphicsPort -> ('a -> 'b) -> 'a -> 'b
      val is_initialized : GraphicsPort -> bool
      val gp_widget : GraphicsPort -> Widget
      val get_offset : GraphicsPort -> Point
      val set_offset : GraphicsPort * Point -> unit
      val clear_clip_region : GraphicsPort -> unit
      val set_clip_region : GraphicsPort * Region -> unit
      val with_highlighting : GraphicsPort * ('a -> 'b) * 'a -> 'b
      val redisplay : GraphicsPort -> unit
      val reexpose : GraphicsPort -> unit
      val copy_gp_region : GraphicsPort * GraphicsPort * Region * Point -> unit
      val make_gp : string * string * Widget -> GraphicsPort
      val text_extent : GraphicsPort * string -> 
        {font_ascent : int,
         font_descent : int,
         ascent : int,
         descent : int,
         lbearing : int,
         rbearing : int,
         width : int}
      val draw_point : GraphicsPort * Point -> unit
      val draw_line : GraphicsPort * Point * Point -> unit
      val draw_rectangle : GraphicsPort * Region -> unit
      val clear_rectangle : GraphicsPort * Region -> unit
      val fill_rectangle : GraphicsPort * Region -> unit
      val draw_arc : GraphicsPort * Region * real * real -> unit
      val draw_image_string : GraphicsPort * string * Point -> unit
      val make_graphics : 
        string * string *			    (* name, title *)
        (GraphicsPort * Region -> unit) *           (* Draw function *)
        (unit -> int * int) *                       (* Extent function *)
	(bool * bool) *				    (* scroll bars? *) 
        Widget ->                                   (* Parent *)
          (Widget *                                 (* Scroll pane *)
           GraphicsPort *                           (* gp *)
           (unit -> unit) *                         (* scroll function *)
           (Point -> unit)                          (* set position *)
          )
      val add_input_handler : GraphicsPort * (Event.Button * Point -> unit) -> unit

      type PixMap

      datatype LineStyle = LINESOLID | LINEONOFFDASH | LINEDOUBLEDASH	
      
      datatype Attribute =
         FONT of Font
      |  LINE_STYLE of LineStyle
      |  LINE_WIDTH of int  
      |  FOREGROUND of PixMap
      |  BACKGROUND of PixMap

      datatype Request =
         REQUEST_FONT
      |  REQUEST_LINE_STYLE
      |  REQUEST_LINE_WIDTH
      |  REQUEST_FOREGROUND
      |  REQUEST_BACKGROUND

      val getAttributes : GraphicsPort * Request list -> Attribute list
      val setAttributes : GraphicsPort * Attribute list -> unit

      val with_graphics_port :(GraphicsPort * ('a -> 'b) * 'a) -> 'b

    end

  (* CLIPBOARD INTERFACE *)
  (* this just deals with text right now *)
  val clipboard_set : Widget * string -> unit
  val clipboard_get : Widget * (string -> unit) -> unit
  val clipboard_empty : Widget -> bool

  (* Reset things.  Call when restarting a saved image *)
  val restart : unit -> unit
    
  (* History saving *)
  val terminator : string

  val register_interrupt_widget : Widget -> unit
  val with_window_updates : (unit -> 'a) -> 'a
  val evaluating : bool ref

end
@


1.64.1.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a7 4
 * Revision 1.64  1998/07/14  10:43:30  jkbrook
 * [Bug #30435]
 * Remove license-prompting code
 *
@


1.63
log
@[Bug #30431]
Add attributes.
@
text
@d8 4
d262 1
a558 1
  val license_prompt : Widget -> unit -> string * string
d564 1
a564 1
  val license_complain : Widget -> string -> bool
@


1.62
log
@[Bug #30369]
Make file selection box allow multiple selection.
@
text
@d8 4
d275 4
a278 1
    PanedMargin of bool
a350 4
  (* This doesn't call into ml when text is inserted *)
  (* So it can be used for eg. GC messages *)
  val make_message_text : string * Widget * WidgetAttribute list -> Widget * Widget

d527 2
@


1.61
log
@[Bug #30346]
Call Capi.getNextWindowPos().
@
text
@d8 4
d407 1
a407 1
  val open_file_dialog : Widget * string -> string option
@


1.60
log
@[Bug #50035]
Allow keyboard accelerators to be platform specific.
@
text
@d8 4
d260 2
@


1.59
log
@[Bug #30344]
Allow windows to retain size and position.
@
text
@d8 4
d461 15
@


1.58
log
@[Bug #30071]
Merge in Project Workspace changes.
@
text
@d8 4
d284 6
a289 2
    string * string * Widget * bool * bool -> 
    Widget * Widget * Widget * Widget option    
d297 6
a302 2
    string * string * Widget * bool * bool ref -> 
    Widget * Widget * Widget * Widget option    
d382 1
d516 1
a516 1
      val lay_out: Widget * Class list -> unit
@


1.57
log
@[Bug #30137]
Add make_messages_popup.
@
text
@d8 12
d353 1
d382 5
d393 1
a393 1
  (* Create a popup window with `Yes' and `No' buttons,
d395 1
a395 1
  val makeYesNo : Widget * string -> unit -> bool
d427 2
@


1.56
log
@[Bug #30241]
Implementing proper Find Dialog.
@
text
@d8 4
d279 8
@


1.56.2.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a7 4
 * Revision 1.56  1997/09/05  10:23:44  johnh
 * [Bug #30241]
 * Implementing proper Find Dialog.
 *
@


1.56.2.2
log
@[Bug #30071]
Implement new Project Workspace tool.
@
text
@a332 1
  val remove_menu : Widget -> unit
a360 5

  (* Allows the creation of a new directory, but only on Unix. 
   * On Win32, this function is the same as open_dir_dialog *)
  val set_dir_dialog : Widget -> string option

d367 1
a367 1
  (* Create a popup window with `Yes', `No' and 'Cancel' (optional) buttons,
d369 1
a369 1
  val makeYesNoCancel : Widget * string * bool -> unit -> bool option
@


1.56.2.3
log
@[Bug #30071]
Add Callback.VALUE_CHANGED.
@
text
@a7 4
 * Revision 1.56.2.2  1997/09/12  14:46:47  johnh
 * [Bug #30071]
 * Implement new Project Workspace tool.
 *
a406 2
      | ValueChange

@


1.56.1.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a7 4
 * Revision 1.56  1997/09/05  10:23:44  johnh
 * [Bug #30241]
 * Implementing proper Find Dialog.
 *
@


1.55
log
@[Bug #30224]
Add function makeYesNo.
@
text
@d8 4
d366 13
@


1.54
log
@[Bug #30182]
Add delete handler for Windows.
@
text
@d8 4
d357 1
d359 4
@


1.53
log
@[Bug #20074]
Add comment previously forgot to add.
@
text
@d8 4
d385 2
@


1.52
log
@[Bug #20074]
Improve license dialog.
@
text
@d8 4
d445 4
a448 1
(* CCC: explain boolean *)
@


1.51
log
@[Bug #30181]
Tidy interrupt button code.
@
text
@d8 4
d440 3
a442 1
  val license_complain : Widget -> string -> unit
@


1.50
log
@[Bug #30179]
Fixing interrupt button on Unix - added register_interrupt_widget.
@
text
@d8 4
a523 1
  val make_interrupt_button : Widget -> Widget
@


1.49
log
@[Bug #30175]
Add extra arg to make_main_window to include window in dynamic menu.
@
text
@d8 4
d521 1
@


1.48
log
@On Windows only, moving interrupt button to toolbar.
@
text
@d8 3
d221 8
a228 1
  (* (name, title, parent, has_context_label) -> (shell, form, menubar, contextlabel option) *)
d230 5
d236 1
a236 1
    string * string * Widget * bool -> 
@


1.47
log
@Implementing single menu bar on Windows.
Re-organising menus for Motif.
@
text
@d8 4
d501 1
a501 1
  val register_interrupt_widget : Widget -> unit
@


1.46
log
@[Bug #30088]
Get rid of MLWorks.Option
@
text
@d8 4
d226 1
a226 1
    string * string * Widget * bool -> 
d239 1
a239 1
  val make_popup_shell : string * Widget * WidgetAttribute list -> Widget
@


1.45
log
@[Bug #1954]
Added set_min_window_size.
@
text
@d8 4
d214 1
a214 1
    Widget * Widget * Widget * Widget MLWorks.Option.option    
d223 1
a223 1
    Widget * Widget * Widget * Widget MLWorks.Option.option    
d229 1
a229 1
    Widget * Widget * Widget MLWorks.Option.option    
d304 2
a305 2
  val open_file_dialog : Widget * string -> string MLWorks.Option.option
  val open_dir_dialog : Widget -> string MLWorks.Option.option
d308 1
a308 1
  val save_as_dialog : Widget * string -> string MLWorks.Option.option
@


1.45.1.1
log
@branched from 1.45
@
text
@a7 4
 * Revision 1.45  1997/03/17  14:37:25  johnh
 * [Bug #1954]
 * Added set_min_window_size.
 *
@


1.45.1.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a7 3
 * Revision 1.45.1.1  1997/05/12  10:32:01  hope
 * branched from 1.45
 *
@


1.45.1.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a7 3
 * Revision 1.45.1.1  1997/05/12  10:32:01  hope
 * branched from 1.45
 *
@


1.45.1.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a7 3
 * Revision 1.45.1.1  1997/05/12  10:32:01  hope
 * branched from 1.45
 *
@


1.45.1.1.1.2
log
@[Bug #20074]
Merging - improving license dialog.
@
text
@a7 4
 *
 * Revision 1.45.1.1.1.1  1997/07/28  18:17:02  daveb
 * branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
d408 1
a408 6

  (* Widget is the parent of the message box, the string is the message 
   * to display, and the boolean indicates whether the user clicked
   * retry or cancel (retry == true).
   *)
  val license_complain : Widget -> string -> bool
@


1.45.1.1.1.3
log
@[Bug #30182]
Merging - Add delete handler for Win32.
@
text
@a8 4
 * Revision 1.45.1.1.1.2  1997/08/05  09:16:05  johnh
 * [Bug #20074]
 * Merging - improving license dialog.
 *
a348 2
      val add_del_handler : Widget * (unit -> unit) -> unit

@


1.45.1.1.1.3.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a7 4
 * Revision 1.45.1.1.1.3  1997/08/05  11:10:22  johnh
 * [Bug #30182]
 * Merging - Add delete handler for Win32.
 *
@


1.44
log
@[Bug #1799]
Modify check_insertion to truncate string if it would not fit at all
@
text
@d8 4
d280 1
@


1.44.4.1
log
@branched from 1.44
@
text
@a7 4
 * Revision 1.44  1996/11/21  11:24:34  jont
 * [Bug #1799]
 * Modify check_insertion to truncate string if it would not fit at all
 *
@


1.44.4.2
log
@Added make_podium_toolbar call.
@
text
@a7 3
 * Revision 1.44.4.1  1996/12/18  09:39:40  hope
 * branched from 1.44
 *
a490 2

  val make_podium_toolbar : Widget * ((unit -> unit) * (unit -> bool)) list -> Widget
@


1.44.3.1
log
@branched from 1.44
@
text
@a7 4
 * Revision 1.44  1996/11/21  11:24:34  jont
 * [Bug #1799]
 * Modify check_insertion to truncate string if it would not fit at all
 *
@


1.44.3.1.1.1
log
@branched from 1.44.3.1
@
text
@a7 3
 * Revision 1.44.3.1  1996/12/17  17:45:41  hope
 * branched from 1.44
 *
@


1.44.2.1
log
@branched from 1.44
@
text
@a7 4
 * Revision 1.44  1996/11/21  11:24:34  jont
 * [Bug #1799]
 * Modify check_insertion to truncate string if it would not fit at all
 *
@


1.44.1.1
log
@branched from 1.44
@
text
@a7 4
 * Revision 1.44  1996/11/21  11:24:34  jont
 * [Bug #1799]
 * Modify check_insertion to truncate string if it would not fit at all
 *
@


1.43
log
@Added splash screen.
@
text
@d8 3
d366 3
a368 1
      val check_insertion : Widget * string * int * int ref list -> unit
@


1.42
log
@Adeded license_prompt and license_compaillain.
@
text
@d8 3
d389 1
@


1.42.1.1
log
@branched from 1.42
@
text
@a7 3
 * Revision 1.42  1996/11/12  11:44:28  daveb
 * Adeded license_prompt and license_compaillain.
 *
@


1.42.1.1.1.1
log
@branched from 1.42.1.1
@
text
@a7 3
 * Revision 1.42.1.1  1996/11/14  12:46:47  hope
 * branched from 1.42
 *
@


1.41
log
@Enabling close from control box on top left of window.
@
text
@d8 3
d385 3
@


1.40
log
@Add interrupt button on Windows.
@
text
@d8 3
d278 1
d471 1
@


1.39
log
@Adding register_interrupt_window to capi
@
text
@d8 3
d465 2
a466 1
  val register_interrupt_widget : Widget->unit
@


1.39.2.1
log
@branched from 1.39
@
text
@a7 3
 * Revision 1.39  1996/09/23  14:01:28  matthew
 * Adding register_interrupt_window to capi
 *
@


1.39.1.1
log
@branched from 1.39
@
text
@a7 3
 * Revision 1.39  1996/09/23  14:01:28  matthew
 * Adding register_interrupt_window to capi
 *
@


1.38
log
@[Bug #1583]
passing has_controlling_tty to exit_mlworks instead of passed ing false.
@
text
@d8 4
d179 1
a179 1
    Frame | Graphics | Label | Text | RowColumn | Paned | Form
d461 2
@


1.37
log
@Provide a system dependent line terminator
@
text
@d8 3
d167 2
a168 2
  val initialize_application : string * string -> Widget
  (* (name, title) -> applicationShell *)
@


1.37.1.1
log
@branched from 1.37
@
text
@a7 3
 * Revision 1.37  1996/07/30  14:37:35  jont
 * Provide a system dependent line terminator
 *
@


1.36
log
@[Bug #1260]
Changed the Capi layout datatype so that the PANED constructor takes the
layout info for its sub-panes.  This enables the Windows layout code to
calculate the minimum size of each window.
@
text
@d8 6
d452 3
@


1.35
log
@Bug 1074: Capi.list_select now takes a function to be called on any key
press handled by the list widget itself.  In the listener, this pops the
completions widget down as if the key had been typed at the listener.
@
text
@d8 5
d356 1
a356 1
      | PANED of Widget
@


1.34
log
@Adding reset function
@
text
@d8 3
d233 1
a233 1
    (Widget * string) ->
@


1.33
log
@Adding Text.convert_text
@
text
@d8 3
d435 3
@


1.32
log
@Array moving to MLWorks.Array
@
text
@d8 3
d309 1
@


1.31
log
@Adding start/stop graphics functions
@
text
@d8 3
d282 1
a282 1
      val get_selected_pos : Widget -> int Vector.vector
@


1.30
log
@Adding clear_rectangle
@
text
@d8 3
d352 3
@


1.29
log
@Changed return type of make_scrolllist to a record, with an extra element
add_items.  Replaced set_bottom_pos with set_pos (which can be implemented
on windows).  Added add_items to the List structure.
@
text
@d8 5
d371 1
@


1.28
log
@Adding set_selection for text widgets
@
text
@d8 3
d186 4
a189 4
  (* The results are the scroll window, the list window, and the function *)
  (* for setting the contents of the list window.  These are also passed *)
  (* (curried) to the select and action functions, so that they can (e.g.) *)
  (* modify the contents. *)
d193 6
a198 2
     select_fn: Widget * Widget * ('b -> '_a list -> unit) -> '_a -> unit,
     action_fn: Widget * Widget * ('b -> '_a list -> unit) -> '_a -> unit,
d200 4
a203 1
    -> Widget * Widget * ('b -> '_a list -> unit)
d273 2
a274 2
      val set_bottom_pos : Widget * int -> unit

@


1.27
log
@Adding insertion checks for the benefit of Windows
@
text
@d8 3
d283 1
@


1.26
log
@Added comment.
@
text
@d8 3
d294 1
a294 1
    (* This is a nasty hack *)
d296 2
@


1.25
log
@Added separate open_dir_dialog function.
@
text
@d8 3
d227 2
@


1.24
log
@Replaced find_file with save_as_dialog and open_file_dialog, for Windows.
@
text
@d8 3
d222 2
a223 4
  datatype FileType = DIRECTORY | FILE
  val find_file : Widget * string * FileType -> string MLWorks.Option.option
  val open_file_dialog :
    Widget * string * FileType -> string MLWorks.Option.option
@


1.23
log
@Moving list_select to capi
@
text
@d8 3
d221 3
@


1.22
log
@Added FileType datatype and changed type of find_file.
@
text
@d8 3
d187 5
d246 1
@


1.21
log
@Changing interface to clipboard functions
@
text
@d8 3
d206 5
a210 2
  (* pop up a file selection tool and return a pathname *)
  val find_file : Widget -> string MLWorks.Option.option
@


1.20
log
@Adding transfer_focus function
@
text
@d8 3
d253 5
d363 3
a365 3
  val clipboard_set : string -> unit
  val clipboard_get : unit -> string
  val clipboard_empty : unit -> bool
@


1.19
log
@Adding some stuff for listeners
@
text
@d8 3
d185 1
a312 1
      val clear_rectangle : GraphicsPort * Region -> unit
@


1.18
log
@Adding support for Windows menu
@
text
@d8 3
d251 3
@


1.17
log
@Changing the way we do mouse input to graphics ports
@
text
@d8 3
d122 2
d343 7
@


1.16
log
@Add Resize callback.
@
text
@d8 3
d113 2
a114 3
  (* (name, title, parent, has_context_label) ->
     (shell, form, menubar, contextlabel option).
     The shell is a toplevel shell. *)
d119 3
a121 3
  (* (name, title, parent, has_context_label) ->
     (shell, form, menubar, contextlabel option).
     The shell is a dialog shell. *)
a195 1
      type Event
a197 1
      val get_key_data : Event -> (string * Modifier list) MLWorks.Option.option
a198 5
      val get_button_data : Event -> (Point * Button) MLWorks.Option.option
      eqtype EventType
      val get_event_type : Event -> EventType
      val KeyPress : EventType
      val ButtonPress : EventType
a202 1
      type CallbackData
a205 1
      | ModifyVerify
a206 1
      | Input
d208 1
a208 6
      val get_event : CallbackData -> Event.Event
      (* Is this a portable representation? *)
      val convert_verify_data : CallbackData ->
        (* the event, the section of text affected, the new contents, the confirm function *)
        Event.Event * int * int * string * (bool -> unit)
      val add : Widget * Type * (CallbackData -> unit) -> unit
d239 4
d283 1
d297 2
a298 1
      val draw_fill_rectangle : GraphicsPort * Region -> unit
d312 1
@


1.15
log
@Adding user-controllable graphics-positioning ... (mods to make_graphics).
@
text
@d8 3
d209 7
a215 1
      datatype Type = Activate | Destroy | ModifyVerify | Unmap | Input
@


1.14
log
@Adding `with_graphics_port' and related facilities.
@
text
@d8 3
d300 10
a309 6
        string * string *			  (* name, title *)
        (GraphicsPort * Region -> unit) *         (* Draw function *)
        (unit -> int * int) *                     (* Extent function *)
	(bool * bool) *				  (* scroll bars? *) 
        Widget ->                                 (* Parent *)
        (Widget * GraphicsPort * (unit -> unit))  (* Scroll pane, gp, scroll function *)
@


1.13
log
@Added Capi.Text.set_highlight.
@
text
@d1 6
a6 1
(*
d8 3
d83 2
d280 1
a280 1
      val copy_gp : GraphicsPort * GraphicsPort * Region * Point -> unit
d297 30
a326 6
        string * string *				 (* name, title *)
        (GraphicsPort * Region -> unit) *                (* Draw function *)
        (unit -> int * int) *                            (* Extent function *)
	(bool * bool) *					 (* scroll bars? *) 
        Widget ->                                        (* Parent *)
        (Widget * GraphicsPort * (unit -> unit))         (* Scroll pane and gp and scroll function *)
@


1.12
log
@Make scroll bars on graphics ports optional.
@
text
@d3 3
d24 3
a26 3
Revision 1.1  1995/08/16  13:26:32  matthew
Initial revision

d79 1
d94 3
a96 2
  (* name,title,parent,has_context_label -> (shell,form,menubar,contextlabel option) *)

d101 3
d108 2
a109 3
  (* parent,has_context_label -> form,menubar,contextlabel option *)
  (* main window isn't managed *)

a120 1

d124 1
a125 1
  val make_scrolled_text : string * Widget * WidgetAttribute list -> Widget * Widget
a133 1

d139 2
a140 1
     print_fn: 'b -> '_a -> string} -> Widget * Widget * ('b -> '_a list -> unit)
d224 1
@


1.11
log
@Updating by adding Capi Point/Region datatypes
@
text
@d3 3
d279 2
a280 2
      val make_scrolled_graphics : 
        string * string *
d283 1
@


1.10
log
@Changing top level window initialization
@
text
@d3 3
d65 4
d174 1
a174 1
      val get_button_data : Event -> (int * int * Button) MLWorks.Option.option
d248 1
d250 1
d254 2
a255 2
      val get_offset : GraphicsPort -> int * int
      val set_offset : GraphicsPort * int * int -> unit
d257 1
a257 1
      val set_clip_region : GraphicsPort * (int * int * int * int) -> unit
d260 1
a260 1
      val copy_gp : GraphicsPort * GraphicsPort * int * int * int * int * int * int -> unit
d270 6
a275 6
      val draw_point : GraphicsPort * int * int -> unit
      val draw_line : GraphicsPort * int * int * int * int -> unit
      val draw_rectangle : GraphicsPort * int * int * int * int -> unit
      val draw_fill_rectangle : GraphicsPort * int * int * int * int -> unit
      val draw_arc : GraphicsPort * int * int * int * int * real * real -> unit
      val draw_image_string : GraphicsPort * string * int * int -> unit
d278 1
a278 1
        (GraphicsPort * int * int * int * int -> unit) * (* Draw function *)
@


1.9
log
@Adding make_message_text
@
text
@d3 3
d134 2
a135 1
  val initialize : Widget -> unit
@


1.8
log
@Adding make_main_window
@
text
@d3 3
d107 3
@


1.7
log
@Abstracting text functionality
@
text
@d3 3
d80 4
d91 2
d125 3
a127 3
  val realize : Widget -> unit
  val manage : Widget -> unit
  val unmanage : Widget -> unit
d219 2
a220 1
      | TEXT of Widget
a222 1
      | OTHER of Widget
@


1.6
log
@Undoing previous change
@
text
@d3 3
a126 1
  val exit_dialog : Widget * Widget * bool -> unit
d191 3
@


1.5
log
@sync datatype WidgetClass
@
text
@d3 6
d60 1
a60 1
    Frame | Graphics | Label | PushButton | Text | RowColumn | Paned | Form
@


1.4
log
@Removing quit_on_exit
@
text
@d3 3
d52 1
a52 1
  datatype WidgetClass = 
d54 1
a54 1
    Frame | Graphics | Label | Text | RowColumn | Paned | Form
@


1.3
log
@Adding make_buttons function to capi
@
text
@d3 3
d50 2
a51 1
    Frame | Graphics | Label | PushButton | Text | RowColumn | Paned | Form
d55 1
d66 1
@


1.2
log
@Adding event handler stuff
@
text
@d3 3
d130 2
a131 2
      datatype button = LEFT | RIGHT | OTHER
      val get_button_data : Event -> (int * int * button) MLWorks.Option.option
d196 1
a196 1
      val lay_out: Class list -> unit
@


1.1
log
@new unit
Moved from library
@
text
@d3 4
d127 2
a128 1
      val get_button_data : Event -> (int * int) MLWorks.Option.option
d207 1
@

head	1.22;
access;
symbols
	MLW_daveb_inline_1_4_99:1.22.1
	MLWorks_21c0_1999_03_25:1.22
	MLWorks_20c1_1998_08_20:1.22
	MLWorks_20c0_1998_08_04:1.22
	MLWorks_20b2c2_1998_06_19:1.22
	MLWorks_20b2_Windows_1998_06_12:1.22
	MLWorks_20b1c1_1998_05_07:1.22
	MLWorks_20b0_1998_04_07:1.22
	MLWorks_20b0_1998_03_20:1.21
	MLWorks_20m2_1998_02_16:1.21
	MLWorks_20m1_1997_10_23:1.20
	MLWorks_11r1:1.17.9.1.1.1.1
	MLWorks_workspace_97:1.20.2
	MLWorks_dt_wizard:1.20.1
	MLWorks_11c0_1997_09_09:1.17.9.1.1.1
	MLWorks_10r3:1.17.9.1.3
	MLWorks_10r2_551:1.17.9.1.2
	MLWorks_11:1.17.9.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.17.9.1
	MLWorks_20m0_1997_06_20:1.20
	MLWorks_1_0_r2c2_1997_06_14:1.17.9.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.17.9.1
	MLWorks_1_0_r2c1_1997_05_12:1.17.9
	MLWorks_BugFix_1997_04_24:1.17
	MLWorks_1_0_r2_Win32_1997_04_11:1.17
	MLWorks_1_0_r2_Unix_1997_04_04:1.17
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.17.7.1.1
	MLWorks_gui_1996_12_18:1.17.8
	MLWorks_1_0_Win32_1996_12_17:1.17.7
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.17.4.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.17.4.1
	JFHgui:1.17.6
	MLWorks_1_0_Irix_1996_11_28:1.17.4.1.1
	MLWorks_1_0_Win32_1996_11_22:1.17.5
	MLWorks_1_0_Unix_1996_11_14:1.17.4
	MLWorks_Open_Beta2_1996_10_11:1.17.3
	MLWorks_License_dev:1.17.2
	MLWorks_1_open_beta_1996_09_13:1.17.1
	MLWorks_Open_Beta_1996_08_22:1.17
	MLWorks_Beta_1996_07_02:1.17
	MLWorks_Beta_1996_06_07:1.17
	MLWorks_Beta_1996_06_06:1.17
	MLWorks_Beta_1996_06_05:1.17
	MLWorks_Beta_1996_06_03:1.17
	MLWorks_Beta_1996_05_31:1.17
	MLWorks_Beta_1996_05_30:1.17;
locks; strict;
comment	@ * @;


1.22
date	98.03.24.17.17.55;	author jont;	state Exp;
branches
	1.22.1.1;
next	1.21;

1.21
date	98.01.27.16.05.22;	author johnh;	state Exp;
branches;
next	1.20;

1.20
date	97.06.09.10.26.54;	author johnh;	state Exp;
branches
	1.20.1.1
	1.20.2.1;
next	1.19;

1.19
date	97.05.16.15.36.37;	author johnh;	state Exp;
branches;
next	1.18;

1.18
date	97.05.01.12.33.07;	author jont;	state Exp;
branches;
next	1.17;

1.17
date	96.05.24.13.22.25;	author daveb;	state Exp;
branches
	1.17.1.1
	1.17.2.1
	1.17.3.1
	1.17.4.1
	1.17.5.1
	1.17.6.1
	1.17.7.1
	1.17.8.1
	1.17.9.1;
next	1.16;

1.16
date	96.05.14.11.58.12;	author daveb;	state Exp;
branches;
next	1.15;

1.15
date	96.05.01.10.42.06;	author jont;	state Exp;
branches;
next	1.14;

1.14
date	96.03.12.13.55.51;	author matthew;	state Exp;
branches;
next	1.13;

1.13
date	96.02.29.14.21.15;	author matthew;	state Exp;
branches;
next	1.12;

1.12
date	96.02.08.11.20.38;	author daveb;	state Exp;
branches;
next	1.11;

1.11
date	96.01.23.14.12.45;	author daveb;	state Exp;
branches;
next	1.10;

1.10
date	96.01.19.16.28.04;	author daveb;	state Exp;
branches;
next	1.9;

1.9
date	96.01.18.14.37.35;	author matthew;	state Exp;
branches;
next	1.8;

1.8
date	96.01.17.14.10.21;	author matthew;	state Exp;
branches;
next	1.7;

1.7
date	96.01.09.13.47.06;	author matthew;	state Exp;
branches;
next	1.6;

1.6
date	95.12.07.14.32.27;	author matthew;	state Exp;
branches;
next	1.5;

1.5
date	95.10.13.14.42.41;	author brianm;	state Exp;
branches;
next	1.4;

1.4
date	95.10.13.12.23.26;	author brianm;	state Exp;
branches;
next	1.3;

1.3
date	95.10.09.11.43.02;	author daveb;	state Exp;
branches;
next	1.2;

1.2
date	95.10.04.12.52.41;	author daveb;	state Exp;
branches;
next	1.1;

1.1
date	95.07.26.14.33.09;	author matthew;	state Exp;
branches;
next	;

1.17.1.1
date	96.09.13.11.13.14;	author hope;	state Exp;
branches;
next	;

1.17.2.1
date	96.10.07.16.03.55;	author hope;	state Exp;
branches;
next	;

1.17.3.1
date	96.10.17.11.22.09;	author hope;	state Exp;
branches;
next	;

1.17.4.1
date	96.11.14.12.46.08;	author hope;	state Exp;
branches
	1.17.4.1.1.1;
next	;

1.17.4.1.1.1
date	96.11.28.14.57.54;	author hope;	state Exp;
branches;
next	;

1.17.5.1
date	96.11.22.18.06.32;	author hope;	state Exp;
branches;
next	;

1.17.6.1
date	96.12.17.09.54.34;	author hope;	state Exp;
branches;
next	;

1.17.7.1
date	96.12.17.17.45.13;	author hope;	state Exp;
branches
	1.17.7.1.1.1;
next	;

1.17.7.1.1.1
date	97.02.24.11.34.41;	author hope;	state Exp;
branches;
next	;

1.17.8.1
date	96.12.18.09.39.12;	author hope;	state Exp;
branches;
next	;

1.17.9.1
date	97.05.12.10.31.32;	author hope;	state Exp;
branches
	1.17.9.1.1.1
	1.17.9.1.2.1
	1.17.9.1.3.1;
next	;

1.17.9.1.1.1
date	97.07.28.18.17.25;	author daveb;	state Exp;
branches
	1.17.9.1.1.1.1.1;
next	;

1.17.9.1.1.1.1.1
date	97.10.07.11.42.16;	author jkbrook;	state Exp;
branches;
next	;

1.17.9.1.2.1
date	97.09.08.17.10.57;	author daveb;	state Exp;
branches;
next	;

1.17.9.1.3.1
date	97.09.09.14.06.32;	author daveb;	state Exp;
branches;
next	;

1.20.1.1
date	97.09.10.19.21.04;	author brucem;	state Exp;
branches;
next	;

1.20.2.1
date	97.09.11.20.52.16;	author daveb;	state Exp;
branches;
next	1.20.2.2;

1.20.2.2
date	97.11.12.16.10.30;	author johnh;	state Exp;
branches;
next	1.20.2.3;

1.20.2.3
date	97.11.20.17.06.38;	author johnh;	state Exp;
branches;
next	;

1.22.1.1
date	99.04.01.17.55.35;	author daveb;	state Exp;
branches;
next	;


desc
@new unit
New unit
@


1.22
log
@[Bug #30090]
Remove uses of MLWorks.IO
@
text
@(*
 * $Log: gui_utils.sml,v $
 * Revision 1.21  1998/01/27  16:05:22  johnh
 * [Bug #30071]
 * Merge in Project Workspace changes.
 *
 * Revision 1.20.2.3  1997/11/20  17:06:38  johnh
 * [Bug #30071]
 * Remove Paths menu.
 *
 * Revision 1.20.2.1  1997/09/11  20:52:16  daveb
 * branched from trunk for label MLWorks_workspace_97
 *
 * Revision 1.20  1997/06/09  10:26:54  johnh
 * [Bug #30068]
 * Removed breakpoints_menu - now in break_trace.
 *
 * Revision 1.19  1997/05/16  15:36:37  johnh
 * Implementing single menu bar on Windows.
 * Re-organising menus for Motif.
 *
 * Revision 1.18  1997/05/01  12:33:07  jont
 * [Bug #30088]
 * Get rid of MLWorks.Option
 *
 * Revision 1.17  1996/05/24  13:22:25  daveb
 * Changed view_options so that it can show just the value printer menu item.
 *
 * Revision 1.16  1996/05/14  11:58:12  daveb
 * Added save_hist to signature.
 *
 * Revision 1.15  1996/05/01  10:42:06  jont
 * String functions explode, implode, chr and ord now only available from String
 * io functions and types
 * instream, oustream, open_in, open_out, close_in, close_out, input, output and end_of_stream
 * now only available from MLWorks.IO
 *
 * Revision 1.14  1996/03/12  13:55:51  matthew
 * Adding path menu
 *
 * Revision 1.13  1996/02/29  14:21:15  matthew
 * Adding extra params to setup_menu
 *
 * Revision 1.12  1996/02/08  11:20:38  daveb
 * Removed the Sensitivity type.
 *
 * Revision 1.11  1996/01/23  14:12:45  daveb
 * Minor changes to menu interfaces.
 *
 * Revision 1.10  1996/01/19  16:28:04  daveb
 * Added make_history function.
 *
 * Revision 1.9  1996/01/18  14:37:35  matthew
 * Changing interface to value_menu
 *
 * Revision 1.8  1996/01/17  14:10:21  matthew
 * Adding Inspect to value menu
 *
 * Revision 1.7  1996/01/09  13:47:06  matthew
 * Moving list_select to capi
 *
 * Revision 1.6  1995/12/07  14:32:27  matthew
 * Changing clipboard interface
 *
 * Revision 1.5  1995/10/13  14:42:41  brianm
 * Another Menu utility ...
 *
 * Revision 1.4  1995/10/13  12:23:26  brianm
 * Adding some PopUp Menu utility functions : (int_value, etc.)
 *
 * Revision 1.3  1995/10/09  11:43:02  daveb
 * The search_opt field of the context menu now takes a boolean component which
 * controls whether users are given the option of which contexts to search.
 * In input tools this should be true, in the context browser it should be false.
 *
 * Revision 1.2  1995/10/04  12:52:41  daveb
 * setup_menu now takes a get_context function argument.  This is because the
 * mode options have been moved into this menu until we implement the full
 * contexts-as-menus plan.
 *
 * Revision 1.1  1995/07/26  14:33:09  matthew
 * new unit
 * New unit
 *
 *  Revision 1.25  1995/07/04  13:47:40  matthew
 *  Moving various functions to CAPI
 *
 *  Revision 1.24  1995/06/05  13:19:52  daveb
 *  Added NO_SENSE_SELECTION option for Sensitivity type.
 *
 *  Revision 1.23  1995/06/01  10:28:14  daveb
 *  Added new type MotifContext, which combines a user_context with
 *  dialog boxes for context-specific options.  Changed context_menu to
 *  incorporate entries for popping up the options dialogs for the current
 *  context.  Put the remaining options dialogs, for tool-specific options,
 *  in the view_options function, which returns items for use in "view"
 *  menus.
 *
 *  Revision 1.22  1995/05/22  10:51:12  matthew
 *  Changing interface to list_select.
 *
 *  Revision 1.21  1995/04/20  13:11:27  matthew
 *  Added set_sensitivity and input_string
 *
 *  Revision 1.20  1995/04/18  14:31:43  daveb
 *  Added get_context argument to context_menu.
 *
 *  Revision 1.19  1995/03/16  18:20:22  daveb
 *  Made context_menu ignore constant contexts if asked to do so.
 *
 *  Revision 1.18  1995/03/10  15:04:27  daveb
 *  Added support for selections to the options menu.
 *
 *  Revision 1.17  1994/09/21  16:05:06  brianm
 *  Adding value menu implementation ...
 *
 *  Revision 1.16  1994/06/20  11:13:12  daveb
 *  Replaced ContextRef with user_context.
 *
 *  Revision 1.15  1994/04/06  11:31:20  daveb
 *  Added breakpoints menu.
 *
 *  Revision 1.14  1993/12/10  11:01:36  daveb
 *  Added context_menu function.
 *
 *  Revision 1.13  1993/10/08  16:46:50  matthew
 *  Merging in bug fixes
 *
 *  Revision 1.12  1993/09/13  09:16:20  daveb
 *  Merged in bug fix.
 *
 *  Revision 1.11.1.3  1993/10/08  10:35:18  matthew
 *  Added beep and cut buffer operations
 *
 *  Revision 1.11.1.2  1993/09/10  11:13:07  daveb
 *  Added name parameter to MotifUtils.list_select.
 *
 *  Revision 1.11.1.1  1993/08/10  16:54:49  jont
 *  Fork for bug fixing
 *
 *  Revision 1.11  1993/08/10  16:54:49  matthew
 *  Return update function from options_menu
 *
 *  Revision 1.10  1993/07/29  11:28:46  matthew
 *  Added with_message function
 *
 *  Revision 1.9  1993/05/27  16:14:35  matthew
 *  Return exit function from list_select
 *
 *  Revision 1.8  1993/05/13  10:06:51  daveb
 *  options_menu now takes a string to use for the title of the options
 *  dialogs.
 *
 *  Revision 1.7  1993/05/06  13:45:39  daveb
 *  Added make_outstream.
 *
 *  Revision 1.6  1993/05/04  16:22:09  matthew
 *  Added fileselect function
 *
 *  Revision 1.5  1993/04/30  14:40:04  daveb
 *  Moved Editor options dialog to new setup menu.
 *
 *  Revision 1.4  1993/04/28  10:04:25  daveb
 *  Changes to make_scrolllist.
 *
 *  Revision 1.3  1993/04/27  12:39:32  daveb
 *  Added options_menu code from _listener and _fileselect.
 *
 *  Revision 1.2  1993/04/23  14:19:59  matthew
 *  Added send_message function
 *
 *  Revision 1.1  1993/04/21  12:11:37  daveb
 *  Initial revision
 *
 *
 * Copyright (c) 1993 Harlequin Ltd.
 *
 *)

require "^.basis.__text_io";

signature GUI_UTILS =
sig
  type Widget
  type ButtonSpec
  type OptionSpec
  type Type

  type user_context_options
  type user_tool_options
  type user_preferences
  type user_context

  val make_outstream : (string -> unit) -> TextIO.outstream
  (* make_outstream uses a local buffer to implement an outstream.  It uses
     its argument to actually display the text. *)

  type MotifContext
  (* A MotifContext combines a user_context with some option dialogs. *)

  val listener_properties:
    Widget * (unit -> MotifContext) -> ButtonSpec

  val setup_menu:
    Widget * (unit -> MotifContext) * user_preferences * (unit -> user_context_options) -> 
	(string * (unit -> unit) * (unit -> bool)) list

  datatype Writable = WRITABLE | ALL

  val make_context: user_context * Widget * user_preferences -> MotifContext

  val makeInitialContext: Widget * user_preferences -> unit

  val getInitialContext: unit -> MotifContext

  val get_user_context: MotifContext -> user_context

  val get_context_name: MotifContext -> string

  (* A context menu includes entries for setting the current mode, saving the
     source to a file, and creating a new context.  The writable argument 
     controls whether the menu contains the entries for creating new contexts.
     If full_menus is set, it also contains entries for selecting the current
     context and for setting individual options. *)
  val context_menu :
    {set_state: MotifContext -> unit,
     get_context: unit -> MotifContext,
     writable: Writable,
     applicationShell: Widget,
     shell: Widget,
     user_preferences: user_preferences}
    -> ButtonSpec

  val search_button :
    Widget * (unit -> MotifContext) * (string -> unit) * bool
    -> ButtonSpec

  (* view_options returns a list of items for inclusion in a view menu.
     These items pop-up dialogs for setting the tool-specific options.
     The ViewOptions type controls which dialogs the funtion creates.
     The string argument is the title of the dialog shells. *)
  datatype ViewOptions = SENSITIVITY | VALUE_PRINTER | INTERNALS

  val view_options :
    {parent: Widget,
     title: string,
     user_options: user_tool_options, 
     user_preferences: user_preferences,
     caller_update_fn: user_tool_options -> unit,
     view_type: ViewOptions list}
    -> ButtonSpec 

  (* Value menu : Edit, Trace, Untrace, etc. *)
  val value_menu :
    {parent: Widget,
     user_preferences: user_preferences ,
     inspect_fn: ((string * (MLWorks.Internal.Value.T * Type))->unit)
							option,
     get_value: unit -> (string * (MLWorks.Internal.Value.T * Type))
							option,
     enabled: bool,
     tail: ButtonSpec list}
    -> ButtonSpec

  (* Some PopUp Menu utilities *)

  val toggle_value : string * ''a ref * ''a -> OptionSpec
  val bool_value : string * bool ref -> OptionSpec
  val text_value : string * string ref -> OptionSpec
  val int_value : string * int ref -> OptionSpec

  (* save the source of the declarations in the current context *)
  val save_history : bool * user_context * Widget -> unit

  (* tool-specific input history *)
  val make_history :
    user_preferences * (string -> unit) ->
    {update_history: string list -> unit,
     prev_history: unit -> unit,
     next_history: unit -> unit,
     history_end: unit -> bool,
     history_start: unit -> bool,
     history_menu: ButtonSpec}

end
@


1.22.1.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a2 4
 * Revision 1.22  1998/03/24  17:17:55  jont
 * [Bug #30090]
 * Remove uses of MLWorks.IO
 *
@


1.21
log
@[Bug #30071]
Merge in Project Workspace changes.
@
text
@d3 4
d180 2
d194 1
a194 1
  val make_outstream : (string -> unit) -> MLWorks.IO.outstream
@


1.20
log
@[Bug #30068]
Removed breakpoints_menu - now in break_trace.
@
text
@d3 11
d195 3
a200 2

  val paths_menu : Widget -> ButtonSpec
@


1.20.2.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a2 4
 * Revision 1.20  1997/06/09  10:26:54  johnh
 * [Bug #30068]
 * Removed breakpoints_menu - now in break_trace.
 *
@


1.20.2.2
log
@[Bug #30071]
Move menu items from Usage->GeneralPreferences to Listener->Properties.
@
text
@a2 3
 * Revision 1.20.2.1  1997/09/11  20:52:16  daveb
 * branched from trunk for label MLWorks_workspace_97
 *
a186 3

  val listener_properties:
    Widget * (unit -> MotifContext) -> ButtonSpec
@


1.20.2.3
log
@[Bug #30071]
Remove Paths menu.
@
text
@d198 2
@


1.20.1.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a2 4
 * Revision 1.20  1997/06/09  10:26:54  johnh
 * [Bug #30068]
 * Removed breakpoints_menu - now in break_trace.
 *
@


1.19
log
@Implementing single menu bar on Windows.
Re-organising menus for Motif.
@
text
@d3 4
a188 2

  val breakpoints_menu : Widget -> ButtonSpec list
@


1.18
log
@[Bug #30088]
Get rid of MLWorks.Option
@
text
@d3 4
d181 2
a182 1
    Widget * (unit -> MotifContext) * user_preferences * (unit -> user_context_options) -> ButtonSpec
d186 1
a186 1
  val breakpoints_menu : Widget -> ButtonSpec
d231 1
a231 1
    -> ButtonSpec list
d241 1
@


1.17
log
@Changed view_options so that it can show just the value printer menu item.
@
text
@d3 3
d233 1
a233 1
							MLWorks.Option.option,
d235 1
a235 1
							MLWorks.Option.option,
@


1.17.9.1
log
@branched from 1.17
@
text
@a2 3
 * Revision 1.17  1996/05/24  13:22:25  daveb
 * Changed view_options so that it can show just the value printer menu item.
 *
@


1.17.9.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a2 3
 * Revision 1.17.9.1  1997/05/12  10:31:32  hope
 * branched from 1.17
 *
@


1.17.9.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a2 3
 * Revision 1.17.9.1  1997/05/12  10:31:32  hope
 * branched from 1.17
 *
@


1.17.9.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a2 3
 * Revision 1.17.9.1  1997/05/12  10:31:32  hope
 * branched from 1.17
 *
@


1.17.9.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a2 3
 * Revision 1.17.9.1.1.1  1997/07/28  18:17:25  daveb
 * branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
@


1.17.8.1
log
@branched from 1.17
@
text
@a2 3
 * Revision 1.17  1996/05/24  13:22:25  daveb
 * Changed view_options so that it can show just the value printer menu item.
 *
@


1.17.7.1
log
@branched from 1.17
@
text
@a2 3
 * Revision 1.17  1996/05/24  13:22:25  daveb
 * Changed view_options so that it can show just the value printer menu item.
 *
@


1.17.7.1.1.1
log
@branched from 1.17.7.1
@
text
@a2 3
 * Revision 1.17.7.1  1996/12/17  17:45:13  hope
 * branched from 1.17
 *
@


1.17.6.1
log
@branched from 1.17
@
text
@a2 3
 * Revision 1.17  1996/05/24  13:22:25  daveb
 * Changed view_options so that it can show just the value printer menu item.
 *
@


1.17.5.1
log
@branched from 1.17
@
text
@a2 3
 * Revision 1.17  1996/05/24  13:22:25  daveb
 * Changed view_options so that it can show just the value printer menu item.
 *
@


1.17.4.1
log
@branched from 1.17
@
text
@a2 3
 * Revision 1.17  1996/05/24  13:22:25  daveb
 * Changed view_options so that it can show just the value printer menu item.
 *
@


1.17.4.1.1.1
log
@branched from 1.17.4.1
@
text
@a2 3
 * Revision 1.17.4.1  1996/11/14  12:46:08  hope
 * branched from 1.17
 *
@


1.17.3.1
log
@branched from 1.17
@
text
@a2 3
 * Revision 1.17  1996/05/24  13:22:25  daveb
 * Changed view_options so that it can show just the value printer menu item.
 *
@


1.17.2.1
log
@branched from 1.17
@
text
@a2 3
 * Revision 1.17  1996/05/24  13:22:25  daveb
 * Changed view_options so that it can show just the value printer menu item.
 *
@


1.17.1.1
log
@branched from 1.17
@
text
@a2 3
 * Revision 1.17  1996/05/24  13:22:25  daveb
 * Changed view_options so that it can show just the value printer menu item.
 *
@


1.16
log
@Added save_hist to signature.
@
text
@d3 3
d214 1
a214 1
  datatype ViewOptions = VIEW_ALL | SENSE_ONLY
d222 1
a222 1
     view_type: ViewOptions}
@


1.15
log
@String functions explode, implode, chr and ord now only available from String
io functions and types
instream, oustream, open_in, open_out, close_in, close_out, input, output and end_of_stream
now only available from MLWorks.IO
@
text
@d3 6
d239 3
@


1.14
log
@Adding path menu
@
text
@d3 3
d157 1
a157 1
  val make_outstream : (string -> unit) -> outstream
@


1.13
log
@Adding extra params to setup_menu
@
text
@d3 3
d163 2
@


1.12
log
@Removed the Sensitivity type.
@
text
@d3 3
d159 1
a159 1
    Widget * (unit -> MotifContext) * user_preferences -> ButtonSpec
@


1.11
log
@Minor changes to menu interfaces.
@
text
@d3 3
a192 9
     The Sensitivity type controls whether the sensitivity dialog contains
     toggles for controlling sensitivity to the current selection -- for
     some tools this is irrelevant.  The options are:
       SENSE_ALL: sense selection, set_selection, sense_context, set_context.
       NO_SET_SELECTION: omit set_selection
       NO_SENSE_SELECTION: omit sense_selection
       CONTEXT_ONLY: set_selection, sense_context, set_context.
     sense_context and set_context are omitted if full_menus is not set,
     regardless of the value of the sensitivity field.
a194 2
  datatype Sensitivity =
    SENSE_ALL | NO_SET_SELECTION | NO_SENSE_SELECTION | CONTEXT_ONLY
a201 1
     sensitivity: Sensitivity,
@


1.10
log
@Added make_history function.
@
text
@d3 3
a179 1
     search_opt: ((string -> unit) * bool) MLWorks.Option.option,
d183 4
d215 9
a223 7
  val  value_menu :
    Widget *
    user_preferences * 
    ((string * (MLWorks.Internal.Value.T * Type))->unit) MLWorks.Option.option *
    (unit -> (string * (MLWorks.Internal.Value.T * Type)) MLWorks.Option.option) ->
    ButtonSpec

@


1.9
log
@Changing interface to value_menu
@
text
@d3 3
d223 10
@


1.8
log
@Adding Inspect to value menu
@
text
@d3 3
d208 3
a210 2
    user_preferences * (unit->unit) MLWorks.Option.option *
    (unit -> (MLWorks.Internal.Value.T * Type) MLWorks.Option.option) ->
@


1.7
log
@Moving list_select to capi
@
text
@d3 3
d129 2
d202 1
a202 1
  (* Value menu : Edit, Trace, Untrace *)
d204 4
a207 7
    Widget * user_context * user_tool_options * user_preferences * (Widget list)
    -> ButtonSpec

  val  value_menu_strfun :
    Widget * user_context * user_tool_options * user_preferences
    * (unit -> string)
    -> ButtonSpec
@


1.6
log
@Changing clipboard interface
@
text
@d3 3
a133 5

  val list_select :
    (Widget * string) ->
    ('_a list * ('_a -> unit) * ('_a -> string)) -> 
    (unit -> unit)
@


1.5
log
@Another Menu utility ...
@
text
@d3 3
a197 5

  (* cuttin' an' pastin' *)
  val  cutSelection : Widget -> unit
  val  copySelection : Widget -> unit
  val  pasteSelection : Widget -> unit
@


1.4
log
@Adding some PopUp Menu utility functions : (int_value, etc.)
@
text
@d3 3
d215 1
@


1.3
log
@The search_opt field of the context menu now takes a boolean component which
controls whether users are given the option of which contexts to search.
In input tools this should be true, in the context browser it should be false.
@
text
@d3 5
d116 1
d207 7
@


1.2
log
@setup_menu now takes a get_context function argument.  This is because the
mode options have been moved into this menu until we implement the full
contexts-as-menus plan.
@
text
@d3 5
d156 1
a156 1
     search_opt: (string -> unit) MLWorks.Option.option,
@


1.1
log
@new unit
New unit
@
text
@d3 4
d120 5
a124 1
  val setup_menu : Widget * user_preferences -> ButtonSpec
a129 3
  type MotifContext
  (* A MotifContext combines a user_context with some option dialogs. *)

d150 2
@

head	1.4;
access;
symbols
	mlworks-28-01-1994:1.4
	Release:1.4
	mlworks-beta-01-09-1993:1.4
	MLWorks-1-0-4-29/01/1993:1.4
	MLWorks-1-0-3-21/12/1992:1.4
	MLWorks-1-0-2-15/12/1992:1.4
	MLWorks-1-0-1-04/12/1992:1.4
	checkpoint_17_08_92:1.4
	Ten15_release_21-08-91:1.3
	Ten15_release_19-08-91:1.2;
locks; strict;


1.4
date	91.08.27.12.49.33;	author davida;	state Exp;
branches
	1.4.1.1;
next	1.3;

1.3
date	91.08.19.16.27.03;	author davida;	state Exp;
branches;
next	1.2;

1.2
date	91.08.08.13.26.06;	author davida;	state Exp;
branches;
next	1.1;

1.1
date	91.08.06.15.10.45;	author davida;	state Exp;
branches;
next	;

1.4.1.1
date	91.08.27.12.49.33;	author jont;	state Exp;
branches;
next	;


desc
@Subfunctions for the second phase of lambda-optimisation.
@


1.4
log
@Now uses new form for Primitives ("pervasive" datatype), and
sets constructor tag parameters (NOT PROPERLY YET), and
ord/chr functions.
@
text
@(*       __optimisesub.sml        *)
(* Sub-phases in lambda-optimiser *)

(*
$Log:	__optimisesub.sml,v $
Revision 1.3  91/08/19  16:27:03  davida
Changed for constant folding

Revision 1.2  91/08/08  13:26:06  davida
Added new functor parameter.

Revision 1.1  91/08/06  15:10:45  davida
Initial revision


Copyright (c) 1991 Harlequin Ltd.
*)

require "../utils/__set";
require "../utils/__table";
require "../utils/__bignum";
require "../machine/__machtypes";
require "../main/__primitives";
require "../main/__pervasives";
require "../basics/__ident";
require "__lambdatypes";
require "__lambdasub";
require "__environ";
require "_optimisesub";

structure OptimiseSub_ = 
   OptimiseSub(structure LT = LambdaTypes_
	       val primitive_true  = LT.INT 1    (* for now! *)
	       and primitive_false = LT.INT 0    (* for now! *)   
	       val primitive_list_cons = LT.INT 0      (* for now! *)
	       and primitive_list_nil  = LT.INT 1      (* for now! *)
	       val ord_fold_function = MachTypes_.ord
	       and chr_fold_function = MachTypes_.chr
	       exception Ord = MachTypes_.Ord
	             and Chr = MachTypes_.Chr
    	       structure LS = LambdaSub_
	       structure Environ = Environ_
	       structure Primitives = Primitives_
	       structure Pervasives = Pervasives_
	       structure Ident = Ident_
	       structure Set = Set_
	       structure Table = Table_
	       structure BigNum = BigNum_);
    


@


1.4.1.1
log
@Fork for bug fixing
@
text
@d5 1
a5 6
$Log: __optimisesub.sml,v $
Revision 1.4  1991/08/27  12:49:33  davida
Now uses new form for Primitives ("pervasive" datatype), and
sets constructor tag parameters (NOT PROPERLY YET), and
ord/chr functions.

@


1.3
log
@Changed for constant folding
@
text
@d6 3
d22 1
d24 1
d31 18
a48 8
structure OptimiseSub_ = OptimiseSub(structure LT = LambdaTypes_
				     structure LS = LambdaSub_
				     structure Environ = Environ_
				     structure Primitives = Primitives_
				     structure Ident = Ident_
				     structure Set = Set_
				     structure Table = Table_
				     structure BigNum = BigNum_);
@


1.2
log
@Added new functor parameter.
@
text
@d6 3
d18 3
d23 1
d28 3
d32 2
a33 1
				     structure Table = Table_);
@


1.1
log
@Initial revision
@
text
@d5 3
a7 1
$Log$
d9 1
d14 1
d21 2
a22 1
				     structure Set = Set_);
@

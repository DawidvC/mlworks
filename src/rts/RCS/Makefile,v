head	1.85;
access;
symbols
	Final_version_of_old_runtime:1.85
	ML_revised_beta_release_25/05/94:1.84
	ML_final_beta_release_02/03/94:1.84
	mlworks-28-01-1994:1.79
	Release:1.75
	mlworks-beta-01-09-1993:1.75
	MLWorks-1-0-3-21/12/1992:1.56
	MLWorks-1-0-2-15/12/1992:1.55
	MLWorks-1-0-1-04/12/1992:1.53
	checkpoint_17_08_92:1.45;
locks; strict;
comment	@# @;


1.85
date	94.06.06.10.39.46;	author nickh;	state Exp;
branches;
next	1.84;

1.84
date	94.01.31.15.35.18;	author daveb;	state Exp;
branches;
next	1.83;

1.83
date	94.01.31.11.50.34;	author daveb;	state Exp;
branches;
next	1.82;

1.82
date	94.01.28.18.02.03;	author nickh;	state Exp;
branches;
next	1.81;

1.81
date	94.01.28.17.59.27;	author nickh;	state Exp;
branches;
next	1.80;

1.80
date	94.01.28.17.26.38;	author nickh;	state Exp;
branches;
next	1.79;

1.79
date	94.01.27.12.11.54;	author nickh;	state Exp;
branches;
next	1.78;

1.78
date	94.01.25.16.26.29;	author nickh;	state Exp;
branches;
next	1.77;

1.77
date	93.11.23.16.57.54;	author jont;	state Exp;
branches;
next	1.76;

1.76
date	93.09.17.15.06.58;	author richard;	state Exp;
branches;
next	1.75;

1.75
date	93.08.27.14.06.21;	author richard;	state Exp;
branches
	1.75.1.1;
next	1.74;

1.74
date	93.06.03.15.35.16;	author jont;	state Exp;
branches;
next	1.73;

1.73
date	93.05.12.16.13.05;	author richard;	state Exp;
branches;
next	1.72;

1.72
date	93.05.12.14.08.18;	author richard;	state Exp;
branches;
next	1.71;

1.71
date	93.04.29.08.47.20;	author richard;	state Exp;
branches;
next	1.70;

1.70
date	93.04.26.09.00.13;	author richard;	state Exp;
branches;
next	1.69;

1.69
date	93.04.21.16.06.50;	author richard;	state Exp;
branches;
next	1.68;

1.68
date	93.04.21.13.04.14;	author richard;	state Exp;
branches;
next	1.67;

1.67
date	93.03.25.14.43.28;	author daveb;	state Exp;
branches;
next	1.66;

1.66
date	93.03.24.15.52.28;	author jont;	state Exp;
branches;
next	1.65;

1.65
date	93.03.23.15.01.58;	author jont;	state Exp;
branches;
next	1.64;

1.64
date	93.03.19.15.57.22;	author jont;	state Exp;
branches;
next	1.63;

1.63
date	93.03.15.11.34.25;	author daveb;	state Exp;
branches;
next	1.62;

1.62
date	93.03.10.15.44.01;	author jont;	state Exp;
branches;
next	1.61;

1.61
date	93.03.08.16.59.35;	author jont;	state Exp;
branches;
next	1.60;

1.60
date	93.01.29.15.02.55;	author jont;	state Exp;
branches;
next	1.59;

1.59
date	93.01.27.12.37.56;	author richard;	state Exp;
branches;
next	1.58;

1.58
date	93.01.06.11.25.34;	author richard;	state Exp;
branches;
next	1.57;

1.57
date	92.12.23.14.20.15;	author richard;	state Exp;
branches;
next	1.56;

1.56
date	92.12.17.16.11.19;	author richard;	state Exp;
branches;
next	1.55;

1.55
date	92.12.14.12.34.47;	author richard;	state Exp;
branches;
next	1.54;

1.54
date	92.12.14.12.11.59;	author daveb;	state Exp;
branches;
next	1.53;

1.53
date	92.12.03.14.08.49;	author richard;	state Exp;
branches;
next	1.52;

1.52
date	92.12.02.16.26.01;	author clive;	state Exp;
branches;
next	1.51;

1.51
date	92.11.11.16.32.19;	author clive;	state Exp;
branches;
next	1.50;

1.50
date	92.10.29.13.00.36;	author richard;	state Exp;
branches;
next	1.49;

1.49
date	92.10.12.12.47.16;	author clive;	state Exp;
branches;
next	1.48;

1.48
date	92.10.02.10.04.38;	author matthew;	state Exp;
branches;
next	1.47;

1.47
date	92.10.02.09.32.52;	author richard;	state Exp;
branches;
next	1.46;

1.46
date	92.10.02.08.40.40;	author richard;	state Exp;
branches;
next	1.45;

1.45
date	92.08.14.11.04.58;	author richard;	state Exp;
branches;
next	1.44;

1.44
date	92.08.07.10.10.12;	author richard;	state Exp;
branches;
next	1.43;

1.43
date	92.08.04.12.28.42;	author richard;	state Exp;
branches;
next	1.42;

1.42
date	92.07.30.11.11.11;	author richard;	state Exp;
branches;
next	1.41;

1.41
date	92.07.28.14.31.45;	author richard;	state Exp;
branches;
next	1.40;

1.40
date	92.07.23.16.00.59;	author richard;	state Exp;
branches;
next	1.39;

1.39
date	92.07.21.15.56.43;	author richard;	state Exp;
branches;
next	1.38;

1.38
date	92.07.15.11.17.17;	author richard;	state Exp;
branches;
next	1.37;

1.37
date	92.07.14.15.48.26;	author richard;	state Exp;
branches;
next	1.36;

1.36
date	92.07.03.08.06.00;	author richard;	state Exp;
branches;
next	1.35;

1.35
date	92.07.01.16.27.04;	author richard;	state Exp;
branches;
next	1.34;

1.34
date	92.06.25.08.21.43;	author richard;	state Exp;
branches;
next	1.33;

1.33
date	92.06.22.14.58.49;	author clive;	state Exp;
branches;
next	1.32;

1.32
date	92.06.11.11.47.31;	author clive;	state Exp;
branches;
next	1.31;

1.31
date	92.05.18.09.21.12;	author clive;	state Exp;
branches;
next	1.30;

1.30
date	92.05.14.11.37.25;	author clive;	state Exp;
branches;
next	1.29;

1.29
date	92.05.05.13.00.27;	author clive;	state Exp;
branches;
next	1.28;

1.28
date	92.04.15.10.22.13;	author richard;	state Exp;
branches;
next	1.27;

1.27
date	92.04.13.16.51.00;	author clive;	state Exp;
branches;
next	1.26;

1.26
date	92.04.06.11.24.13;	author richard;	state Exp;
branches;
next	1.25;

1.25
date	92.04.02.14.09.23;	author richard;	state Exp;
branches;
next	1.24;

1.24
date	92.03.26.15.02.50;	author richard;	state Exp;
branches;
next	1.23;

1.23
date	92.03.24.16.13.38;	author richard;	state Exp;
branches;
next	1.22;

1.22
date	92.03.18.12.01.11;	author richard;	state Exp;
branches;
next	1.21;

1.21
date	92.03.11.15.20.20;	author richard;	state Exp;
branches;
next	1.20;

1.20
date	92.02.14.17.12.12;	author richard;	state Exp;
branches;
next	1.19;

1.19
date	92.01.27.14.52.27;	author richard;	state Exp;
branches;
next	1.18;

1.18
date	92.01.17.15.02.31;	author richard;	state Exp;
branches;
next	1.17;

1.17
date	92.01.08.12.03.00;	author richard;	state Exp;
branches;
next	1.16;

1.16
date	92.01.02.13.09.17;	author richard;	state Exp;
branches;
next	1.15;

1.15
date	91.12.20.17.19.09;	author richard;	state Exp;
branches;
next	1.14;

1.14
date	91.12.17.16.35.00;	author nickh;	state Exp;
branches;
next	1.13;

1.13
date	91.12.13.12.13.52;	author richard;	state Exp;
branches;
next	1.12;

1.12
date	91.12.04.15.45.34;	author richard;	state Exp;
branches;
next	1.11;

1.11
date	91.10.29.17.46.22;	author davidt;	state Exp;
branches;
next	1.10;

1.10
date	91.10.28.12.29.06;	author davidt;	state Exp;
branches;
next	1.9;

1.9
date	91.10.24.17.19.49;	author davidt;	state Exp;
branches;
next	1.8;

1.8
date	91.10.23.16.31.33;	author davidt;	state Exp;
branches;
next	1.7;

1.7
date	91.10.22.16.24.23;	author davidt;	state Exp;
branches;
next	1.6;

1.6
date	91.10.21.14.43.56;	author davidt;	state Exp;
branches;
next	1.5;

1.5
date	91.10.18.18.46.18;	author davidt;	state Exp;
branches;
next	1.4;

1.4
date	91.10.17.16.56.44;	author davidt;	state Exp;
branches;
next	1.3;

1.3
date	91.10.17.15.54.28;	author davidt;	state Exp;
branches;
next	1.2;

1.2
date	91.10.17.11.29.50;	author davidt;	state Exp;
branches;
next	1.1;

1.1
date	91.10.16.15.16.27;	author davidt;	state Exp;
branches;
next	;

1.75.1.1
date	93.08.27.14.06.21;	author jont;	state Exp;
branches;
next	1.75.1.2;

1.75.1.2
date	93.10.12.10.50.00;	author matthew;	state Exp;
branches;
next	;


desc
@The makefile for the run-time system
@


1.85
log
@Removed plugin storage manager.
Also now use gcc for link/loading, telling it to use /bin/ld. This
means we don't have to specify the location of the Gnu libraries.
@
text
@#
# Makefile for ML run-time system.
# Copyright (c) 1991 Harlequin Ltd.
#
# Revision Log
# $Log: Makefile,v $
# Revision 1.84  1994/01/31  15:35:18  daveb
# Went back to using ld instead of gnu-ld, because the load was failing on
# ml.  Added -L/usr/local/X11R5/lib to XLIBRARIES.
#
# Revision 1.83  1994/01/31  11:50:34  daveb
# Removed example GC from distribution.
#
# Revision 1.82  1994/01/28  18:02:03  nickh
# Try again with include files.
#
# Revision 1.80  1994/01/28  17:26:38  nickh
# Get includes right.
#
# Revision 1.77  1993/11/23  16:57:54  jont
# Redid the dependencies
#
# Revision 1.76  1993/09/17  15:06:58  richard
# Changed CC to reference gcc-1.40 since we depend on this version in
# particular.  The company has upgraded to 2.4.5 by default.
#
# Revision 1.75  1993/08/27  14:06:21  richard
# Truncated revision log.  Simplified targets for release, removing
# the non-X targets.
#
# Revision 1.74  1993/06/03  15:35:16  jont
# Added an mlrunx_static target to allow us to take our own X/motif if
# necessary
#
# Revision 1.73  1993/05/12  16:13:05  richard
# Corrected definition of DISTDIR.
#


# == Parameters ==
#
# Change this as required, and also CC macro.
# Programs and options we use.
#
# M4FLAGS may contain an option to define the macros TRAP_FLUSH and
# COLLECT_STATS (see interface.s).  TRAP_FLUSH will need to be
# defined if not using GCC (see gc.c).
#
# The CFLAGS are as follows:
#  USE_MACHINE  If defined tells C to make use of the machine
#               architecture and use assembly-language versions of
#               certain routines.
#  PLOCK	Should be defined if the OS has a plock() system call.
#  LICENSE	If defined, includes the license server.

MACH =		$(TARGET_MACH:-%=%)
AS  =		/bin/as
ASFLAGS =
AWK =		/bin/awk
SED =		/bin/sed
CC  =		/usr/local/bin/gcc
CFLAGS =	-I- -I/usr/local/motif/include \
		-O -Wall -Wpointer-arith -Wwrite-strings \
		 -D$(MACH) -DPLOCK -DUSE_MACHINE -DLICENSE
CLIBRARIES =	-lm -L/usr/local/X11R5/lib -L/usr/local/motif/lib -lXm -lXt -lX11
M4 =		/usr/5bin/m4
M4FLAGS =	-DCOLLECT_STATS=1
CPP =		/usr/lib/cpp
CPPFLAGS =	-P -undef
CP =		/bin/cp -r
TAR =		/bin/tar
LN =		/bin/ln -s
RM =		/bin/rm -f
MV =		/bin/mv
CHMOD =		/bin/chmod
STRIP =		/bin/strip
DIRNAME =	/bin/dirname
BASENAME =	/bin/basename
MKDIR =		/bin/mkdir
DISTDIR =	/usr/sml/distribution
TMPDIR =	.

# The main part of the runtime system

CSOURCES =	main.c loader.c modules.c allocator.c state.c initialise.c \
		implicit.c endian.c utils.c values.c diagnostic.c handler.c \
		alloc.c options.c profiler.c global.c environment.c event.c \
		marshal.c license.c intercept.c print.c \
		pervasive/pervasives.c pervasive/exceptions.c \
		pervasive/streams.c pervasive/integers.c pervasive/lists.c \
		pervasive/reals.c pervasive/strings.c pervasive/time.c \
		pervasive/value.c pervasive/system.c \
		pervasive/bytearrays.c pervasive/stacks.c \
		pervasive/vector.c pervasive/unix.c pervasive/trace.c \
		pervasive/x.c \
		storeman/default/arena.c storeman/default/mem.c \
		storeman/default/gc.c storeman/default/image.c
ASSOURCES =	$(MACH)/interface.m4s pervasive/$(MACH)/append.m4s \
		pervasive/$(MACH)/poly_equal.m4s \
		pervasive/$(MACH)/integers.m4s \
		storeman/default/$(MACH)/fixup.m4s
OBJECTS =	$(CSOURCES:%.c=%.o) $(ASSOURCES:%.m4s=%.o)

GENERATED =	objectfile.sml __objectfile.sml implicit.sml __implicit.sml \
		tags.sml __tags.sml offsets.h

DISTRIBUTED =	mlrun mlrun-static


# == Automatic rules ==

.SUFFIXES:

%.o: %.c
	$(CC) -I`$(DIRNAME) $<` -I. $(CFLAGS) -c -o $@@ $<

%.o: %.m4s
	$(M4) $(M4FLAGS) < $< | $(CPP) $(CPPFLAGS) | $(AS) $(ASFLAGS) -o $@@ -

%-g.o: %.c
	$(CC) -I`$(DIRNAME) $<` -I. $(CFLAGS) -DDEBUG -DDIAGNOSTICS -g -c -o $@@ $<

%-g.o: %.m4s
	$(M4) $(M4FLAGS) < $< | $(CPP) $(CPPFLAGS) | $(AS) $(ASFLAGS) -o $@@ -


# == Administration ==

all: $(GENERATED) mlrun mlrun-static mlrun-g runtime

generated: $(GENERATED)

devel: generated runtime

rm-objects:
	$(RM) $(OBJECTS)
	$(RM) $(OBJECTS:%.o=%-g.o)

rm-generated:
	$(RM) $(GENERATED)

clean: rm-objects rm-generated

distribution: $(DISTRIBUTED)
	$(RM) -r $(DISTDIR)/run
	$(MKDIR) $(DISTDIR)/run
	$(TAR) cvf - $(DISTRIBUTED) | ( cd $(DISTDIR)/run; $(TAR) xf - )
	

# == Deliverables and executables ==
#
# mlrun		  the runtime system, dynamically linked
# mlrun-static    mlrun statically linked (for sites without X libraries)
# mlrun-g	  mlrun compiled with debugging information
# runtime	  an alias for mlrun-g, for historical reasons

runtime: mlrun-g
	$(RM) runtime
	$(LN) mlrun-g $@@

# note that -B/bin/ to Gcc means "use executables from /bin/". In
# these lines, it means "use /bin/ld". We want to use /bin/ld because
# Gnu ld does not link dynamically.

mlrun: $(OBJECTS)
	$(CC) -B/bin/ -o $@@ $(OBJECTS) $(CLIBRARIES)
	$(STRIP) $@@

mlrun-static: $(OBJECTS)
	$(CC) -B/bin/ -Xlinker -Bstatic -o $@@ $(OBJECTS) $(CLIBRARIES)
	$(STRIP) $@@

mlrun-g: $(OBJECTS:%.o=%-g.o)
	$(CC) -B/bin/ -o $@@ $(OBJECTS:%.o=%-g.o) $(CLIBRARIES)

# == Rules for the assembler sources ==

sparc/interface.o sparc/interface-g.o: sparc/interface.m4s sparc/macros.m4s tags.h offsets.h
sparc/fixup.o sparc/fixup-g.o: sparc/fixup.m4s sparc/macros.m4s tags.h offsets.h
sparc/poly_equal.o sparc/poly_equal-g.o: sparc/poly_equal.m4s sparc/macros.m4s tags.h offsets.h
sparc/ovfl_mul.o sparc/ovfl_mul-g.o: sparc/ovfl_mul.m4s sparc/macros.m4s

# == Rules for the automatically generated sources ==

implicit.sml: implicit.h implicit.awk
	$(AWK) -f implicit.awk < implicit.h > implicit.sml

__implicit.sml: implicit.h __implicit.awk
	$(AWK) -f __implicit.awk < implicit.h > __implicit.sml

objectfile.sml: objectfile.h objectfile.awk
	$(AWK) -f objectfile.awk < objectfile.h > objectfile.sml

__objectfile.sml: objectfile.h __objectfile.awk
	$(AWK) -f __objectfile.awk < objectfile.h > __objectfile.sml

tags.sml: tags.h tags.awk
	$(AWK) -f tags.awk < tags.h > tags.sml

__tags.sml: tags.h __tags.awk
	$(AWK) -f __tags.awk < tags.h > __tags.sml

offsets.h: implicit.h offsets.awk
	$(AWK) -f offsets.awk < implicit.h > offsets.h

# An explanation of make depend...
# Move the Makefile to Makefile.bak
# Collect the output of the following into Makefile:
#  Delete the `DO NOT DELETE' line and after from Makefile.bak
#  Write a DO NOT DELETE line and a date stamp
#  Generate dependencies for both .o and -g.o files
#  Added a terminating comment or two

depend:	$(CSOURCES)
	$(MV) Makefile Makefile.bak
	($(SED) -e '/^# DO NOT DELETE THIS LINE/,$$ d' < Makefile.bak; \
	 echo '# DO NOT DELETE THIS LINE -- make depend uses it'; \
	 echo -n '# generated: '; date; \
	 for source in $(CSOURCES); \
	 do \
	   (dir=`$(DIRNAME) $$source`; \
	    base=`$(BASENAME) $$source .c`; \
	    $(CC) -M -I$$dir -I. $(CFLAGS) $$source | \
	    $(SED) -e "/:/ s%^$$base\.o%$$dir/$$base.o $$dir/$$base-g.o%g") \
	 done; \
	 echo '# DEPENDENCIES MUST END AT END OF FILE'; \
	 echo '# see make depend above') > Makefile

# DO NOT DELETE THIS LINE -- make depend uses it
# generated: Mon Jun  6 11:04:10 BST 1994
./main.o ./main-g.o : main.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/include/ctype.h /usr/include/errno.h /usr/include/sys/errno.h /usr/include/time.h \
  /usr/include/sys/time.h /usr/include/sys/lock.h /usr/include/pwd.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/include/sys/sysmacros.h ./ansi.h ./syscalls.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/sys/resource.h /usr/include/sys/socket.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  ./loader.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./modules.h ./values.h ./implicit.h ./tags.h ./utils.h ./storeman.h ./extensions.h \
  ./diagnostic.h ./initialise.h ./global.h ./options.h ./profiler.h ./handler.h \
  ./state.h ./allocator.h ./interface.h ./pervasives.h ./license.h ./print.h ./pervasive/time.h 
./loader.o ./loader-g.o : loader.c ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h ./syscalls.h /usr/include/sys/time.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/sys/resource.h /usr/include/sys/socket.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h ./loader.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  ./modules.h ./objectfile.h ./allocator.h ./storeman.h ./extensions.h ./interface.h \
  ./endian.h ./diagnostic.h ./utils.h ./global.h ./pervasives.h ./options.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/include/setjmp.h /usr/include/machine/setjmp.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/memory.h \
  ./pervasive/time.h 
./modules.o ./modules-g.o : modules.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./modules.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./diagnostic.h ./allocator.h ./storeman.h ./extensions.h /usr/include/time.h 
./allocator.o ./allocator-g.o : allocator.c ./allocator.h ./values.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./storeman.h ./extensions.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./diagnostic.h ./state.h ./utils.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/sparc/include/assert.h 
./state.o ./state-g.o : state.c ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./state.h ./storeman.h ./extensions.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h 
./initialise.o ./initialise-g.o : initialise.c ./initialise.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./modules.h ./mltypes.h ./types.h ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./storeman.h ./extensions.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./state.h ./utils.h ./pervasives.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  ./profiler.h ./options.h ./handler.h ./loader.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  ./main.h ./global.h ./event.h ./environment.h ./diagnostic.h 
./implicit.o ./implicit-g.o : implicit.c ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./interface.h ./extensions.h 
./endian.o ./endian-g.o : endian.c ./types.h ./endian.h ./objectfile.h 
./utils.o ./utils-g.o : utils.c ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h ./syscalls.h /usr/include/sys/time.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/sys/resource.h /usr/include/sys/socket.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  ./utils.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./storeman.h ./extensions.h ./tags.h ./allocator.h ./values.h ./implicit.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
./values.o ./values-g.o : values.c ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./storeman.h ./extensions.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./values.h ./implicit.h ./allocator.h ./utils.h ./diagnostic.h /usr/include/ctype.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h 
./diagnostic.o ./diagnostic-g.o : diagnostic.c ./diagnostic.h 
./handler.o ./handler-g.o : handler.c ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h ./implicit.h ./types.h ./mltypes.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./handler.h ./values.h ./tags.h ./utils.h ./storeman.h ./extensions.h ./state.h \
  ./diagnostic.h ./allocator.h ./interface.h ./print.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h 
./alloc.o ./alloc-g.o : alloc.c ./alloc.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./storeman.h ./extensions.h ./tags.h ./types.h ./mltypes.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./diagnostic.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/memory.h 
./options.o ./options-g.o : options.c ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h ./options.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./utils.h ./mltypes.h ./types.h ./storeman.h ./extensions.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
./profiler.o ./profiler-g.o : profiler.c ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h ./syscalls.h /usr/include/sys/time.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/sys/resource.h /usr/include/sys/socket.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  ./profiler.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./options.h ./values.h ./mltypes.h ./types.h ./implicit.h ./tags.h ./storeman.h \
  ./extensions.h ./diagnostic.h ./interface.h ./utils.h ./allocator.h ./global.h \
  ./loader.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  ./modules.h ./intercept.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/setjmp.h /usr/include/machine/setjmp.h 
./global.o ./global-g.o : global.c ./global.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./storeman.h ./extensions.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./values.h ./implicit.h ./allocator.h ./diagnostic.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h 
./environment.o ./environment-g.o : environment.c ./environment.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./global.h ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./allocator.h ./storeman.h ./extensions.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./diagnostic.h ./interface.h ./profiler.h ./options.h ./pervasives.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h 
./event.o ./event-g.o : event.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  ./syscalls.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/time.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/include/sys/resource.h /usr/include/sys/socket.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  ./event.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./tags.h ./global.h ./values.h ./implicit.h ./allocator.h ./storeman.h ./extensions.h \
  ./diagnostic.h ./interface.h 
./marshal.o ./marshal-g.o : marshal.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  /usr/include/errno.h /usr/include/sys/errno.h ./marshal.h 
./license.o ./license-g.o : license.c ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h ./syscalls.h /usr/include/sys/time.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/sys/resource.h /usr/include/sys/socket.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  ./storeman.h ./extensions.h ./tags.h ./types.h ./mltypes.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./diagnostic.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/memory.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/wait.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
./intercept.o ./intercept-g.o : intercept.c ./values.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./intercept.h ./interface.h ./extensions.h ./diagnostic.h ./profiler.h ./options.h \
  ./storeman.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/memory.h 
./print.o ./print-g.o : print.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/include/ctype.h ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h ./print.h ./mltypes.h ./types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h ./extensions.h 
pervasive/pervasives.o pervasive/pervasives-g.o : pervasive/pervasives.c /usr/include/errno.h /usr/include/sys/errno.h \
  ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h ./pervasives.h ./storeman.h \
  ./extensions.h ./tags.h ./types.h ./mltypes.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  ./diagnostic.h ./global.h ./environment.h ./modules.h ./values.h ./implicit.h \
  ./allocator.h pervasive/exceptions.h pervasive/integers.h pervasive/lists.h \
  pervasive/reals.h pervasive/streams.h pervasive/strings.h pervasive/system.h \
  pervasive/time.h /usr/include/sys/time.h pervasive/value.h pervasive/bytearrays.h \
  pervasive/vector.h pervasive/stacks.h pervasive/clm.h pervasive/unix.h pervasive/x.h \
  pervasive/trace.h 
pervasive/exceptions.o pervasive/exceptions-g.o : pervasive/exceptions.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/memory.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  pervasive/exceptions.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./extensions.h ./values.h ./implicit.h ./tags.h ./global.h ./environment.h ./interface.h \
  ./storeman.h /usr/include/time.h ./allocator.h ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/include/sys/sysmacros.h 
pervasive/streams.o pervasive/streams-g.o : pervasive/streams.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/memory.h \
  ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h ./syscalls.h /usr/include/sys/time.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/sys/resource.h /usr/include/sys/socket.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  pervasive/streams.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h ./allocator.h ./storeman.h ./extensions.h ./pervasives.h \
  pervasive/exceptions.h ./environment.h ./global.h 
pervasive/integers.o pervasive/integers-g.o : pervasive/integers.c pervasive/integers.h ./mltypes.h ./types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  pervasive/exceptions.h ./extensions.h ./environment.h ./syscalls.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/time.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/sys/resource.h /usr/include/sys/socket.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  ./diagnostic.h ./interface.h ./utils.h ./storeman.h /usr/include/errno.h /usr/include/sys/errno.h 
pervasive/lists.o pervasive/lists-g.o : pervasive/lists.c pervasive/lists.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./environment.h ./storeman.h ./extensions.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./allocator.h 
pervasive/reals.o pervasive/reals-g.o : pervasive/reals.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/math.h \
  /usr/include/floatingpoint.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/ieeefp.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/errno.h /usr/include/sys/errno.h pervasive/reals.h ./mltypes.h \
  ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h pervasive/exceptions.h ./extensions.h ./environment.h \
  ./storeman.h /usr/include/time.h ./allocator.h ./diagnostic.h ./interface.h \
  ./utils.h 
pervasive/strings.o pervasive/strings-g.o : pervasive/strings.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  pervasive/strings.h ./storeman.h ./extensions.h ./tags.h ./types.h ./mltypes.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/include/time.h ./allocator.h ./values.h ./implicit.h ./environment.h pervasive/exceptions.h 
pervasive/time.o pervasive/time-g.o : pervasive/time.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/limits.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/syslimits.h \
  /usr/include/limits.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/utime.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/time.h /usr/include/sys/resource.h \
  ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  ./syscalls.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/sys/socket.h pervasive/time.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./storeman.h ./extensions.h ./tags.h ./allocator.h ./values.h ./implicit.h ./environment.h \
  pervasive/exceptions.h ./diagnostic.h ./marshal.h 
pervasive/value.o pervasive/value-g.o : pervasive/value.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  pervasive/value.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./storeman.h ./extensions.h /usr/include/time.h pervasive/exceptions.h ./environment.h \
  ./allocator.h ./print.h 
pervasive/system.o pervasive/system-g.o : pervasive/system.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  pervasive/system.h pervasive/exceptions.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./extensions.h ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./storeman.h /usr/include/time.h ./allocator.h ./environment.h ./main.h pervasive/time.h \
  /usr/include/sys/time.h ./profiler.h ./options.h ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/include/sys/sysmacros.h ./interface.h ./global.h ./loader.h ./modules.h \
  ./event.h 
pervasive/bytearrays.o pervasive/bytearrays-g.o : pervasive/bytearrays.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  pervasive/bytearrays.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./storeman.h ./extensions.h /usr/include/time.h pervasive/exceptions.h ./allocator.h \
  ./environment.h 
pervasive/stacks.o pervasive/stacks-g.o : pervasive/stacks.c pervasive/stacks.h ./storeman.h ./extensions.h \
  ./tags.h ./types.h ./mltypes.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./allocator.h ./values.h ./implicit.h ./environment.h ./utils.h ./interface.h 
pervasive/vector.o pervasive/vector-g.o : pervasive/vector.c pervasive/vector.h ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./allocator.h ./storeman.h ./extensions.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./environment.h 
pervasive/unix.o pervasive/unix-g.o : pervasive/unix.c pervasive/unix.h pervasive/exceptions.h ./mltypes.h \
  ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./extensions.h ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./allocator.h ./storeman.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./environment.h pervasive/time.h /usr/include/sys/time.h ./syscalls.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/sys/resource.h /usr/include/sys/socket.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/memory.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  /usr/include/pwd.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/dirent.h \
  /usr/include/sys/dirent.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/param.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/machine/param.h \
  /usr/include/sys/un.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/netinet/in.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vfork.h 
pervasive/trace.o pervasive/trace-g.o : pervasive/trace.c /usr/include/errno.h /usr/include/sys/errno.h ./environment.h \
  ./mltypes.h ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  ./allocator.h ./storeman.h ./extensions.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  ./interface.h ./intercept.h pervasive/exceptions.h 
pervasive/x.o pervasive/x-g.o : pervasive/x.c /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/motif/include/X11/Xlib.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/local/motif/include/X11/X.h /usr/local/motif/include/X11/Intrinsic.h \
  /usr/local/motif/include/X11/Xutil.h /usr/local/motif/include/X11/Xresource.h \
  /usr/local/motif/include/X11/Xos.h /usr/include/strings.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/file.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/fcntlcom.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  /usr/include/sys/time.h /usr/include/time.h /usr/local/motif/include/X11/Core.h \
  /usr/local/motif/include/X11/Composite.h /usr/local/motif/include/X11/Constraint.h \
  /usr/local/motif/include/X11/Object.h /usr/local/motif/include/X11/RectObj.h \
  /usr/local/motif/include/X11/Shell.h /usr/local/motif/include/X11/cursorfont.h \
  /usr/local/motif/include/X11/Xatom.h /usr/local/motif/include/Xm/Xm.h /usr/local/motif/include/X11/Vendor.h \
  /usr/local/motif/include/Xm/VirtKeys.h /usr/local/motif/include/Xm/VendorE.h \
  /usr/local/motif/include/Xm/ExtObject.h /usr/local/motif/include/Xm/ArrowB.h \
  /usr/local/motif/include/Xm/ArrowBG.h /usr/local/motif/include/Xm/BulletinB.h \
  /usr/local/motif/include/Xm/CascadeB.h /usr/local/motif/include/Xm/CascadeBG.h \
  /usr/local/motif/include/Xm/Command.h /usr/local/motif/include/Xm/DialogS.h \
  /usr/local/motif/include/Xm/DrawingA.h /usr/local/motif/include/Xm/DrawnB.h \
  /usr/local/motif/include/Xm/FileSB.h /usr/local/motif/include/Xm/Form.h /usr/local/motif/include/Xm/Frame.h \
  /usr/local/motif/include/Xm/Label.h /usr/local/motif/include/Xm/LabelG.h /usr/local/motif/include/Xm/List.h \
  /usr/local/motif/include/Xm/MainW.h /usr/local/motif/include/Xm/ScrolledW.h \
  /usr/local/motif/include/Xm/MenuShell.h /usr/local/motif/include/Xm/MessageB.h \
  /usr/local/motif/include/Xm/PanedW.h /usr/local/motif/include/Xm/PushB.h /usr/local/motif/include/Xm/PushBG.h \
  /usr/local/motif/include/Xm/RowColumn.h /usr/local/motif/include/Xm/Scale.h \
  /usr/local/motif/include/Xm/ScrollBar.h /usr/local/motif/include/Xm/SelectioB.h \
  /usr/local/motif/include/Xm/Separator.h /usr/local/motif/include/Xm/SeparatoG.h \
  /usr/local/motif/include/Xm/Text.h /usr/local/motif/include/Xm/TextF.h /usr/local/motif/include/Xm/ToggleB.h \
  /usr/local/motif/include/Xm/ToggleBG.h ./ansi.h ./environment.h ./mltypes.h \
  ./types.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./values.h ./implicit.h ./tags.h ./main.h ./utils.h ./storeman.h ./extensions.h \
  ./diagnostic.h ./allocator.h ./interface.h pervasive/exceptions.h ./global.h 
storeman/default/arena.o storeman/default/arena-g.o : storeman/default/arena.c ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h storeman/default/arena.h ./types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./diagnostic.h ./utils.h ./mltypes.h ./storeman.h ./extensions.h ./tags.h ./syscalls.h \
  /usr/include/sys/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/sys/resource.h /usr/include/sys/socket.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/mman.h \
  /usr/include/sys/lock.h /usr/include/fcntl.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/fcntlcom.h 
storeman/default/mem.o storeman/default/mem-g.o : storeman/default/mem.c ./syscalls.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/time.h /usr/include/time.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/sys/resource.h /usr/include/sys/socket.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stat.h \
  storeman/default/mem.h ./storeman.h ./extensions.h ./tags.h ./types.h ./mltypes.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  storeman/default/arena.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  storeman/default/gc.h ./values.h ./implicit.h ./state.h ./utils.h ./alloc.h \
  ./diagnostic.h ./options.h /usr/include/errno.h /usr/include/sys/errno.h 
storeman/default/gc.o storeman/default/gc-g.o : storeman/default/gc.c ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h ./diagnostic.h ./types.h ./mltypes.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  ./tags.h ./values.h ./implicit.h storeman/default/mem.h ./storeman.h ./extensions.h \
  storeman/default/arena.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  ./state.h ./loader.h ./modules.h ./utils.h storeman/default/gc.h ./interface.h \
  ./profiler.h ./options.h storeman/default/image.h ./handler.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/math.h \
  /usr/include/floatingpoint.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/ieeefp.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/sys/time.h /usr/include/sys/resource.h 
storeman/default/image.o storeman/default/image-g.o : storeman/default/image.c ./ansi.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdarg.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/va-sparc.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdio.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/types.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/time.h ./storeman.h ./extensions.h \
  ./tags.h ./types.h ./mltypes.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stddef.h \
  storeman/default/arena.h storeman/default/image.h storeman/default/mem.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/stdlib.h \
  ./diagnostic.h ./alloc.h ./allocator.h ./values.h ./implicit.h storeman/default/gc.h \
  storeman/default/gcdebug.h ./state.h ./pervasives.h /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/sys/signal.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/vm/faultcode.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/setjmp.h /usr/include/machine/setjmp.h \
  /usr/local/soft/gcc-2.4.5/run/hall/sun4.1_sparc/lib/gcc-lib/sparc/2.4.5/include/string.h 
# DEPENDENCIES MUST END AT END OF FILE
# see make depend above
@


1.84
log
@Went back to using ld instead of gnu-ld, because the load was failing on
ml.  Added -L/usr/local/X11R5/lib to XLIBRARIES.
@
text
@d7 4
d65 1
a65 5
CLIBRARIES =	-lm /usr/share/sparc/lib/gcc-lib/sparc-sun-sunos4.1/2.3.3/libgcc.a -lc /usr/share/sparc/lib/gcc-lib/sparc-sun-sunos4.1/2.3.3/libgcc.a
XLIBRARIES =	-L/usr/local/X11R5/lib -L/usr/local/motif/lib -lXm -lXt -lX11
LD  =		/bin/ld
LDFLAGS =	-dc -dp
CRT =		-e start /lib/crt0.o
d95 3
a97 1
		pervasive/x.c
d99 3
a101 1
		pervasive/$(MACH)/poly_equal.m4s pervasive/$(MACH)/integers.m4s
a103 17
# The default storage manager

SMCSOURCES =	storeman/default/arena.c storeman/default/mem.c \
		storeman/default/gc.c storeman/default/image.c
SMASSOURCES =	storeman/default/$(MACH)/fixup.m4s
SMOBJECTS =	$(SMCSOURCES:%.c=%.o) $(SMASSOURCES:%.m4s=%.o)

# The example storage manager

EXSMCSOURCES =	storeman/example/gc.c storeman/example/image.c
EXSMASSOURCES =
EXSMOBJECTS =	$(EXSMCSOURCES:%.c=%.o) $(EXSMASSOURCES:%.m4s=%.o)

# A list of all C sources for make depend

ALLCSOURCES =	$(CSOURCES) $(SMCSOURCES) $(EXSMCSOURCES)

d107 1
a107 1
DISTRIBUTED =	mlrun mlrun-static-X
d129 1
a129 1
all: $(GENERATED) mlrun mlrun-static-X mlrun-g rts.o runtime
d136 2
a137 4
	$(RM) $(OBJECTS) $(SMOBJECTS) $(EXSMOBJECTS)
	$(RM) $(OBJECTS:%.o=%-g.o) $(SMOBJECTS:%.o=%-g.o)
	$(RM) $(EXSMOBJECTS:%.o=%-g.o)
	$(RM) rts.o rts-g.o
d152 2
a153 3
# mlrun		  the runtime system
#		  (dynamically linked, default storage manager)
# mlrun-static-X  mlrun with X libraries statically linked
a154 4
# exrun		  mlrun with example storage manager
# exrun-g	  exrun compiled with debugging information
# rts.o		  a linkable file containing the runtime system without
#		  a storage manager
d161 3
a163 3
mlrun: rts.o $(SMOBJECTS)
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts.o $(SMOBJECTS) $(CLIBRARIES) $(XLIBRARIES)
	$(STRIP) $@@
d165 2
a166 2
mlrun-static-X: rts.o $(SMOBJECTS)
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts.o $(SMOBJECTS) $(CLIBRARIES) -Bstatic $(XLIBRARIES)
d169 2
a170 2
exrun: rts.o $(EXSMOBJECTS)
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts.o $(EXSMOBJECTS) $(CLIBRARIES) $(XLIBRARIES)
d173 2
a174 13
mlrun-g: rts-g.o $(SMOBJECTS:%.o=%-g.o)
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts-g.o $(SMOBJECTS:%.o=%-g.o) $(CLIBRARIES) $(XLIBRARIES)

exrun-g: rts-g.o $(EXSMOBJECTS:%.o=%-g.o)
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts-g.o $(EXSMOBJECTS:%.o=%-g.o) $(CLIBRARIES) $(XLIBRARIES)

rts.o: $(OBJECTS) $(NOTXOBJECTS)
	$(LD) $(LDFLAGS) -r -o $@@ $(OBJECTS)
	$(CHMOD) a-x $@@

rts-g.o: $(OBJECTS:%.o=%-g.o)
	$(LD) $(LDFLAGS) -r -o $@@ $(OBJECTS:%.o=%-g.o)
	$(CHMOD) a-x $@@
a175 1

d214 1
a214 1
depend:	$(ALLCSOURCES)
d219 1
a219 1
	 for source in $(ALLCSOURCES); \
d230 238
a467 138
# generated: Tue Nov 23 16:57:56 GMT 1993
./main.o ./main-g.o : main.c /usr/include/stdlib.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/string.h /usr/include/ctype.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/time.h /usr/include/sys/stat.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  /usr/include/sys/time.h /usr/include/sys/lock.h /usr/include/pwd.h ansi.h \
  loader.h mltypes.h types.h ./stddef.h /usr/include/stddef.h modules.h \
  values.h implicit.h tags.h utils.h storeman.h extensions.h diagnostic.h \
  initialise.h global.h options.h profiler.h handler.h state.h allocator.h \
  interface.h pervasives.h /usr/include/signal.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h license.h print.h pervasive/time.h ./mltypes.h 
./loader.o ./loader-g.o : loader.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h values.h implicit.h tags.h \
  /usr/include/stdio.h loader.h /usr/include/stdlib.h modules.h objectfile.h \
  allocator.h storeman.h extensions.h /usr/include/time.h interface.h \
  endian.h diagnostic.h utils.h global.h /usr/include/string.h \
  /usr/include/setjmp.h /usr/include/machine/setjmp.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/memory.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h pervasive/time.h /usr/include/sys/time.h \
  ./mltypes.h 
./modules.o ./modules-g.o : modules.c /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h modules.h mltypes.h types.h \
  ./stddef.h /usr/include/stddef.h values.h implicit.h tags.h \
  /usr/include/stdio.h diagnostic.h allocator.h storeman.h extensions.h \
  /usr/include/time.h 
./allocator.o ./allocator-g.o : allocator.c allocator.h values.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h implicit.h \
  tags.h /usr/include/stdio.h storeman.h extensions.h /usr/include/time.h \
  diagnostic.h state.h utils.h /usr/include/string.h 
./state.o ./state-g.o : state.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h state.h storeman.h extensions.h \
  tags.h /usr/include/stdio.h /usr/include/time.h 
./initialise.o ./initialise-g.o : initialise.c initialise.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h modules.h mltypes.h types.h \
  values.h implicit.h tags.h /usr/include/stdio.h storeman.h extensions.h \
  /usr/include/time.h state.h utils.h pervasives.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h profiler.h options.h \
  handler.h loader.h /usr/include/stdlib.h main.h global.h event.h \
  environment.h diagnostic.h 
./implicit.o ./implicit-g.o : implicit.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h values.h implicit.h tags.h \
  /usr/include/stdio.h interface.h extensions.h 
./endian.o ./endian-g.o : endian.c types.h endian.h objectfile.h 
./utils.o ./utils-g.o : utils.c ansi.h utils.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h storeman.h \
  extensions.h tags.h /usr/include/stdio.h /usr/include/time.h allocator.h \
  values.h implicit.h /usr/include/stdlib.h /usr/include/string.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/include/sys/time.h \
  /usr/include/sys/resource.h /usr/include/errno.h /usr/include/sys/errno.h 
./values.o ./values-g.o : values.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h storeman.h extensions.h tags.h \
  /usr/include/stdio.h /usr/include/time.h values.h implicit.h allocator.h \
  utils.h diagnostic.h /usr/include/ctype.h /usr/include/string.h 
./diagnostic.o ./diagnostic-g.o : diagnostic.c diagnostic.h 
./handler.o ./handler-g.o : handler.c implicit.h types.h mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h handler.h \
  values.h tags.h /usr/include/stdio.h utils.h storeman.h extensions.h \
  /usr/include/time.h state.h diagnostic.h allocator.h interface.h print.h \
  /usr/include/string.h 
./alloc.o ./alloc-g.o : alloc.c alloc.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h storeman.h extensions.h tags.h \
  types.h mltypes.h /usr/include/stdio.h /usr/include/time.h diagnostic.h \
  /usr/include/memory.h 
./options.o ./options-g.o : options.c options.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h utils.h mltypes.h types.h \
  storeman.h extensions.h tags.h /usr/include/stdio.h /usr/include/time.h \
  /usr/include/string.h /usr/include/errno.h /usr/include/sys/errno.h 
./profiler.o ./profiler-g.o : profiler.c ansi.h profiler.h /usr/include/stdio.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h options.h \
  values.h mltypes.h types.h implicit.h tags.h storeman.h extensions.h \
  /usr/include/time.h diagnostic.h interface.h utils.h allocator.h global.h \
  loader.h /usr/include/stdlib.h modules.h intercept.h /usr/include/string.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/setjmp.h \
  /usr/include/machine/setjmp.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  /usr/include/sys/time.h 
./global.o ./global-g.o : global.c global.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h storeman.h \
  extensions.h tags.h /usr/include/stdio.h /usr/include/time.h values.h \
  implicit.h allocator.h diagnostic.h /usr/include/string.h \
  /usr/include/stdlib.h 
./environment.o ./environment-g.o : environment.c environment.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h global.h \
  values.h implicit.h tags.h /usr/include/stdio.h allocator.h storeman.h \
  extensions.h /usr/include/time.h diagnostic.h interface.h profiler.h \
  options.h pervasives.h /usr/include/signal.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h /usr/include/string.h /usr/include/stdlib.h 
./event.o ./event-g.o : event.c /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/stdlib.h event.h mltypes.h types.h \
  ./stddef.h /usr/include/stddef.h tags.h global.h values.h implicit.h \
  /usr/include/stdio.h allocator.h storeman.h extensions.h \
  /usr/include/time.h diagnostic.h interface.h 
./marshal.o ./marshal-g.o : marshal.c /usr/local/lib/gcc-include/stdarg.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/errno.h /usr/include/sys/errno.h marshal.h 
./license.o ./license-g.o : license.c storeman.h extensions.h tags.h types.h mltypes.h \
  ./stddef.h /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/stdio.h /usr/include/time.h diagnostic.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  /usr/include/sys/time.h /usr/include/string.h /usr/include/memory.h \
  /usr/include/sys/wait.h /usr/include/signal.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h /usr/include/errno.h /usr/include/sys/errno.h 
./intercept.o ./intercept-g.o : intercept.c values.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h implicit.h \
  tags.h /usr/include/stdio.h intercept.h interface.h extensions.h \
  diagnostic.h profiler.h options.h storeman.h /usr/include/time.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/memory.h 
./print.o ./print-g.o : print.c /usr/include/stdlib.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/string.h /usr/include/ctype.h print.h mltypes.h types.h \
  ./stddef.h /usr/include/stddef.h values.h implicit.h tags.h extensions.h 
pervasive/pervasives.o pervasive/pervasives-g.o : pervasive/pervasives.c /usr/include/errno.h \
  /usr/include/sys/errno.h ./ansi.h ./pervasives.h ./storeman.h \
  ./extensions.h ./tags.h ./types.h ./mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/stdio.h pervasive/time.h /usr/include/sys/time.h \
  /usr/include/signal.h /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  ./diagnostic.h ./global.h ./environment.h ./modules.h ./values.h \
  ./implicit.h ./allocator.h pervasive/exceptions.h pervasive/integers.h \
  pervasive/lists.h pervasive/reals.h pervasive/streams.h pervasive/strings.h \
  pervasive/system.h pervasive/value.h pervasive/bytearrays.h \
  pervasive/vector.h pervasive/stacks.h pervasive/clm.h pervasive/unix.h \
  pervasive/x.h pervasive/trace.h 
pervasive/exceptions.o pervasive/exceptions-g.o : pervasive/exceptions.c /usr/include/stdio.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/include/stdlib.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/memory.h \
  /usr/include/string.h pervasive/exceptions.h ./mltypes.h ./types.h \
  ./stddef.h /usr/include/stddef.h ./extensions.h ./values.h ./implicit.h \
  ./tags.h ./global.h ./environment.h ./interface.h ./storeman.h \
  pervasive/time.h /usr/include/sys/time.h ./allocator.h 
pervasive/streams.o pervasive/streams-g.o : pervasive/streams.c /usr/include/stdio.h /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/memory.h ./ansi.h \
  pervasive/streams.h ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h \
  ./values.h ./implicit.h ./tags.h ./allocator.h ./storeman.h ./extensions.h \
  pervasive/time.h /usr/include/sys/time.h ./pervasives.h \
  /usr/include/signal.h /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
d469 17
a485 8
pervasive/integers.o pervasive/integers-g.o : pervasive/integers.c pervasive/integers.h ./mltypes.h \
  ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h ./values.h ./implicit.h ./tags.h \
  /usr/include/stdio.h pervasive/exceptions.h ./extensions.h ./environment.h 
pervasive/lists.o pervasive/lists-g.o : pervasive/lists.c pervasive/lists.h ./mltypes.h ./types.h \
  ./stddef.h /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  ./values.h ./implicit.h ./tags.h /usr/include/stdio.h ./environment.h \
  ./storeman.h ./extensions.h pervasive/time.h /usr/include/sys/time.h \
d487 48
a534 30
pervasive/reals.o pervasive/reals-g.o : pervasive/reals.c /usr/include/math.h \
  /usr/include/floatingpoint.h /usr/include/sys/ieeefp.h \
  /usr/include/string.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/stdlib.h /usr/include/stdio.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h /usr/include/errno.h \
  /usr/include/sys/errno.h pervasive/reals.h ./mltypes.h ./types.h ./stddef.h \
  /usr/include/stddef.h ./values.h ./implicit.h ./tags.h \
  pervasive/exceptions.h ./extensions.h ./environment.h ./storeman.h \
  pervasive/time.h /usr/include/sys/time.h ./allocator.h ./diagnostic.h \
  ./interface.h ./utils.h 
pervasive/strings.o pervasive/strings-g.o : pervasive/strings.c /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h pervasive/strings.h ./storeman.h \
  ./extensions.h ./tags.h ./types.h ./mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/include/stdio.h pervasive/time.h \
  /usr/include/sys/time.h ./allocator.h ./values.h ./implicit.h \
  ./environment.h pervasive/exceptions.h 
pervasive/time.o pervasive/time-g.o : pervasive/time.c /usr/local/lib/gcc-include/limits.h \
  pervasive/time.h /usr/include/sys/time.h ./mltypes.h ./types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/string.h /usr/include/stdlib.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/sys/stat.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/resource.h ./ansi.h \
  ./storeman.h ./extensions.h ./tags.h /usr/include/stdio.h ./allocator.h \
  ./values.h ./implicit.h ./environment.h pervasive/exceptions.h \
  ./diagnostic.h ./marshal.h 
pervasive/value.o pervasive/value-g.o : pervasive/value.c /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h pervasive/value.h ./mltypes.h \
  ./types.h ./stddef.h /usr/include/stddef.h ./values.h ./implicit.h ./tags.h \
  /usr/include/stdio.h ./storeman.h ./extensions.h pervasive/time.h \
  /usr/include/sys/time.h pervasive/exceptions.h ./environment.h \
d536 18
a553 23
pervasive/system.o pervasive/system-g.o : pervasive/system.c /usr/include/stdlib.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/string.h pervasive/system.h \
  pervasive/exceptions.h ./mltypes.h ./types.h ./stddef.h \
  /usr/include/stddef.h ./extensions.h ./values.h ./implicit.h ./tags.h \
  /usr/include/stdio.h ./storeman.h pervasive/time.h /usr/include/sys/time.h \
  ./allocator.h ./environment.h ./main.h ./profiler.h ./options.h ./ansi.h \
  ./interface.h ./global.h ./loader.h ./modules.h ./event.h 
pervasive/bytearrays.o pervasive/bytearrays-g.o : pervasive/bytearrays.c /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h pervasive/bytearrays.h \
  ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h ./values.h \
  ./implicit.h ./tags.h /usr/include/stdio.h ./storeman.h ./extensions.h \
  pervasive/time.h /usr/include/sys/time.h pervasive/exceptions.h \
  ./allocator.h ./environment.h 
pervasive/stacks.o pervasive/stacks-g.o : pervasive/stacks.c pervasive/stacks.h ./storeman.h \
  ./extensions.h ./tags.h ./types.h ./mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/stdio.h pervasive/time.h /usr/include/sys/time.h ./allocator.h \
  ./values.h ./implicit.h ./environment.h ./utils.h ./interface.h 
pervasive/vector.o pervasive/vector-g.o : pervasive/vector.c pervasive/vector.h ./mltypes.h ./types.h \
  ./stddef.h /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  ./values.h ./implicit.h ./tags.h /usr/include/stdio.h ./allocator.h \
  ./storeman.h ./extensions.h pervasive/time.h /usr/include/sys/time.h \
d555 60
a614 43
pervasive/unix.o pervasive/unix-g.o : pervasive/unix.c pervasive/unix.h pervasive/exceptions.h \
  ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h ./extensions.h ./values.h \
  ./implicit.h ./tags.h /usr/include/stdio.h ./allocator.h ./storeman.h \
  pervasive/time.h /usr/include/sys/time.h ./environment.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/string.h \
  /usr/include/memory.h /usr/include/stdlib.h /usr/include/pwd.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h /usr/include/dirent.h \
  /usr/include/sys/dirent.h /usr/include/sys/param.h \
  /usr/include/machine/param.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h /usr/include/sys/resource.h \
  /usr/include/sys/socket.h /usr/include/sys/un.h /usr/include/netinet/in.h \
  /usr/include/vfork.h 
pervasive/trace.o pervasive/trace-g.o : pervasive/trace.c /usr/include/errno.h /usr/include/sys/errno.h \
  ./environment.h ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h ./values.h ./implicit.h ./tags.h \
  /usr/include/stdio.h ./allocator.h ./storeman.h ./extensions.h \
  pervasive/time.h /usr/include/sys/time.h ./interface.h ./intercept.h \
  pervasive/exceptions.h 
pervasive/x.o pervasive/x-g.o : pervasive/x.c /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdlib.h \
  /usr/include/stdio.h /usr/local/motif/include/X11/Xlib.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  /usr/local/motif/include/X11/X.h /usr/local/motif/include/X11/Intrinsic.h \
  /usr/local/motif/include/X11/Xutil.h \
  /usr/local/motif/include/X11/Xresource.h /usr/local/motif/include/X11/Xos.h \
  pervasive/strings.h /usr/include/sys/file.h /usr/include/sys/fcntlcom.h \
  /usr/include/sys/stat.h /usr/include/sys/time.h pervasive/time.h \
  ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/motif/include/X11/Core.h \
  /usr/local/motif/include/X11/Composite.h \
  /usr/local/motif/include/X11/Constraint.h \
  /usr/local/motif/include/X11/Object.h \
  /usr/local/motif/include/X11/RectObj.h /usr/local/motif/include/X11/Shell.h \
  /usr/local/motif/include/X11/cursorfont.h /usr/local/motif/include/Xm/Xm.h \
  /usr/local/motif/include/X11/Vendor.h \
  /usr/local/motif/include/Xm/VirtKeys.h \
  /usr/local/motif/include/Xm/VendorE.h \
  /usr/local/motif/include/Xm/ExtObject.h \
  /usr/local/motif/include/Xm/ArrowB.h /usr/local/motif/include/Xm/ArrowBG.h \
  /usr/local/motif/include/Xm/BulletinB.h \
  /usr/local/motif/include/Xm/CascadeB.h \
  /usr/local/motif/include/Xm/CascadeBG.h \
d617 2
a618 3
  /usr/local/motif/include/Xm/FileSB.h /usr/local/motif/include/Xm/Form.h \
  /usr/local/motif/include/Xm/Frame.h /usr/local/motif/include/Xm/Label.h \
  /usr/local/motif/include/Xm/LabelG.h /usr/local/motif/include/Xm/List.h \
d620 2
a621 3
  /usr/local/motif/include/Xm/MenuShell.h \
  /usr/local/motif/include/Xm/MessageB.h /usr/local/motif/include/Xm/PanedW.h \
  /usr/local/motif/include/Xm/PushB.h /usr/local/motif/include/Xm/PushBG.h \
d623 65
a687 63
  /usr/local/motif/include/Xm/ScrollBar.h \
  /usr/local/motif/include/Xm/SelectioB.h \
  /usr/local/motif/include/Xm/Separator.h \
  /usr/local/motif/include/Xm/SeparatoG.h /usr/local/motif/include/Xm/Text.h \
  /usr/local/motif/include/Xm/TextF.h /usr/local/motif/include/Xm/ToggleB.h \
  /usr/local/motif/include/Xm/ToggleBG.h ./environment.h ./values.h \
  ./implicit.h ./tags.h ./main.h ./utils.h ./storeman.h ./extensions.h \
  ./diagnostic.h ./allocator.h ./interface.h pervasive/exceptions.h \
  ./global.h 
storeman/default/arena.o storeman/default/arena-g.o : storeman/default/arena.c storeman/default/arena.h ./types.h \
  ./stddef.h /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  ./diagnostic.h ./utils.h ./mltypes.h ./storeman.h ./extensions.h ./tags.h \
  /usr/include/stdio.h /usr/include/time.h /usr/include/stdlib.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/string.h \
  /usr/include/sys/mman.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/lock.h /usr/include/fcntl.h \
  /usr/include/sys/fcntlcom.h /usr/include/sys/stat.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h 
storeman/default/mem.o storeman/default/mem-g.o : storeman/default/mem.c storeman/default/mem.h ./storeman.h \
  ./extensions.h ./tags.h ./types.h ./mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/stdio.h /usr/include/time.h storeman/default/arena.h \
  /usr/include/stdlib.h storeman/default/gc.h ./values.h ./implicit.h \
  ./state.h ./utils.h ./alloc.h ./diagnostic.h ./options.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h 
storeman/default/gc.o storeman/default/gc-g.o : storeman/default/gc.c ./ansi.h ./diagnostic.h ./types.h ./mltypes.h \
  ./stddef.h /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  ./tags.h ./values.h ./implicit.h /usr/include/stdio.h \
  storeman/default/mem.h ./storeman.h ./extensions.h /usr/include/time.h \
  storeman/default/arena.h /usr/include/stdlib.h ./state.h ./loader.h \
  ./modules.h ./utils.h storeman/default/gc.h ./interface.h ./profiler.h \
  ./options.h storeman/default/image.h ./handler.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/include/string.h \
  /usr/include/math.h /usr/include/floatingpoint.h /usr/include/sys/ieeefp.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/sys/time.h \
  /usr/include/sys/resource.h 
storeman/default/image.o storeman/default/image-g.o : storeman/default/image.c ./storeman.h ./extensions.h ./tags.h \
  ./types.h ./mltypes.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/time.h storeman/default/arena.h storeman/default/image.h \
  storeman/default/mem.h /usr/include/stdlib.h ./diagnostic.h ./alloc.h \
  ./allocator.h ./values.h ./implicit.h storeman/default/gc.h \
  storeman/default/gcdebug.h ./state.h ./pervasives.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/setjmp.h \
  /usr/include/machine/setjmp.h /usr/include/string.h 
storeman/example/gc.o storeman/example/gc-g.o : storeman/example/gc.c ./ansi.h ./storeman.h ./extensions.h ./tags.h \
  ./types.h ./mltypes.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/time.h ./diagnostic.h storeman/example/sm.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  /usr/include/sys/mman.h /usr/include/sys/fcntl.h \
  /usr/include/sys/fcntlcom.h /usr/include/sys/stat.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/string.h 
storeman/example/image.o storeman/example/image-g.o : storeman/example/image.c ./storeman.h ./extensions.h ./tags.h \
  ./types.h ./mltypes.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/time.h ./diagnostic.h storeman/example/sm.h ./pervasives.h \
  /usr/include/signal.h /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  /usr/include/setjmp.h /usr/include/machine/setjmp.h /usr/include/string.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
@


1.83
log
@Removed example GC from distribution.
@
text
@d7 3
d61 2
a62 2
CLIBRARIES =	-lm
XLIBRARIES =	-L/usr/local/motif/lib -lXm -lXt -lX11
d182 1
a182 1
	$(CC) -o $@@ rts.o $(SMOBJECTS) $(CLIBRARIES) $(XLIBRARIES)
d186 1
a186 1
	$(CC) -o $@@ rts.o $(SMOBJECTS) $(CLIBRARIES) -Bstatic $(XLIBRARIES)
d190 1
a190 1
	$(CC) -o $@@ rts.o $(EXSMOBJECTS) $(CLIBRARIES) $(XLIBRARIES)
d194 1
a194 1
	$(CC) -o $@@ -v rts-g.o $(SMOBJECTS:%.o=%-g.o) $(CLIBRARIES) $(XLIBRARIES)
d197 1
a197 1
	$(CC) -o $@@ rts-g.o $(EXSMOBJECTS:%.o=%-g.o) $(CLIBRARIES) $(XLIBRARIES)
@


1.82
log
@Try again with include files.
@
text
@d7 3
d117 1
a117 4
DISTRIBUTED =	mlrun mlrun-static-X exrun rts.o \
		extensions.h ansi.h storeman.h tags.h types.h \
		mltypes.h diagnostic.h storeman/example/sm.h \
		$(EXSMCSOURCES) $(EXSMASSOURCES)
@


1.81
log
@Get include files right.
@
text
@d52 1
a52 1
CFLAGS =	-I/usr/local/motif/include -I- \
@


1.80
log
@Get includes right.
@
text
@d7 3
d52 3
a54 2
CFLAGS =	-O -Wall -Wpointer-arith -Wwrite-strings -D$(MACH) -DPLOCK -DUSE_MACHINE \
		-I/usr/local/motif/include -DLICENSE
@


1.79
log
@quit

\nChanged XLib search path.
@
text
@a6 3
# Revision 1.78  1994/01/25  16:26:29  nickh
# Move to Gcc 2.x
#
d52 1
a52 1
XLIBRARIES =	-L/usr/local/X11R5/lib -L/usr/local/motif/lib -lXm -lXt -lX11
@


1.78
log
@Move to Gcc 2.x
./
@
text
@d7 3
d55 1
a55 1
XLIBRARIES =	-L/usr/local/motif/lib -lXm -lXt -lX11
@


1.77
log
@Redid the dependencies
@
text
@d7 3
d48 1
a48 1
CC  =		/usr/local/bin/gcc-1.40
d51 1
a51 1
CLIBRARIES =	-lm /usr/local/lib/gcc-gnulib -lc /usr/local/lib/gcc-gnulib
d175 1
a175 1
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts.o $(SMOBJECTS) $(CLIBRARIES) $(XLIBRARIES)
d179 1
a179 1
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts.o $(SMOBJECTS) $(CLIBRARIES) -Bstatic $(XLIBRARIES)
d183 1
a183 1
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts.o $(EXSMOBJECTS) $(CLIBRARIES) $(XLIBRARIES)
d187 1
a187 1
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts-g.o $(SMOBJECTS:%.o=%-g.o) $(CLIBRARIES) $(XLIBRARIES)
d190 1
a190 1
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts-g.o $(EXSMOBJECTS:%.o=%-g.o) $(CLIBRARIES) $(XLIBRARIES)
@


1.76
log
@Changed CC to reference gcc-1.40 since we depend on this version in
particular.  The company has upgraded to 2.4.5 by default.
@
text
@d7 4
d252 1
a252 1
# generated: Fri Aug 27 15:05:20 BST 1993
d256 8
a263 7
  /usr/include/sys/errno.h /usr/include/time.h /usr/include/sys/lock.h \
  /usr/include/pwd.h /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  ansi.h loader.h mltypes.h types.h ./stddef.h /usr/include/stddef.h \
  modules.h values.h implicit.h tags.h utils.h storeman.h extensions.h \
  diagnostic.h initialise.h global.h options.h profiler.h handler.h state.h \
  allocator.h interface.h pervasives.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h license.h print.h 
d270 3
a272 1
  /usr/include/sys/errno.h /usr/include/memory.h 
d416 9
a424 9
pervasive/time.o pervasive/time-g.o : pervasive/time.c pervasive/time.h /usr/include/sys/time.h \
  ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/string.h \
  /usr/include/stdlib.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  /usr/include/sys/stat.h /usr/include/sys/resource.h ./ansi.h ./storeman.h \
  ./extensions.h ./tags.h /usr/include/stdio.h ./allocator.h ./values.h \
  ./implicit.h ./environment.h pervasive/exceptions.h ./diagnostic.h \
  ./marshal.h 
d514 3
a516 2
  ./implicit.h ./tags.h ./utils.h ./storeman.h ./extensions.h ./diagnostic.h \
  ./allocator.h ./interface.h pervasive/exceptions.h ./global.h 
d532 3
a534 1
  /usr/include/errno.h /usr/include/sys/errno.h 
@


1.75
log
@Truncated revision log.  Simplified targets for release, removing
the non-X targets.
@
text
@d7 4
d41 1
a41 1
CC  =		/usr/local/bin/gcc
@


1.75.1.1
log
@Fork for bug fixing
@
text
@a6 4
# Revision 1.75  1993/08/27  14:06:21  richard
# Truncated revision log.  Simplified targets for release, removing
# the non-X targets.
#
@


1.75.1.2
log
@Changed CC to reference gcc-1.40 since we depend on this version in
particular.  The company has upgraded to 2.4.5 by default.
@
text
@a6 3
# Revision 1.75.1.1  1993/08/27  14:06:21  jont
# Fork for bug fixing
#
d41 1
a41 1
CC  =		/usr/local/bin/gcc-1.40
@


1.74
log
@Added an mlrunx_static target to allow us to take our own X/motif if necessary
@
text
@d7 4
a13 207
# Revision 1.72  1993/05/12  14:08:18  richard
# Changed DISTRIB to DISTDIR, consistent with other Makefiles.
#
# Revision 1.71  1993/04/29  08:47:20  richard
# Added a rule for `generated' files.
#
# Revision 1.70  1993/04/26  09:00:13  richard
# Added rules for rm-objects, rm-generated, and devel.
#
# Revision 1.69  1993/04/21  16:06:50  richard
# Removed defunct Editor interface and added sytem calls to enable
# its replacement.
#
# Revision 1.68  1993/04/21  13:04:14  richard
# Added intercept.[ch] and print.[ch].  Remade dependencies.
#
# Revision 1.67  1993/03/25  14:43:28  daveb
# Switched on licensing again, and documented the -DLICENSE flag.
#
# Revision 1.66  1993/03/24  15:52:28  jont
# Added pervasive files for vi
#
# Revision 1.65  1993/03/23  15:01:58  jont
# Added vectors. Modified build mechanisms to allow build to work on machines
# other than abel for motif targets
#
# Revision 1.64  1993/03/19  15:57:22  jont
# Changed the link steps to use ld which seems to know about shared libraries better
#
# Revision 1.63  1993/03/15  11:34:25  daveb
# Added mlrunx and mlrunx-g to "all" target.
#
# Revision 1.62  1993/03/10  15:44:01  jont
# Added stuff to do communication with emacs over sockets
#
# Revision 1.61  1993/03/08  16:59:35  jont
# Changed runtime to link to mlrunx-g for consistency with the images Makefile
#
# Revision 1.60  1993/01/29  15:02:55  jont
# Temporary change so that runtime still links to mlrun-g, in order to allow
# clean makes while Motif stuff still coming on stream
#
# Revision 1.59  1993/01/27  12:37:56  richard
# Added targets with X interface code linked and unlinked.
#
# Revision 1.58  1993/01/06  11:25:34  richard
# Remade dependencies.
#
# Revision 1.57  1992/12/23  14:20:15  richard
# Corrected make depend so that it generates directory names for
# the targets.  This explains quite a few things, actually.
#
# Revision 1.56  1992/12/17  16:11:19  richard
# Added license.c to sources.
#
# Revision 1.55  1992/12/14  12:34:47  richard
# Added DEBUG flag to internal version of runtime system.
#
# Revision 1.54  1992/12/14  12:11:59  daveb
# Changed "run" to "mlrun" in "all" target.
#
# Revision 1.53  1992/12/03  14:08:49  richard
# Changed the name of the runtime system to mlrun.
#
# Revision 1.52  1992/12/02  16:26:01  clive
# Added an assembler routine to do append
#
# Revision 1.51  1992/11/11  16:32:19  clive
# Added trace.c
#
# Revision 1.50  1992/10/29  13:00:36  richard
# Reorganized the pervasives into a subdirectory.
#
# Revision 1.49  1992/10/12  12:47:16  clive
# Now we use mark's assembler multiply
#
# Revision 1.48  1992/10/02  10:04:38  matthew
# Update for CLM files
#
# Revision 1.47  1992/10/02  09:32:52  richard
# extensions.h is now distributed because it is used in storeman.h.
#
# Revision 1.46  1992/10/02  08:40:40  richard
# Updated for re-installed GCC headers and associated
# source changes.
#
# Revision 1.45  1992/08/14  11:04:58  richard
# Reorganised the storage managers into directories.
#
# Revision 1.45  1992/08/12  16:32:09  richard
# *** empty log message ***
#
# Revision 1.44  1992/08/07  10:10:12  richard
# Added some files for a preliminary auditing storage manager.
# Remade dependencies.
#
# Revision 1.43  1992/08/04  12:28:42  richard
# Changed storage manager file list.
# Remade dependencies.
#
# Revision 1.41  1992/07/28  14:31:45  richard
# Added CLIBRARIES macro.  Removed call_codes related stuff and added
# environment.c.
#
# Revision 1.40  1992/07/23  16:00:59  richard
# Reorganised to generate separate debugging and distributable versions of
# the runtime system, both standard and with example storage manager.
# `rts.o' is also linked as a separate object.
# Improved rule for depend to avoid temporary files and generate rules
# including debugging versions of `.o' files.
# Added rule for `distribution'.
#
# Revision 1.39  1992/07/21  15:56:43  richard
# Enabled use of MMAP.  Removed redundant TRAP_FLUSH flag.  Remade dependencies.
#
# Revision 1.38  1992/07/15  11:17:17  richard
# Reversed the order of cpp and m4 in the building of the assembler files
# in order to get the correct macro substitutions.
#
# Revision 1.37  1992/07/14  15:48:26  richard
# Propagated target machine through to C.  Added rules for tags.sml
# and __tags.sml.
# Remade dependencies.
#
# Revision 1.36  1992/07/03  08:06:00  richard
# Made implicit rules for auto-generated files explicit so that they
# use the right files.  Make is really stupid sometimes.
#
# Revision 1.35  1992/07/01  16:27:04  richard
# Separated storage manager files from the rest of the runtime
# system to make replacement easier.  Added files for hhruntime
# using an example replacement.
#
# Revision 1.34  1992/06/25  08:21:43  richard
# Added PLOCK and VADVISE options to CFLAGS.
#
# Revision 1.33  1992/06/22  14:58:49  clive
# Pervasives.c needed an include of modules.c
#
# Revision 1.32  1992/06/11  11:47:31  clive
# Changes to the handling of exception as we now have a hook for the ML debugger
#
# Revision 1.31  1992/05/18  09:21:12  clive
# Added timers and some functions to get the make system compiling
#
# Revision 1.30  1992/05/14  11:37:25  clive
# More code added for the profiler
#
# Revision 1.29  1992/05/05  13:00:27  clive
# Added maximum depth of backtrace so main depends on handler.h now
#
# Revision 1.28  1992/04/15  10:22:13  richard
# Changed assembler to use m4 macro processor rather than cpp.
# Added poly_equal.m4s to assembler source files.
#
# Revision 1.27  1992/04/13  16:51:00  clive
# First version of the profiler
#
# Revision 1.26  1992/04/06  11:24:13  richard
# Added dependencies for SPARC assembler files.  It's a pity we can't
# auto-generate them.
#
# Revision 1.25  1992/04/02  14:09:23  richard
# Added fixup.s to assembler sources.  Added missing `-O' flag to C.
#
# Revision 1.24  1992/03/26  15:02:50  richard
# Reorganised to use more general rules.  Added parameters to control the
# amount of debugging code and to take advantage of GCC extensions on the
# SPARC.
#
# Revision 1.23  1992/03/24  16:13:38  richard
# Remade dependencies.
#
# Revision 1.22  1992/03/18  12:01:11  richard
#  Added image.o and options.o.
#
# Revision 1.21  1992/03/11  15:20:20  richard
# Added gcdebug module.
#
# Revision 1.20  1992/02/14  17:12:12  richard
# Remade dependencies after changes to values.c.
#
# Revision 1.19  1992/01/27  14:52:27  richard
# Remade dependencies.  Removed spigc.o.
#
# Revision 1.18  1992/01/17  15:02:31  richard
# Added alloc.o to object files.
#
# Revision 1.17  1992/01/08  12:03:00  richard
# Added new machine generated files: callc_codes.sml and __callc_codes.sml.
#
# Revision 1.16  1992/01/02  13:09:17  richard
# Added handler.o to object files.
#
# Revision 1.15  1991/12/20  17:19:09  richard
# Added diagnostic.o and extra warnings on compilation.
#
# Revision 1.14  91/12/17  16:35:00  nickh
# Added mem and spigc for the new garbage collector
# 
# Revision 1.13  91/12/13  12:13:52  richard
# Added values.c.
# 
# Revision 1.12  91/12/04  15:45:34  richard
# Removed redundant generation of ml_externals, and added pervasives
# to the dependencies.
#
d58 1
d73 2
a74 1
		pervasive/vector.c pervasive/unix.c pervasive/trace.c
a91 15
AUDSMCSOURCES =	storeman/auditing/gc.c storeman/auditing/mem.c \
		storeman/auditing/image.c storeman/auditing/audit.c
AUDSMASSOURCES =
AUDSMOBJECTS =	$(AUDSMCSOURCES:%.c=%.o) $(AUDSMASSOURCES:%.m4s=%.o)

# The dummy X interface

NOTXSOURCES =	pervasive/notx.c
NOTXOBJECTS =	$(NOTXSOURCES:%.c=%.o)

# The X interface

XSOURCES =	pervasive/x.c
XOBJECTS =	$(XSOURCES:%.c=%.o)

d94 1
a94 1
ALLCSOURCES =	$(CSOURCES) $(SMCSOURCES) $(EXSMCSOURCES) $(XSOURCES) $(NOTXSOURCES)
d99 3
a101 3
DISTRIBUTED =	mlrun mlrunx mlrunx_static exrun rts.o rtsx.o \
		extensions.h ansi.h storeman.h tags.h types.h mltypes.h diagnostic.h \
		storeman/example/sm.h \
d124 1
a124 1
all: $(GENERATED) mlrun mlrunx mlrunx_static mlrun-g mlrunx-g rts.o runtime
d131 1
a131 2
	$(RM) $(OBJECTS) $(SMOBJECTS) $(EXSMOBJECTS) $(AUDSMOBJECTS)
	$(RM) $(NOTXOBJECTS) $(XOBJECTS)
d133 2
a134 3
	$(RM) $(EXSMOBJECTS:%.o=%-g.o) $(AUDSMOBJECTS:%.o=%-g.o)
	$(RM) $(NOTXOBJECTS:%.o=%-g.o) $(XOBJECTS:%.o=%-g.o)
	$(RM) rts.o rts-g.o rtsx.o rtsx-g.o
d142 2
a143 1
	$(RM) $(DISTRIBUTED:%=$(DISTDIR)/run/%)
d149 9
a157 12
# mlrun		the distributed runtime system
# mlrun-g	a version of `mlrun' with debugging information
# mlrunx	the distributed runtime system with X interface
# mlrunx_static	the distributed runtime system with X interface statically linked in
# mlrunx-g	a version of mlrunx with debugging information
# exrun		the distributed runtime system with example storage
#               manager
# exrun-g	a version of `exrun' with debugging information
# rts.o		a linkable file containing the runtime system without
#               the storage manager or X interface
# rtsx.o	as above but with X interface
# runtime	an alias for mlrunx-g, for historical reasons
d159 1
a159 1
runtime: mlrunx-g
d161 1
a161 1
	$(LN) mlrunx-g $@@
d164 1
a164 1
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts.o $(SMOBJECTS) $(CLIBRARIES)
d167 2
a168 2
mlrunx: rtsx.o $(SMOBJECTS)
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rtsx.o $(SMOBJECTS) $(CLIBRARIES) $(XLIBRARIES)
d171 2
a172 2
mlrunx_static: rtsx.o $(SMOBJECTS)
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rtsx.o $(SMOBJECTS) $(CLIBRARIES) -Bstatic $(XLIBRARIES)
a174 8
exrun: rts.o $(EXSMOBJECTS) $(NOTXOBJECTS)
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts.o $(EXSMOBJECTS) $(CLIBRARIES)
	$(STRIP) $@@

audrun: rts.o $(AUDSMOBJECTS) $(NOTXOBJECTS)
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts.o $(AUDSMOBJECTS) $(CLIBRARIES)
	$(STRIP) $@@

d176 1
a176 4
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts-g.o $(SMOBJECTS:%.o=%-g.o) $(CLIBRARIES)

mlrunx-g: rtsx-g.o $(SMOBJECTS:%.o=%-g.o)
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rtsx-g.o $(SMOBJECTS:%.o=%-g.o) $(CLIBRARIES) $(XLIBRARIES)
d179 1
a179 1
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts-g.o $(EXSMOBJECTS:%.o=%-g.o) $(CLIBRARIES)
a180 3
audrun-g: rts-g.o $(AUDSMOBJECTS:%.o=%-g.o)
	$(LD) $(LDFLAGS) -o $@@ $(CRT) rts-g.o $(AUDSMOBJECTS:%.o=%-g.o) $(CLIBRARIES)

d182 1
a182 9
	$(LD) $(LDFLAGS) -r -o $@@ $(OBJECTS) $(NOTXOBJECTS)
	$(CHMOD) a-x $@@

rts-g.o: $(OBJECTS:%.o=%-g.o) $(NOTXOBJECTS:%.o=%-g.o)
	$(LD) $(LDFLAGS) -r -o $@@ $(OBJECTS:%.o=%-g.o) $(NOTXOBJECTS:%.o=%-g.o)
	$(CHMOD) a-x $@@

rtsx.o: $(OBJECTS) $(XOBJECTS)
	$(LD) $(LDFLAGS) -r -o $@@ $(OBJECTS) $(XOBJECTS)
d185 2
a186 2
rtsx-g.o: $(OBJECTS:%.o=%-g.o) $(XOBJECTS:%.o=%-g.o)
	$(LD) $(LDFLAGS) -r -o $@@ $(OBJECTS:%.o=%-g.o) $(XOBJECTS:%.o=%-g.o)
d244 1
a244 1
# generated: Wed Apr 21 17:06:13 BST 1993
d246 5
a250 5
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/string.h \
  /usr/include/ctype.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/time.h /usr/include/sys/lock.h /usr/include/pwd.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h ansi.h loader.h \
  /usr/include/stdio.h mltypes.h types.h ./stddef.h /usr/include/stddef.h \
d265 1
a265 1
  /usr/include/stdio.h allocator.h storeman.h extensions.h \
d279 2
a280 1
  handler.h loader.h /usr/include/stdlib.h main.h global.h event.h 
d306 3
a308 2
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/string.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
d313 1
a313 1
  loader.h /usr/include/stdlib.h modules.h /usr/include/string.h \
d321 2
a322 1
  implicit.h allocator.h /usr/include/string.h /usr/include/stdlib.h 
d348 2
a349 2
  diagnostic.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/memory.h 
d367 6
a372 6
  /usr/local/lib/gcc-include/stdarg.h /usr/include/memory.h \
  /usr/include/string.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  pervasive/exceptions.h ./mltypes.h ./types.h ./stddef.h \
  /usr/include/stddef.h ./extensions.h ./values.h ./implicit.h ./tags.h \
  ./global.h ./environment.h ./interface.h ./storeman.h pervasive/time.h \
  /usr/include/sys/time.h ./allocator.h 
d450 3
a452 2
  /usr/include/memory.h /usr/include/stdlib.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/param.h \
d463 42
d519 2
a520 2
  ./state.h ./utils.h ./alloc.h ./diagnostic.h /usr/include/errno.h \
  /usr/include/sys/errno.h 
d527 5
a531 4
  ./options.h storeman/default/image.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/include/string.h /usr/include/math.h /usr/include/floatingpoint.h \
  /usr/include/sys/ieeefp.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/sys/time.h /usr/include/sys/resource.h 
d549 1
a549 1
  /usr/include/sys/errno.h 
a556 42
pervasive/x.o pervasive/x-g.o : pervasive/x.c /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/local/motif/include/X11/Intrinsic.h \
  /usr/local/motif/include/X11/Xlib.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/local/motif/include/X11/X.h \
  /usr/local/motif/include/X11/Xutil.h \
  /usr/local/motif/include/X11/Xresource.h /usr/local/motif/include/X11/Xos.h \
  pervasive/strings.h /usr/include/sys/file.h /usr/include/sys/fcntlcom.h \
  /usr/include/sys/stat.h /usr/include/sys/time.h pervasive/time.h \
  ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/motif/include/X11/Core.h \
  /usr/local/motif/include/X11/Composite.h \
  /usr/local/motif/include/X11/Constraint.h \
  /usr/local/motif/include/X11/Object.h \
  /usr/local/motif/include/X11/RectObj.h /usr/local/motif/include/X11/Shell.h \
  /usr/local/motif/include/Xm/Xm.h /usr/local/motif/include/X11/Vendor.h \
  /usr/local/motif/include/Xm/VirtKeys.h \
  /usr/local/motif/include/Xm/VendorE.h \
  /usr/local/motif/include/Xm/ExtObject.h \
  /usr/local/motif/include/Xm/ArrowB.h /usr/local/motif/include/Xm/ArrowBG.h \
  /usr/local/motif/include/Xm/BulletinB.h \
  /usr/local/motif/include/Xm/CascadeB.h \
  /usr/local/motif/include/Xm/CascadeBG.h \
  /usr/local/motif/include/Xm/Command.h /usr/local/motif/include/Xm/DialogS.h \
  /usr/local/motif/include/Xm/DrawingA.h /usr/local/motif/include/Xm/DrawnB.h \
  /usr/local/motif/include/Xm/FileSB.h /usr/local/motif/include/Xm/Form.h \
  /usr/local/motif/include/Xm/Frame.h /usr/local/motif/include/Xm/Label.h \
  /usr/local/motif/include/Xm/LabelG.h /usr/local/motif/include/Xm/List.h \
  /usr/local/motif/include/Xm/MainW.h /usr/local/motif/include/Xm/ScrolledW.h \
  /usr/local/motif/include/Xm/MenuShell.h \
  /usr/local/motif/include/Xm/MessageB.h /usr/local/motif/include/Xm/PanedW.h \
  /usr/local/motif/include/Xm/PushB.h /usr/local/motif/include/Xm/PushBG.h \
  /usr/local/motif/include/Xm/RowColumn.h /usr/local/motif/include/Xm/Scale.h \
  /usr/local/motif/include/Xm/ScrollBar.h \
  /usr/local/motif/include/Xm/SelectioB.h \
  /usr/local/motif/include/Xm/Separator.h \
  /usr/local/motif/include/Xm/SeparatoG.h /usr/local/motif/include/Xm/Text.h \
  /usr/local/motif/include/Xm/TextF.h /usr/local/motif/include/Xm/ToggleB.h \
  /usr/local/motif/include/Xm/ToggleBG.h ./environment.h ./values.h \
  ./implicit.h ./tags.h ./utils.h ./storeman.h ./extensions.h ./diagnostic.h \
  ./allocator.h ./interface.h pervasive/exceptions.h ./global.h 
pervasive/notx.o pervasive/notx-g.o : pervasive/notx.c pervasive/x.h 
@


1.73
log
@Corrected definition of DISTDIR.
@
text
@d7 3
d315 1
a315 1
DISTRIBUTED =	mlrun mlrunx exrun rts.o rtsx.o \
d340 1
a340 1
all: $(GENERATED) mlrun mlrunx mlrun-g mlrunx-g rts.o runtime
d369 1
d389 4
@


1.72
log
@Changed DISTRIB to DISTDIR, consistent with other Makefiles.
@
text
@d7 3
d258 1
a258 1
DISTDIR =	/usr/sml/distribution/run
@


1.71
log
@Added a rule for `generated' files.
@
text
@d7 3
d255 1
a255 1
DISTRIB =	/usr/sml/distribution/run
d354 2
a355 2
	$(RM) $(DISTRIBUTED:%=$(DISTRIB)/%)
	$(TAR) cvf - $(DISTRIBUTED) | ( cd $(DISTRIB); $(TAR) xf - )
@


1.70
log
@Added rules for rm-objects, rm-generated, and devel.
@
text
@d7 3
d333 3
a335 1
devel: $(GENERATED) runtime
@


1.69
log
@Removed defunct Editor interface and added sytem calls to enable
its replacement.
@
text
@d7 4
d330 14
a343 4
clean:
	$(RM) core $(GENERATED) rts.o
	$(RM) $(OBJECTS) $(SMOBJECTS) $(EXSMOBJECTS)
	$(RM) $(OBJECTS:%.o=%-g.o) $(SMOBJECTS:%.o=%-g.o) $(EXSMOBJECTS:%.o=%-g.o)
@


1.68
log
@Added intercept.[ch] and print.[ch].  Remade dependencies.
@
text
@d7 3
a253 1
		pervasive/se.c \
d284 1
a284 1
NOTXSOURCES =	pervasive/notx.c pervasive/notvi.c
d289 1
a289 1
XSOURCES =	pervasive/x.c pervasive/vi.c
d453 1
a453 1
# generated: Wed Apr 21 14:03:08 BST 1993
a559 8
pervasive/se.o pervasive/se-g.o : pervasive/se.c /usr/include/sys/types.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/sys/sysmacros.h \
  /usr/include/sys/socket.h /usr/include/sys/un.h /usr/include/netinet/in.h \
  /usr/include/netdb.h /usr/include/stdio.h /usr/include/malloc.h \
  /usr/include/string.h ./environment.h ./mltypes.h ./types.h ./stddef.h \
  /usr/include/stddef.h ./allocator.h ./values.h ./implicit.h ./tags.h \
  ./storeman.h ./extensions.h pervasive/time.h /usr/include/sys/time.h \
  pervasive/se.h 
d571 1
a571 1
  pervasive/x.h pervasive/trace.h pervasive/se.h pervasive/vi.h 
d660 2
a661 1
  /usr/include/sys/socket.h /usr/include/sys/un.h /usr/include/netinet/in.h 
a759 7
pervasive/vi.o pervasive/vi-g.o : pervasive/vi.c /usr/include/stdlib.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/string.h \
  /usr/include/stdio.h /usr/include/vfork.h /usr/include/errno.h \
  /usr/include/sys/errno.h pervasive/vi.h ./mltypes.h ./types.h ./stddef.h \
  /usr/include/stddef.h ./values.h ./implicit.h ./tags.h ./allocator.h \
  ./storeman.h ./extensions.h pervasive/time.h /usr/include/sys/time.h \
  ./environment.h 
a760 4
pervasive/notvi.o pervasive/notvi-g.o : pervasive/notvi.c ./allocator.h ./values.h ./mltypes.h ./types.h \
  ./stddef.h /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  ./implicit.h ./tags.h /usr/include/stdio.h ./storeman.h ./extensions.h \
  pervasive/time.h /usr/include/sys/time.h 
@


1.67
log
@Switched on licensing again, and documented the -DLICENSE flag.
@
text
@d7 3
d250 1
a250 1
		marshal.c license.c \
d255 1
a255 1
		pervasive/value.c pervasive/clm.c pervasive/system.c \
d257 1
a257 2
		pervasive/clmio.c pervasive/clmsocket.c \
		pervasive/trace.c  pervasive/vector.c
d396 1
d451 1
a451 1
# generated: Wed Jan 27 12:36:58 GMT 1993
d461 1
a461 1
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h license.h 
d468 5
a472 4
  /usr/include/sys/errno.h 
./modules.o ./modules-g.o : modules.c modules.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h values.h \
  implicit.h tags.h /usr/include/stdio.h allocator.h storeman.h extensions.h \
d505 1
a505 1
  /usr/include/time.h state.h diagnostic.h allocator.h interface.h \
d526 1
a526 1
  implicit.h allocator.h /usr/include/string.h 
d532 1
a532 1
  /usr/include/vm/faultcode.h /usr/include/string.h 
d545 1
d549 17
d576 2
a577 1
  pervasive/stacks.h pervasive/clm.h pervasive/trace.h pervasive/x.h 
d579 6
a584 5
  /usr/local/lib/gcc-include/stdarg.h pervasive/exceptions.h ./mltypes.h \
  ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h ./extensions.h ./values.h \
  ./implicit.h ./tags.h ./global.h ./environment.h ./interface.h ./storeman.h \
  pervasive/time.h /usr/include/sys/time.h ./allocator.h 
d586 3
a588 3
  /usr/local/lib/gcc-include/sys/stdtypes.h ./ansi.h pervasive/streams.h \
  ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h ./values.h \
  ./implicit.h ./tags.h ./allocator.h ./storeman.h ./extensions.h \
d631 1
a631 3
  ./allocator.h 
pervasive/clm.o pervasive/clm-g.o : pervasive/clm.c pervasive/clm.h ./mltypes.h ./types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h 
d634 6
a639 10
  /usr/include/sys/errno.h /usr/include/string.h /usr/include/sys/param.h \
  /usr/include/machine/param.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/time.h pervasive/time.h \
  ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/include/sys/resource.h pervasive/system.h pervasive/exceptions.h \
  ./extensions.h ./values.h ./implicit.h ./tags.h /usr/include/stdio.h \
  ./storeman.h ./allocator.h ./environment.h ./main.h ./profiler.h \
  ./options.h ./ansi.h ./interface.h ./global.h ./loader.h ./modules.h \
  ./event.h 
d651 1
a651 28
pervasive/clmio.o pervasive/clmio-g.o : pervasive/clmio.c /usr/include/sys/types.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/sys/sysmacros.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/stdio.h ./io.h \
  /usr/include/ctype.h /usr/include/string.h ./values.h ./mltypes.h ./types.h \
  ./stddef.h /usr/include/stddef.h ./implicit.h ./tags.h ./pervasives.h \
  ./storeman.h ./extensions.h pervasive/time.h /usr/include/sys/time.h \
  /usr/include/signal.h /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  ./allocator.h ./environment.h pervasive/exceptions.h 
pervasive/clmsocket.o pervasive/clmsocket-g.o : pervasive/clmsocket.c /usr/include/stdio.h \
  /usr/local/X11R5/include/X11/Xos.h /usr/local/X11R5/include/X11/Xosdefs.h \
  /usr/include/sys/types.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/sys/sysmacros.h /usr/include/string.h /usr/include/fcntl.h \
  /usr/include/sys/fcntlcom.h /usr/include/sys/stat.h /usr/include/unistd.h \
  /usr/include/sys/time.h pervasive/time.h ./mltypes.h ./types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/X11R5/include/X11/Xproto.h \
  /usr/local/X11R5/include/X11/Xmd.h /usr/local/X11R5/include/X11/Xprotostr.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/netinet/in.h \
  /usr/include/sys/ioctl.h /usr/local/lib/gcc-include/sys/ttychars.h \
  /usr/include/sys/ttydev.h /usr/local/lib/gcc-include/sys/ttold.h \
  /usr/local/lib/gcc-include/sys/ioccom.h \
  /usr/local/lib/gcc-include/sys/ttycom.h \
  /usr/local/lib/gcc-include/sys/filio.h \
  /usr/local/lib/gcc-include/sys/sockio.h /usr/include/netdb.h \
  /usr/include/sys/socket.h /usr/include/sys/wait.h \
  /usr/include/netinet/tcp.h /usr/include/signal.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h ./values.h ./implicit.h ./tags.h \
  ./environment.h 
pervasive/trace.o pervasive/trace-g.o : pervasive/trace.c ./environment.h ./mltypes.h ./types.h \
d655 18
a672 1
  ./interface.h 
d695 4
a698 4
  ./options.h /usr/local/lib/gcc-include/stdarg.h /usr/include/string.h \
  /usr/include/math.h /usr/include/floatingpoint.h /usr/include/sys/ieeefp.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/sys/time.h \
  /usr/include/sys/resource.h 
d704 5
a708 3
  storeman/default/gc.h ./values.h ./implicit.h storeman/default/gcdebug.h \
  ./state.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/setjmp.h /usr/include/machine/setjmp.h /usr/include/string.h 
d720 2
a721 1
  /usr/include/time.h ./diagnostic.h storeman/example/sm.h \
d725 15
a739 14
  /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/local/X11R5/include/X11/Intrinsic.h \
  /usr/local/X11R5/include/X11/Xlib.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/local/X11R5/include/X11/X.h \
  /usr/local/X11R5/include/X11/Xfuncproto.h \
  /usr/local/X11R5/include/X11/Xosdefs.h ./stddef.h /usr/include/stddef.h \
  /usr/local/X11R5/include/X11/Xutil.h \
  /usr/local/X11R5/include/X11/Xresource.h \
  /usr/local/X11R5/include/X11/Core.h \
  /usr/local/X11R5/include/X11/Composite.h \
  /usr/local/X11R5/include/X11/Constraint.h \
  /usr/local/X11R5/include/X11/Object.h \
  /usr/local/X11R5/include/X11/RectObj.h /usr/local/X11R5/include/X11/Shell.h \
  /usr/local/motif/include/Xm/Xm.h /usr/local/X11R5/include/X11/Vendor.h \
d743 1
a743 1
  /usr/local/motif/include/Xm/ArrowB.h \
d746 1
d749 3
a751 2
  /usr/local/motif/include/Xm/FileSB.h /usr/local/motif/include/Xm/Frame.h \
  /usr/local/motif/include/Xm/Label.h /usr/local/motif/include/Xm/List.h \
d755 3
a757 2
  /usr/local/motif/include/Xm/PushB.h /usr/local/motif/include/Xm/RowColumn.h \
  /usr/local/motif/include/Xm/Scale.h /usr/local/motif/include/Xm/ScrollBar.h \
d759 2
a760 1
  /usr/local/motif/include/Xm/Separator.h /usr/local/motif/include/Xm/Text.h \
d762 10
a771 4
  ./environment.h ./mltypes.h ./types.h ./values.h ./implicit.h ./tags.h \
  /usr/include/stdio.h ./utils.h ./storeman.h ./extensions.h pervasive/time.h \
  /usr/include/sys/time.h ./diagnostic.h ./allocator.h ./interface.h \
  pervasive/exceptions.h ./global.h 
d773 4
@


1.66
log
@Added pervasive files for vi
@
text
@d7 3
d211 1
d220 1
a220 1
		-I/usr/local/motif/include
@


1.65
log
@Added vectors. Modified build mechanisms to allow build to work on machines
other than abel for motif targets
@
text
@d7 4
d276 1
a276 1
NOTXSOURCES =	pervasive/notx.c
d281 1
a281 1
XSOURCES =	pervasive/x.c
@


1.64
log
@Changed the link steps to use ld which seems to know about shared libraries better
@
text
@d7 3
d211 4
d216 2
a217 6
CFLAGS =	-O -Wall -Wpointer-arith -Wwrite-strings -D$(MACH) -DPLOCK -DUSE_MACHINE \
		-I/usr/local/X11R5/include -I/usr/local/motif/include
CLIBRARIES =	-lm
XLIBRARIES =	-L/usr/local/X11R5/lib -L/usr/local/motif/lib -lXm -lXt -lX11
LDFLAGS =
LIBRARIES =	/usr/local/lib/gcc-gnulib
d247 1
a247 1
		pervasive/trace.c 
d312 1
a312 1
all: $(GENERATED) mlrun mlrunx exrun mlrun-g mlrunx-g exrun-g rts.o runtime
d343 1
a343 1
	$(LD) $(LDFLAGS) -o $@@ rts.o $(SMOBJECTS) $(CLIBRARIES)
d347 1
a347 1
	$(LD) $(LDFLAGS) -o $@@ rtsx.o $(SMOBJECTS) $(CLIBRARIES) $(XLIBRARIES)
d351 1
a351 1
	$(LD) $(LDFLAGS) -o $@@ rts.o $(EXSMOBJECTS) $(CLIBRARIES)
d355 1
a355 1
	$(LD) $(LDFLAGS) -o $@@ rts.o $(AUDSMOBJECTS) $(CLIBRARIES)
d359 1
a359 1
	$(LD) $(LDFLAGS) -o $@@ rts-g.o $(SMOBJECTS:%.o=%-g.o) $(CLIBRARIES)
d362 1
a362 1
	$(LD) $(LDFLAGS) -o $@@ rtsx-g.o $(SMOBJECTS:%.o=%-g.o) $(CLIBRARIES) $(XLIBRARIES)
d365 1
a365 1
	$(LD) $(LDFLAGS) -o $@@ rts-g.o $(EXSMOBJECTS:%.o=%-g.o) $(CLIBRARIES)
d368 1
a368 1
	$(LD) $(LDFLAGS) -o $@@ rts-g.o $(AUDSMOBJECTS:%.o=%-g.o) $(CLIBRARIES)
a384 1

@


1.63
log
@Added mlrunx and mlrunx-g to "all" target.
@
text
@d7 3
d208 1
a212 1
LD =		/usr/local/lib/gcc-ld
d340 1
a340 1
	$(CC) $(CFLAGS) -o $@@ rts.o $(SMOBJECTS) $(CLIBRARIES)
d344 1
a344 1
	$(CC) $(CFLAGS) -o $@@ rtsx.o $(SMOBJECTS) $(CLIBRARIES) $(XLIBRARIES)
d348 1
a348 1
	$(CC) $(CFLAGS) -o $@@ rts.o $(EXSMOBJECTS) $(CLIBRARIES)
d352 1
a352 1
	$(CC) $(CFLAGS) -o $@@ rts.o $(AUDSMOBJECTS) $(CLIBRARIES)
d356 1
a356 1
	$(CC) $(CFLAGS) -o $@@ rts-g.o $(SMOBJECTS:%.o=%-g.o) $(CLIBRARIES)
d359 1
a359 1
	$(CC) $(CFLAGS) -o $@@ rtsx-g.o $(SMOBJECTS:%.o=%-g.o) $(CLIBRARIES) $(XLIBRARIES)
d362 1
a362 1
	$(CC) $(CFLAGS) -o $@@ rts-g.o $(EXSMOBJECTS:%.o=%-g.o) $(CLIBRARIES)
d365 1
a365 1
	$(CC) $(CFLAGS) -o $@@ rts-g.o $(AUDSMOBJECTS:%.o=%-g.o) $(CLIBRARIES)
@


1.62
log
@Added stuff to do communication with emacs over sockets
@
text
@d7 3
d306 1
a306 1
all: $(GENERATED) mlrun exrun mlrun-g exrun-g rts.o runtime
@


1.61
log
@Changed runtime to link to mlrunx-g for consistency with the images Makefile
@
text
@d7 3
d231 1
@


1.60
log
@Temporary change so that runtime still links to mlrun-g, in order to allow
clean makes while Motif stuff still coming on stream
@
text
@d7 4
d325 1
a325 1
runtime: mlrun-g
d327 1
a327 1
	$(LN) mlrun-g $@@
@


1.59
log
@Added targets with X interface code linked and unlinked.
@
text
@d7 3
d321 1
a321 1
runtime: mlrunx-g
d323 1
a323 1
	$(LN) mlrunx-g $@@
@


1.58
log
@Remade dependencies.
@
text
@d7 3
a183 1
#  VADVISE	Should be defined if the OS has an madvise() system call.
d192 2
a193 1
CFLAGS =	-O -Wall -Wpointer-arith -Wwrite-strings -D$(MACH) -DPLOCK -DUSE_MACHINE
d195 1
d227 1
a227 1
		pervasive/trace.c
d250 10
d262 1
a262 1
ALLCSOURCES =	$(CSOURCES) $(SMCSOURCES) $(EXSMCSOURCES)
d267 1
a267 1
DISTRIBUTED =	mlrun exrun rts.o \
d308 2
d314 7
a320 2
#               the storage manager
# runtime	an alias for mlrun-g, for historical reasons
d326 5
a330 1
exrun: rts.o $(EXSMOBJECTS)
d334 1
a334 1
audrun: rts.o $(AUDSMOBJECTS)
a337 4
runtime: mlrun-g
	$(RM) runtime
	$(LN) mlrun-g $@@

d341 3
d350 6
a355 2
rts.o: $(OBJECTS)
	$(LD) $(LDFLAGS) -r -o $@@ $(OBJECTS)
d358 2
a359 2
rts-g.o: $(OBJECTS:%.o=%-g.o)
	$(LD) $(LDFLAGS) -r -o $@@ $(OBJECTS:%.o=%-g.o)
d362 4
d421 1
a421 1
# generated: Wed Jan  6 11:24:55 GMT 1993
d478 2
a479 2
  types.h mltypes.h /usr/include/stdio.h /usr/include/time.h utils.h \
  /usr/include/string.h diagnostic.h /usr/include/memory.h 
d513 4
a516 4
  /usr/include/stdio.h /usr/include/time.h diagnostic.h /usr/include/string.h \
  /usr/include/memory.h /usr/include/sys/wait.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h /usr/include/errno.h \
  /usr/include/sys/errno.h 
d527 1
a527 1
  pervasive/stacks.h pervasive/clm.h pervasive/trace.h 
d615 10
a624 10
  /usr/include/X11/Xos.h /usr/include/X11/Xosdefs.h /usr/include/sys/types.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/sys/sysmacros.h \
  /usr/include/string.h /usr/include/fcntl.h /usr/include/sys/fcntlcom.h \
  /usr/include/sys/stat.h /usr/include/unistd.h /usr/include/sys/time.h \
  pervasive/time.h ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/include/X11/Xproto.h /usr/include/X11/Xmd.h \
  /usr/include/X11/Xprotostr.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/netinet/in.h /usr/include/sys/ioctl.h \
  /usr/local/lib/gcc-include/sys/ttychars.h /usr/include/sys/ttydev.h \
  /usr/local/lib/gcc-include/sys/ttold.h \
d686 38
@


1.57
log
@Corrected make depend so that it generates directory names for
the targets.  This explains quite a few things, actually.
@
text
@d7 4
d389 1
a389 1
# generated: Wed Dec 23 14:19:35 GMT 1992
d526 2
a527 1
  pervasive/time.h /usr/include/sys/time.h ./allocator.h ./diagnostic.h 
@


1.56
log
@Added license.c to sources.
@
text
@d7 3
d203 1
d376 5
a380 2
	   $(CC) -M -I`$(DIRNAME) $$source` -I. $(CFLAGS) $$source; \
         done | $(SED) -e '/:/ s/^\([^.]*\).o/\1.o \1-g.o/g'; \
d385 2
a386 2
# generated: Thu Dec 17 16:10:46 GMT 1992
main.o main-g.o : main.c /usr/include/stdlib.h \
d396 1
a396 1
loader.o loader-g.o : loader.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
d403 1
a403 1
modules.o modules-g.o : modules.c modules.h mltypes.h types.h ./stddef.h \
d407 1
a407 1
allocator.o allocator-g.o : allocator.c allocator.h values.h mltypes.h types.h ./stddef.h \
d411 1
a411 1
state.o state-g.o : state.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
d414 1
a414 1
initialise.o initialise-g.o : initialise.c initialise.h ./stddef.h /usr/include/stddef.h \
d420 1
a420 1
implicit.o implicit-g.o : implicit.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
d423 2
a424 2
endian.o endian-g.o : endian.c types.h endian.h objectfile.h 
utils.o utils-g.o : utils.c ansi.h utils.h mltypes.h types.h ./stddef.h \
d430 1
a430 1
values.o values-g.o : values.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
d434 2
a435 2
diagnostic.o diagnostic-g.o : diagnostic.c diagnostic.h 
handler.o handler-g.o : handler.c implicit.h types.h mltypes.h ./stddef.h \
d440 1
a440 1
alloc.o alloc-g.o : alloc.c alloc.h ./stddef.h /usr/include/stddef.h \
d444 1
a444 1
options.o options-g.o : options.c options.h ./stddef.h /usr/include/stddef.h \
d447 1
a447 1
profiler.o profiler-g.o : profiler.c ansi.h profiler.h /usr/include/stdio.h ./stddef.h \
d456 1
a456 1
global.o global-g.o : global.c global.h mltypes.h types.h ./stddef.h \
d460 1
a460 1
environment.o environment-g.o : environment.c environment.h mltypes.h types.h ./stddef.h \
d466 1
a466 1
event.o event-g.o : event.c /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
d472 1
a472 1
marshal.o marshal-g.o : marshal.c /usr/local/lib/gcc-include/stdarg.h ./stddef.h \
d475 1
a475 1
license.o license-g.o : license.c storeman.h extensions.h tags.h types.h mltypes.h \
d477 5
a481 4
  /usr/include/stdio.h /usr/include/time.h /usr/include/sys/wait.h \
  /usr/include/signal.h /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
pervasives.o pervasives-g.o : pervasive/pervasives.c /usr/include/errno.h \
d492 1
a492 1
exceptions.o exceptions-g.o : pervasive/exceptions.c /usr/include/stdio.h \
d498 1
a498 1
streams.o streams-g.o : pervasive/streams.c /usr/include/stdio.h /usr/include/string.h \
d505 1
a505 1
integers.o integers-g.o : pervasive/integers.c pervasive/integers.h ./mltypes.h \
d509 1
a509 1
lists.o lists-g.o : pervasive/lists.c pervasive/lists.h ./mltypes.h ./types.h \
d514 1
a514 1
reals.o reals-g.o : pervasive/reals.c /usr/include/math.h \
d523 1
a523 1
strings.o strings-g.o : pervasive/strings.c /usr/include/string.h \
d529 1
a529 1
time.o time-g.o : pervasive/time.c pervasive/time.h /usr/include/sys/time.h \
d538 1
a538 1
value.o value-g.o : pervasive/value.c /usr/include/string.h \
d544 1
a544 1
clm.o clm-g.o : pervasive/clm.c pervasive/clm.h ./mltypes.h ./types.h ./stddef.h \
d546 1
a546 1
system.o system-g.o : pervasive/system.c /usr/include/stdlib.h \
d558 1
a558 1
bytearrays.o bytearrays-g.o : pervasive/bytearrays.c /usr/include/string.h \
d564 1
a564 1
stacks.o stacks-g.o : pervasive/stacks.c pervasive/stacks.h ./storeman.h \
d569 1
a569 1
clmio.o clmio-g.o : pervasive/clmio.c /usr/include/sys/types.h \
d577 1
a577 1
clmsocket.o clmsocket-g.o : pervasive/clmsocket.c /usr/include/stdio.h \
d596 1
a596 1
trace.o trace-g.o : pervasive/trace.c ./environment.h ./mltypes.h ./types.h \
d601 1
a601 1
arena.o arena-g.o : storeman/default/arena.c storeman/default/arena.h ./types.h \
d610 1
a610 1
mem.o mem-g.o : storeman/default/mem.c storeman/default/mem.h ./storeman.h \
d617 1
a617 1
gc.o gc-g.o : storeman/default/gc.c ./ansi.h ./diagnostic.h ./types.h ./mltypes.h \
d627 1
a627 1
image.o image-g.o : storeman/default/image.c ./storeman.h ./extensions.h ./tags.h \
d635 1
a635 1
gc.o gc-g.o : storeman/example/gc.c ./ansi.h ./storeman.h ./extensions.h ./tags.h \
d643 1
a643 1
image.o image-g.o : storeman/example/image.c ./storeman.h ./extensions.h ./tags.h \
@


1.55
log
@Added DEBUG flag to internal version of runtime system.
@
text
@d7 3
d208 1
a208 1
		marshal.c \
d378 1
a378 1
# generated: Wed Dec  2 16:25:27 GMT 1992
d388 1
a388 1
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h 
d421 2
a422 1
  /usr/local/lib/gcc-include/stdarg.h 
d468 5
d509 4
a512 2
  /usr/include/stdlib.h /usr/include/stdio.h pervasive/reals.h ./mltypes.h \
  ./types.h ./stddef.h /usr/include/stddef.h ./values.h ./implicit.h ./tags.h \
d514 1
a514 1
  pervasive/time.h /usr/include/sys/time.h ./allocator.h 
d606 3
a608 2
  /usr/include/stdlib.h ./state.h ./utils.h ./values.h ./implicit.h ./alloc.h \
  ./diagnostic.h /usr/include/errno.h /usr/include/sys/errno.h 
@


1.54
log
@Changed "run" to "mlrun" in "all" target.
@
text
@d7 3
d259 1
a259 1
	$(CC) -I`$(DIRNAME) $<` -I. $(CFLAGS) -DDIAGNOSTICS -g -c -o $@@ $<
@


1.53
log
@Changed the name of the runtime system to mlrun.
@
text
@d7 3
d264 1
a264 1
all: $(GENERATED) run exrun run-g exrun-g rts.o runtime
@


1.52
log
@Added an assembler routine to do append
@
text
@d7 3
d236 1
a236 1
DISTRIBUTED =	run exrun rts.o \
d275 2
a276 2
# run		the distributed runtime system
# run-g		a version of `run' with debugging information
d282 1
a282 1
# runtime	an alias for run-g, for historical reasons
d284 1
a284 1
run: rts.o $(SMOBJECTS)
d296 1
a296 1
runtime: run-g
d298 1
a298 1
	$(LN) run-g $@@
d300 1
a300 1
run-g: rts-g.o $(SMOBJECTS:%.o=%-g.o)
@


1.51
log
@Added trace.c
@
text
@d7 3
d204 1
a204 1
ASSOURCES =	$(MACH)/interface.m4s \
d366 256
a621 1
# generated: Wed Nov 11 16:33:11 GMT 1992
@


1.50
log
@Reorganized the pervasives into a subdirectory.
@
text
@d7 3
d199 2
a200 1
		pervasive/clmio.c pervasive/clmsocket.c
d363 1
a363 242
# generated: Thu Oct 29 13:00:00 GMT 1992
main.o main-g.o : main.c /usr/include/stdlib.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/string.h \
  /usr/include/ctype.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/time.h /usr/include/sys/lock.h /usr/include/pwd.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h ansi.h loader.h \
  /usr/include/stdio.h mltypes.h types.h ./stddef.h /usr/include/stddef.h \
  modules.h values.h implicit.h tags.h utils.h storeman.h extensions.h \
  diagnostic.h initialise.h global.h options.h profiler.h handler.h state.h \
  allocator.h interface.h pervasives.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h 
loader.o loader-g.o : loader.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h values.h implicit.h tags.h \
  /usr/include/stdio.h loader.h /usr/include/stdlib.h modules.h objectfile.h \
  allocator.h storeman.h extensions.h /usr/include/time.h interface.h \
  endian.h diagnostic.h utils.h global.h /usr/include/string.h \
  /usr/include/setjmp.h /usr/include/machine/setjmp.h /usr/include/errno.h \
  /usr/include/sys/errno.h 
modules.o modules-g.o : modules.c modules.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h values.h \
  implicit.h tags.h /usr/include/stdio.h allocator.h storeman.h extensions.h \
  /usr/include/time.h 
allocator.o allocator-g.o : allocator.c allocator.h values.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h implicit.h \
  tags.h /usr/include/stdio.h storeman.h extensions.h /usr/include/time.h \
  diagnostic.h state.h utils.h /usr/include/string.h 
state.o state-g.o : state.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h state.h storeman.h extensions.h \
  tags.h /usr/include/stdio.h /usr/include/time.h 
initialise.o initialise-g.o : initialise.c initialise.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h modules.h mltypes.h types.h \
  values.h implicit.h tags.h /usr/include/stdio.h storeman.h extensions.h \
  /usr/include/time.h state.h utils.h pervasives.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h profiler.h options.h \
  handler.h loader.h /usr/include/stdlib.h main.h global.h event.h 
implicit.o implicit-g.o : implicit.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h values.h implicit.h tags.h \
  /usr/include/stdio.h interface.h extensions.h 
endian.o endian-g.o : endian.c types.h endian.h objectfile.h 
utils.o utils-g.o : utils.c ansi.h utils.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h storeman.h \
  extensions.h tags.h /usr/include/stdio.h /usr/include/time.h allocator.h \
  values.h implicit.h /usr/include/stdlib.h /usr/include/string.h \
  /usr/local/lib/gcc-include/stdarg.h 
values.o values-g.o : values.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h storeman.h extensions.h tags.h \
  /usr/include/stdio.h /usr/include/time.h values.h implicit.h allocator.h \
  utils.h diagnostic.h /usr/include/ctype.h /usr/include/string.h 
diagnostic.o diagnostic-g.o : diagnostic.c diagnostic.h 
handler.o handler-g.o : handler.c implicit.h types.h mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h handler.h \
  values.h tags.h /usr/include/stdio.h utils.h storeman.h extensions.h \
  /usr/include/time.h state.h diagnostic.h allocator.h interface.h \
  /usr/include/string.h 
alloc.o alloc-g.o : alloc.c alloc.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h storeman.h extensions.h tags.h \
  types.h mltypes.h /usr/include/stdio.h /usr/include/time.h utils.h \
  /usr/include/string.h diagnostic.h /usr/include/memory.h 
options.o options-g.o : options.c options.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/string.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
profiler.o profiler-g.o : profiler.c ansi.h profiler.h /usr/include/stdio.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h options.h \
  values.h mltypes.h types.h implicit.h tags.h storeman.h extensions.h \
  /usr/include/time.h diagnostic.h interface.h utils.h allocator.h global.h \
  loader.h /usr/include/stdlib.h modules.h /usr/include/string.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/setjmp.h \
  /usr/include/machine/setjmp.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  /usr/include/sys/time.h 
global.o global-g.o : global.c global.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h storeman.h \
  extensions.h tags.h /usr/include/stdio.h /usr/include/time.h values.h \
  implicit.h allocator.h /usr/include/string.h 
environment.o environment-g.o : environment.c environment.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h global.h \
  values.h implicit.h tags.h /usr/include/stdio.h allocator.h storeman.h \
  extensions.h /usr/include/time.h diagnostic.h interface.h profiler.h \
  options.h pervasives.h /usr/include/signal.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h /usr/include/string.h 
event.o event-g.o : event.c /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/stdlib.h event.h mltypes.h types.h \
  ./stddef.h /usr/include/stddef.h tags.h global.h values.h implicit.h \
  /usr/include/stdio.h allocator.h storeman.h extensions.h \
  /usr/include/time.h diagnostic.h interface.h 
marshal.o marshal-g.o : marshal.c /usr/local/lib/gcc-include/stdarg.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/errno.h /usr/include/sys/errno.h marshal.h 
pervasives.o pervasives-g.o : pervasive/pervasives.c ./ansi.h ./pervasives.h ./storeman.h \
  ./extensions.h ./tags.h ./types.h ./mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/stdio.h pervasive/time.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h ./diagnostic.h \
  ./global.h ./environment.h ./modules.h ./values.h ./implicit.h \
  ./allocator.h pervasive/exceptions.h pervasive/integers.h pervasive/lists.h \
  pervasive/reals.h pervasive/streams.h pervasive/strings.h \
  pervasive/system.h pervasive/value.h pervasive/bytearrays.h \
  pervasive/stacks.h pervasive/clm.h 
exceptions.o exceptions-g.o : pervasive/exceptions.c /usr/include/stdio.h \
  /usr/local/lib/gcc-include/stdarg.h pervasive/exceptions.h ./mltypes.h \
  ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h ./extensions.h ./values.h \
  ./implicit.h ./tags.h ./global.h ./environment.h ./interface.h ./storeman.h \
  pervasive/time.h ./allocator.h 
streams.o streams-g.o : pervasive/streams.c /usr/include/stdio.h /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h ./ansi.h pervasive/streams.h \
  ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h ./values.h \
  ./implicit.h ./tags.h ./allocator.h ./storeman.h ./extensions.h \
  pervasive/time.h ./pervasives.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  pervasive/exceptions.h ./environment.h ./global.h 
integers.o integers-g.o : pervasive/integers.c pervasive/integers.h ./mltypes.h \
  ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h ./values.h ./implicit.h ./tags.h \
  /usr/include/stdio.h pervasive/exceptions.h ./extensions.h ./environment.h 
lists.o lists-g.o : pervasive/lists.c pervasive/lists.h ./mltypes.h ./types.h \
  ./stddef.h /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  ./values.h ./implicit.h ./tags.h /usr/include/stdio.h ./environment.h \
  ./storeman.h ./extensions.h pervasive/time.h ./allocator.h 
reals.o reals-g.o : pervasive/reals.c /usr/include/math.h \
  /usr/include/floatingpoint.h /usr/include/sys/ieeefp.h \
  /usr/include/string.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/stdlib.h /usr/include/stdio.h pervasive/reals.h ./mltypes.h \
  ./types.h ./stddef.h /usr/include/stddef.h ./values.h ./implicit.h ./tags.h \
  pervasive/exceptions.h ./extensions.h ./environment.h ./storeman.h \
  pervasive/time.h ./allocator.h 
strings.o strings-g.o : pervasive/strings.c /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h pervasive/strings.h ./storeman.h \
  ./extensions.h ./tags.h ./types.h ./mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/include/stdio.h pervasive/time.h ./allocator.h \
  ./values.h ./implicit.h ./environment.h pervasive/exceptions.h 
time.o time-g.o : pervasive/time.c pervasive/time.h /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdlib.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/stat.h \
  /usr/include/sys/time.h /usr/include/sys/resource.h ./ansi.h ./storeman.h \
  ./extensions.h ./tags.h ./types.h ./mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/include/stdio.h ./allocator.h ./values.h \
  ./implicit.h ./environment.h pervasive/exceptions.h ./diagnostic.h \
  ./marshal.h 
value.o value-g.o : pervasive/value.c /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h pervasive/value.h ./mltypes.h \
  ./types.h ./stddef.h /usr/include/stddef.h ./values.h ./implicit.h ./tags.h \
  /usr/include/stdio.h ./storeman.h ./extensions.h pervasive/time.h \
  pervasive/exceptions.h ./environment.h ./allocator.h 
clm.o clm-g.o : pervasive/clm.c pervasive/clm.h ./mltypes.h ./types.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h 
system.o system-g.o : pervasive/system.c /usr/include/stdlib.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/sys/param.h \
  /usr/include/machine/param.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/string.h pervasive/system.h pervasive/exceptions.h ./mltypes.h \
  ./types.h ./stddef.h /usr/include/stddef.h ./extensions.h ./values.h \
  ./implicit.h ./tags.h /usr/include/stdio.h ./storeman.h pervasive/time.h \
  ./allocator.h ./environment.h ./main.h ./profiler.h ./options.h ./ansi.h \
  ./interface.h ./global.h ./loader.h ./modules.h ./event.h 
bytearrays.o bytearrays-g.o : pervasive/bytearrays.c /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h pervasive/bytearrays.h \
  ./mltypes.h ./types.h ./stddef.h /usr/include/stddef.h ./values.h \
  ./implicit.h ./tags.h /usr/include/stdio.h ./storeman.h ./extensions.h \
  pervasive/time.h pervasive/exceptions.h ./allocator.h ./environment.h 
stacks.o stacks-g.o : pervasive/stacks.c pervasive/stacks.h ./storeman.h \
  ./extensions.h ./tags.h ./types.h ./mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/stdio.h pervasive/time.h ./allocator.h ./values.h ./implicit.h \
  ./environment.h ./utils.h ./interface.h 
clmio.o clmio-g.o : pervasive/clmio.c /usr/include/sys/types.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/sys/sysmacros.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/stdio.h ./io.h \
  /usr/include/ctype.h /usr/include/string.h ./values.h ./mltypes.h ./types.h \
  ./stddef.h /usr/include/stddef.h ./implicit.h ./tags.h ./pervasives.h \
  ./storeman.h ./extensions.h pervasive/time.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h ./allocator.h \
  ./environment.h pervasive/exceptions.h 
clmsocket.o clmsocket-g.o : pervasive/clmsocket.c /usr/include/stdio.h \
  /usr/include/X11/Xos.h /usr/include/X11/Xosdefs.h /usr/include/sys/types.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/sys/sysmacros.h \
  /usr/include/string.h /usr/include/fcntl.h /usr/include/sys/fcntlcom.h \
  /usr/include/sys/stat.h /usr/include/unistd.h /usr/include/sys/time.h \
  pervasive/time.h /usr/include/X11/Xproto.h /usr/include/X11/Xmd.h \
  /usr/include/X11/Xprotostr.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/netinet/in.h /usr/include/sys/ioctl.h \
  /usr/local/lib/gcc-include/sys/ttychars.h /usr/include/sys/ttydev.h \
  /usr/local/lib/gcc-include/sys/ttold.h \
  /usr/local/lib/gcc-include/sys/ioccom.h \
  /usr/local/lib/gcc-include/sys/ttycom.h \
  /usr/local/lib/gcc-include/sys/filio.h \
  /usr/local/lib/gcc-include/sys/sockio.h /usr/include/netdb.h \
  /usr/include/sys/socket.h /usr/include/sys/wait.h \
  /usr/include/netinet/tcp.h /usr/include/signal.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h ./values.h ./mltypes.h ./types.h ./stddef.h \
  /usr/include/stddef.h ./implicit.h ./tags.h ./environment.h 
arena.o arena-g.o : storeman/default/arena.c storeman/default/arena.h ./types.h \
  ./stddef.h /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  ./diagnostic.h ./utils.h ./mltypes.h ./storeman.h ./extensions.h ./tags.h \
  /usr/include/stdio.h /usr/include/time.h /usr/include/stdlib.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/string.h \
  /usr/include/sys/mman.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/lock.h /usr/include/fcntl.h \
  /usr/include/sys/fcntlcom.h /usr/include/sys/stat.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h 
mem.o mem-g.o : storeman/default/mem.c storeman/default/mem.h ./storeman.h \
  ./extensions.h ./tags.h ./types.h ./mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/stdio.h /usr/include/time.h storeman/default/arena.h \
  /usr/include/stdlib.h ./state.h ./utils.h ./values.h ./implicit.h ./alloc.h \
  ./diagnostic.h /usr/include/errno.h /usr/include/sys/errno.h 
gc.o gc-g.o : storeman/default/gc.c ./ansi.h ./diagnostic.h ./types.h ./mltypes.h \
  ./stddef.h /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  ./tags.h ./values.h ./implicit.h /usr/include/stdio.h \
  storeman/default/mem.h ./storeman.h ./extensions.h /usr/include/time.h \
  storeman/default/arena.h /usr/include/stdlib.h ./state.h ./loader.h \
  ./modules.h ./utils.h storeman/default/gc.h ./interface.h ./profiler.h \
  ./options.h /usr/local/lib/gcc-include/stdarg.h /usr/include/string.h \
  /usr/include/math.h /usr/include/floatingpoint.h /usr/include/sys/ieeefp.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
image.o image-g.o : storeman/default/image.c ./storeman.h ./extensions.h ./tags.h \
  ./types.h ./mltypes.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/time.h storeman/default/arena.h storeman/default/image.h \
  storeman/default/mem.h /usr/include/stdlib.h ./diagnostic.h ./alloc.h \
  storeman/default/gc.h ./values.h ./implicit.h storeman/default/gcdebug.h \
  ./state.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/setjmp.h /usr/include/machine/setjmp.h /usr/include/string.h 
gc.o gc-g.o : storeman/example/gc.c ./ansi.h ./storeman.h ./extensions.h ./tags.h \
  ./types.h ./mltypes.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/time.h ./diagnostic.h storeman/example/sm.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  /usr/include/sys/mman.h /usr/include/sys/fcntl.h \
  /usr/include/sys/fcntlcom.h /usr/include/sys/stat.h /usr/include/errno.h \
  /usr/include/sys/errno.h 
image.o image-g.o : storeman/example/image.c ./storeman.h ./extensions.h ./tags.h \
  ./types.h ./mltypes.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/time.h ./diagnostic.h storeman/example/sm.h \
  /usr/include/setjmp.h /usr/include/machine/setjmp.h /usr/include/string.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
# DEPENDENCIES MUST END AT END OF FILE
# see make depend above
@


1.49
log
@Now we use mark's assembler multiply
@
text
@d7 3
d188 11
a198 4
		implicit.c endian.c utils.c pervasives.c values.c \
		diagnostic.c handler.c alloc.c options.c profiler.c global.c \
		environment.c unixsocket.c io.c
ASSOURCES =	$(MACH)/interface.m4s $(MACH)/poly_equal.m4s $(MACH)/ovfl_mul.m4s
d359 1
a359 1
# generated: Mon Oct 12 13:46:59 BST 1992
d393 1
a393 2
  handler.h loader.h /usr/include/stdlib.h main.h global.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
a402 11
pervasives.o pervasives-g.o : pervasives.c /usr/include/stdio.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/math.h /usr/include/floatingpoint.h \
  /usr/include/sys/ieeefp.h /usr/include/string.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/time.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  /usr/include/sys/stat.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h /usr/include/sys/wait.h ansi.h clm.h mltypes.h \
  types.h ./stddef.h /usr/include/stddef.h interface.h extensions.h \
  diagnostic.h values.h implicit.h tags.h allocator.h storeman.h pervasives.h \
  /usr/include/signal.h utils.h handler.h modules.h loader.h \
  /usr/include/stdlib.h global.h main.h profiler.h options.h environment.h 
d439 89
a527 2
unixsocket.o unixsocket-g.o : unixsocket.c /usr/include/stdio.h /usr/include/X11/Xos.h \
  /usr/include/X11/Xosdefs.h /usr/include/sys/types.h \
d529 9
d540 1
a540 1
  /usr/include/time.h /usr/include/X11/Xproto.h /usr/include/X11/Xmd.h \
d551 2
a552 9
  /usr/include/vm/faultcode.h values.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h implicit.h tags.h 
io.o io-g.o : io.c /usr/include/sys/types.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/sys/sysmacros.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/stdio.h io.h \
  /usr/include/ctype.h /usr/include/string.h values.h mltypes.h types.h \
  ./stddef.h /usr/include/stddef.h implicit.h tags.h pervasives.h storeman.h \
  extensions.h /usr/include/time.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h allocator.h 
@


1.48
log
@Update for CLM files
@
text
@d7 3
d188 1
a188 1
ASSOURCES =	$(MACH)/interface.m4s $(MACH)/poly_equal.m4s
d303 1
a304 1

d349 1
a349 1
# generated: Fri Oct  2 11:04:20 BST 1992
d354 1
a354 1
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h loader.h \
d356 4
a359 4
  modules.h values.h implicit.h tags.h utils.h storeman.h diagnostic.h \
  initialise.h global.h options.h profiler.h handler.h state.h allocator.h \
  interface.h pervasives.h /usr/include/signal.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h 
d363 4
a366 3
  allocator.h storeman.h /usr/include/time.h interface.h endian.h \
  diagnostic.h utils.h global.h /usr/include/string.h /usr/include/setjmp.h \
  /usr/include/machine/setjmp.h /usr/include/errno.h /usr/include/sys/errno.h 
d369 1
a369 1
  implicit.h tags.h /usr/include/stdio.h allocator.h storeman.h \
d373 2
a374 2
  tags.h /usr/include/stdio.h storeman.h /usr/include/time.h diagnostic.h \
  state.h utils.h /usr/include/string.h 
d376 2
a377 2
  /usr/local/lib/gcc-include/sys/stdtypes.h state.h storeman.h tags.h \
  /usr/include/stdio.h /usr/include/time.h 
d380 1
a380 1
  values.h implicit.h tags.h /usr/include/stdio.h storeman.h \
d387 1
a387 1
  /usr/include/stdio.h interface.h 
d389 1
a389 1
utils.o utils-g.o : utils.c utils.h mltypes.h types.h ./stddef.h \
d391 2
a392 2
  tags.h /usr/include/stdio.h /usr/include/time.h allocator.h values.h \
  implicit.h /usr/include/stdlib.h /usr/include/string.h \
d400 5
a404 5
  /usr/include/vm/faultcode.h /usr/include/sys/wait.h clm.h mltypes.h types.h \
  ./stddef.h /usr/include/stddef.h interface.h diagnostic.h values.h \
  implicit.h tags.h allocator.h storeman.h pervasives.h /usr/include/signal.h \
  utils.h handler.h modules.h loader.h /usr/include/stdlib.h global.h main.h \
  profiler.h options.h environment.h 
d406 1
a406 1
  /usr/local/lib/gcc-include/sys/stdtypes.h storeman.h tags.h \
d412 3
a414 2
  values.h tags.h /usr/include/stdio.h utils.h storeman.h /usr/include/time.h \
  state.h diagnostic.h allocator.h interface.h /usr/include/string.h 
d416 3
a418 3
  /usr/local/lib/gcc-include/sys/stdtypes.h storeman.h tags.h types.h \
  mltypes.h /usr/include/stdio.h /usr/include/time.h utils.h \
  /usr/include/string.h diagnostic.h 
d422 1
a422 1
profiler.o profiler-g.o : profiler.c profiler.h /usr/include/stdio.h ./stddef.h \
d424 4
a427 4
  values.h mltypes.h types.h implicit.h tags.h storeman.h /usr/include/time.h \
  diagnostic.h interface.h extensions.h utils.h allocator.h global.h loader.h \
  /usr/include/stdlib.h modules.h /usr/include/string.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/setjmp.h \
d433 2
a434 2
  tags.h /usr/include/stdio.h /usr/include/time.h values.h implicit.h \
  allocator.h /usr/include/string.h 
d438 2
a439 2
  /usr/include/time.h diagnostic.h interface.h profiler.h options.h \
  pervasives.h /usr/include/signal.h /usr/include/sys/signal.h \
d464 2
a465 2
  /usr/include/time.h /usr/include/signal.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h allocator.h 
d468 3
a470 2
  ./diagnostic.h /usr/include/stdlib.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/string.h /usr/include/stdio.h \
d475 7
a481 7
mem.o mem-g.o : storeman/default/mem.c storeman/default/mem.h ./storeman.h ./tags.h \
  ./types.h ./mltypes.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/time.h storeman/default/arena.h /usr/include/stdlib.h \
  ./state.h ./utils.h ./values.h ./implicit.h ./alloc.h ./diagnostic.h \
  ./extensions.h /usr/include/errno.h /usr/include/sys/errno.h 
gc.o gc-g.o : storeman/default/gc.c ./diagnostic.h ./types.h ./mltypes.h \
d484 1
a484 1
  storeman/default/mem.h ./storeman.h /usr/include/time.h \
d486 6
a491 6
  ./modules.h ./utils.h storeman/default/gc.h ./extensions.h ./interface.h \
  ./profiler.h ./options.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/include/string.h /usr/include/math.h /usr/include/floatingpoint.h \
  /usr/include/sys/ieeefp.h /usr/include/errno.h /usr/include/sys/errno.h 
image.o image-g.o : storeman/default/image.c ./storeman.h ./tags.h ./types.h \
  ./mltypes.h ./stddef.h /usr/include/stddef.h \
d498 5
a502 4
gc.o gc-g.o : storeman/example/gc.c ./storeman.h ./tags.h ./types.h ./mltypes.h \
  ./stddef.h /usr/include/stddef.h /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/include/stdio.h /usr/include/time.h ./diagnostic.h \
  storeman/example/sm.h /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
d506 2
a507 2
image.o image-g.o : storeman/example/image.c ./storeman.h ./tags.h ./types.h \
  ./mltypes.h ./stddef.h /usr/include/stddef.h \
@


1.47
log
@extensions.h is now distributed because it is used in storeman.h.
@
text
@d7 3
d184 1
a184 1
		environment.c
d208 1
a208 1
ALLCSOURCES =	$(CSOURCES) $(SMCSOURCES) $(EXSMCSOURCES) $(AUDSMCSOURCES)
d346 1
a346 1
# generated: Fri Oct  2 09:26:48 BST 1992
d351 1
a351 1
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h ansi.h loader.h \
d385 1
a385 1
utils.o utils-g.o : utils.c ansi.h utils.h mltypes.h types.h ./stddef.h \
d396 5
a400 6
  /usr/include/vm/faultcode.h /usr/include/sys/wait.h \
  /usr/include/sys/utsname.h ansi.h interface.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h diagnostic.h values.h implicit.h tags.h allocator.h \
  storeman.h pervasives.h /usr/include/signal.h utils.h handler.h modules.h \
  loader.h /usr/include/stdlib.h global.h main.h profiler.h options.h \
  environment.h 
d417 1
a417 1
profiler.o profiler-g.o : profiler.c ansi.h profiler.h /usr/include/stdio.h ./stddef.h \
d436 25
a504 32
gc.o gc-g.o : storeman/auditing/gc.c storeman/auditing/gc.h ./storeman.h ./tags.h \
  ./types.h ./mltypes.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/time.h storeman/auditing/audit.h \
  /usr/local/lib/gcc-include/limits.h storeman/auditing/mem.h ./diagnostic.h \
  ./values.h ./implicit.h ./extensions.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/mman.h \
  /usr/include/sys/fcntl.h /usr/include/sys/fcntlcom.h \
  /usr/include/sys/stat.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/string.h 
mem.o mem-g.o : storeman/auditing/mem.c storeman/auditing/mem.h ./storeman.h \
  ./tags.h ./types.h ./mltypes.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/time.h storeman/auditing/gc.h storeman/auditing/audit.h \
  /usr/local/lib/gcc-include/limits.h ./diagnostic.h ./values.h ./implicit.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/sys/mman.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  /usr/include/sys/lock.h /usr/include/fcntl.h /usr/include/sys/fcntlcom.h \
  /usr/include/sys/stat.h /usr/include/signal.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h 
image.o image-g.o : storeman/auditing/image.c ./storeman.h ./tags.h ./types.h \
  ./mltypes.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h /usr/include/stdio.h \
  /usr/include/time.h ./diagnostic.h /usr/include/errno.h \
  /usr/include/sys/errno.h 
audit.o audit-g.o : storeman/auditing/audit.c storeman/auditing/audit.h ./mltypes.h \
  ./types.h ./stddef.h /usr/include/stddef.h \
  /usr/local/lib/gcc-include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/limits.h /usr/include/stdio.h \
  /usr/include/time.h ./values.h ./implicit.h ./tags.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h /usr/include/fcntl.h \
  /usr/include/sys/fcntlcom.h /usr/include/sys/stat.h /usr/include/sys/mman.h 
@


1.46
log
@Updated for re-installed GCC headers and associated
source changes.
@
text
@d7 4
d211 1
a211 1
		ansi.h storeman.h tags.h types.h mltypes.h diagnostic.h \
@


1.45
log
@Reorganised the storage managers into directories.
@
text
@d7 3
d152 1
a152 1
CFLAGS =	-O -I. -ansi -pedantic -Wall -D$(MACH) -DPLOCK -DUSE_MACHINE
d168 1
d207 1
a207 1
		storeman.h tags.h types.h mltypes.h diagnostic.h \
d217 1
a217 1
	$(CC) $(CFLAGS) -c -o $@@ $<
d223 1
a223 1
	$(CC) $(CFLAGS) -DDIAGNOSTICS -g -c -o $@@ $<
d331 4
a334 1
	 $(CC) -M $(CFLAGS) $(ALLCSOURCES) | $(SED) -e '/:/ s/^\([^.]*\).o/\1.o \1-g.o/g'; \
d339 11
a349 11
# generated: Fri Aug 14 12:04:39 BST 1992
main.o main-g.o : main.c /usr/local/lib/gcc-include/stdlib.h ./stddef.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/string.h /usr/include/ctype.h \
  /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/local/lib/gcc-include/time.h /usr/include/sys/lock.h \
  /usr/include/pwd.h /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  loader.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdarg.h mltypes.h types.h modules.h values.h \
  implicit.h tags.h utils.h storeman.h diagnostic.h initialise.h global.h \
  options.h profiler.h handler.h state.h allocator.h interface.h 
d351 5
a355 7
  /usr/include/sys/stdtypes.h values.h implicit.h tags.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h loader.h modules.h objectfile.h \
  allocator.h storeman.h /usr/local/lib/gcc-include/time.h interface.h \
  endian.h diagnostic.h utils.h global.h /usr/local/lib/gcc-include/string.h \
  /usr/include/setjmp.h /usr/include/machine/setjmp.h /usr/include/errno.h \
  /usr/include/sys/errno.h 
d357 3
a359 4
  /usr/include/stddef.h /usr/include/sys/stdtypes.h values.h implicit.h \
  tags.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  allocator.h storeman.h /usr/local/lib/gcc-include/time.h 
d361 3
a363 5
  /usr/include/stddef.h /usr/include/sys/stdtypes.h implicit.h tags.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h storeman.h \
  /usr/local/lib/gcc-include/time.h diagnostic.h state.h utils.h \
  /usr/local/lib/gcc-include/string.h 
d365 2
a366 3
  /usr/include/sys/stdtypes.h state.h storeman.h tags.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h 
d368 6
a373 7
  /usr/include/sys/stdtypes.h modules.h mltypes.h types.h values.h implicit.h \
  tags.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  storeman.h /usr/local/lib/gcc-include/time.h state.h utils.h pervasives.h \
  profiler.h options.h handler.h loader.h main.h global.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h /usr/include/errno.h \
  /usr/include/sys/errno.h 
d375 2
a376 3
  /usr/include/sys/stdtypes.h values.h implicit.h tags.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h interface.h 
d378 17
a394 16
utils.o utils-g.o : utils.c utils.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h tags.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h \
  allocator.h values.h implicit.h /usr/local/lib/gcc-include/string.h 
pervasives.o pervasives-g.o : pervasives.c /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h ./stddef.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/local/lib/gcc-include/math.h /usr/local/lib/gcc-include/string.h \
  /usr/local/lib/gcc-include/time.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/stat.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  /usr/include/sys/wait.h interface.h mltypes.h types.h diagnostic.h values.h \
  implicit.h tags.h allocator.h storeman.h pervasives.h utils.h handler.h \
  modules.h loader.h global.h main.h profiler.h options.h environment.h 
d396 3
a398 5
  /usr/include/sys/stdtypes.h storeman.h tags.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h \
  values.h implicit.h allocator.h utils.h diagnostic.h /usr/include/ctype.h \
  /usr/local/lib/gcc-include/string.h 
d401 3
a403 5
  /usr/include/stddef.h /usr/include/sys/stdtypes.h handler.h values.h tags.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h utils.h storeman.h \
  /usr/local/lib/gcc-include/time.h state.h diagnostic.h allocator.h \
  interface.h /usr/local/lib/gcc-include/string.h 
d405 3
a407 4
  /usr/include/sys/stdtypes.h storeman.h tags.h types.h mltypes.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h \
  utils.h /usr/local/lib/gcc-include/string.h diagnostic.h 
d409 1
a409 1
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/string.h \
d411 5
a415 7
profiler.o profiler-g.o : profiler.c profiler.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h ./stddef.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h options.h \
  values.h mltypes.h types.h implicit.h tags.h storeman.h \
  /usr/local/lib/gcc-include/time.h diagnostic.h interface.h extensions.h \
  utils.h allocator.h global.h loader.h modules.h \
  /usr/local/lib/gcc-include/string.h /usr/include/errno.h \
d417 3
a419 2
  /usr/include/machine/setjmp.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h /usr/include/sys/time.h 
d421 3
a423 4
  /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h tags.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h \
  values.h implicit.h allocator.h /usr/local/lib/gcc-include/string.h 
d425 5
a429 5
  /usr/include/stddef.h /usr/include/sys/stdtypes.h global.h values.h \
  implicit.h tags.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  allocator.h storeman.h /usr/local/lib/gcc-include/time.h diagnostic.h \
  interface.h profiler.h options.h /usr/local/lib/gcc-include/string.h 
d431 3
a433 4
  ./stddef.h /usr/include/stddef.h /usr/include/sys/stdtypes.h ./diagnostic.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/local/lib/gcc-include/string.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdarg.h \
d440 4
a443 5
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/local/lib/gcc-include/time.h storeman/default/arena.h ./state.h \
  ./utils.h ./values.h ./implicit.h ./alloc.h ./diagnostic.h ./extensions.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
d445 8
a452 8
  ./stddef.h /usr/include/stddef.h /usr/include/sys/stdtypes.h ./tags.h \
  ./values.h ./implicit.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  storeman/default/mem.h ./storeman.h /usr/local/lib/gcc-include/time.h \
  storeman/default/arena.h ./state.h ./loader.h ./modules.h ./utils.h \
  storeman/default/gc.h ./extensions.h ./interface.h ./profiler.h ./options.h \
  /usr/local/lib/gcc-include/string.h /usr/local/lib/gcc-include/math.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
d454 7
a460 8
  ./mltypes.h ./stddef.h /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h \
  storeman/default/arena.h storeman/default/image.h storeman/default/mem.h \
  ./diagnostic.h ./alloc.h storeman/default/gc.h ./values.h ./implicit.h \
  storeman/default/gcdebug.h ./state.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/setjmp.h \
  /usr/include/machine/setjmp.h /usr/local/lib/gcc-include/string.h 
d462 6
a467 7
  ./stddef.h /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h \
  ./diagnostic.h storeman/example/sm.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/mman.h \
  /usr/include/sys/fcntl.h /usr/include/sys/fcntlcom.h \
  /usr/include/sys/stat.h /usr/include/errno.h /usr/include/sys/errno.h 
d469 4
a472 5
  ./mltypes.h ./stddef.h /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h \
  ./diagnostic.h storeman/example/sm.h /usr/include/setjmp.h \
  /usr/include/machine/setjmp.h /usr/local/lib/gcc-include/string.h \
d476 2
a477 3
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/local/lib/gcc-include/time.h storeman/auditing/audit.h \
d483 1
a483 1
  /usr/local/lib/gcc-include/string.h 
d486 8
a493 9
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/local/lib/gcc-include/time.h storeman/auditing/gc.h \
  storeman/auditing/audit.h /usr/local/lib/gcc-include/limits.h \
  ./diagnostic.h ./values.h ./implicit.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/sys/mman.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/lock.h /usr/include/fcntl.h \
  /usr/include/sys/fcntlcom.h /usr/include/sys/stat.h /usr/include/signal.h \
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h 
d495 4
a498 4
  ./mltypes.h ./stddef.h /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h \
  ./diagnostic.h /usr/include/errno.h /usr/include/sys/errno.h 
d500 4
a503 4
  ./types.h ./stddef.h /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/limits.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/local/lib/gcc-include/time.h ./values.h ./implicit.h ./tags.h \
@


1.44
log
@Added some files for a preliminary auditing storage manager.
Remade dependencies.
@
text
@d7 7
d149 1
a149 1
CFLAGS =	-O -ansi -pedantic -Wall -D$(MACH) -DPLOCK -DUSE_MACHINE
d159 1
d179 3
a181 2
SMCSOURCES =	gc.c mem.c arena.c image.c
SMASSOURCES =	$(MACH)/fixup.m4s
d186 8
a193 5
EXSMCSOURCES =	exgc.c eximage.c
EXSMOBJECTS =	$(EXSMCSOURCES:%.c=%.o)

AUDSMCSOURCES =	auditgc.c eximage.c
AUDSMOBJECTS =	$(AUDSMCSOURCES:%.c=%.o)
d204 2
a205 1
		exgc.c eximage.c exsm.h
d236 1
a236 1
	$(CP) $(DISTRIBUTED) $(DISTRIB)
d332 5
a336 4
# generated: Fri Aug  7 11:09:57 BST 1992
main.o main-g.o : main.c /usr/local/lib/gcc-include/stdlib.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/string.h \
  /usr/include/ctype.h /usr/include/errno.h /usr/include/sys/errno.h \
d343 1
a343 1
loader.o loader-g.o : loader.c mltypes.h types.h /usr/include/stddef.h \
d351 6
a356 6
modules.o modules-g.o : modules.c modules.h mltypes.h types.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h values.h implicit.h tags.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h allocator.h storeman.h \
  /usr/local/lib/gcc-include/time.h 
allocator.o allocator-g.o : allocator.c allocator.h values.h mltypes.h types.h \
d362 1
a362 1
state.o state-g.o : state.c mltypes.h types.h /usr/include/stddef.h \
d366 1
a366 1
initialise.o initialise-g.o : initialise.c initialise.h /usr/include/stddef.h \
d374 1
a374 1
implicit.o implicit-g.o : implicit.c mltypes.h types.h /usr/include/stddef.h \
d379 2
a380 2
utils.o utils-g.o : utils.c utils.h mltypes.h types.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h storeman.h tags.h \
d385 1
a385 1
  /usr/local/lib/gcc-include/stdlib.h /usr/include/stddef.h \
d395 1
a395 1
values.o values-g.o : values.c mltypes.h types.h /usr/include/stddef.h \
d402 2
a403 2
handler.o handler-g.o : handler.c implicit.h types.h mltypes.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h handler.h values.h tags.h \
d408 6
a413 6
alloc.o alloc-g.o : alloc.c alloc.h /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  storeman.h tags.h types.h mltypes.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/local/lib/gcc-include/time.h utils.h \
  /usr/local/lib/gcc-include/string.h diagnostic.h 
options.o options-g.o : options.c options.h /usr/include/stddef.h \
d417 1
a417 1
  /usr/local/lib/gcc-include/stdlib.h /usr/include/stddef.h \
d426 2
a427 2
global.o global-g.o : global.c global.h mltypes.h types.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h storeman.h tags.h \
d431 1
a431 1
environment.o environment-g.o : environment.c environment.h mltypes.h types.h \
d437 2
a438 16
gc.o gc-g.o : gc.c diagnostic.h types.h mltypes.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h tags.h values.h implicit.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h mem.h storeman.h \
  /usr/local/lib/gcc-include/time.h arena.h state.h loader.h modules.h \
  utils.h gc.h extensions.h interface.h profiler.h options.h \
  /usr/local/lib/gcc-include/string.h /usr/local/lib/gcc-include/math.h \
  /usr/include/errno.h /usr/include/sys/errno.h 
mem.o mem-g.o : mem.c mem.h storeman.h tags.h types.h mltypes.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h \
  arena.h state.h utils.h values.h implicit.h alloc.h diagnostic.h \
  extensions.h /usr/include/errno.h /usr/include/sys/errno.h 
arena.o arena-g.o : arena.c arena.h types.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h diagnostic.h \
d446 2
a447 1
image.o image-g.o : image.c storeman.h tags.h types.h mltypes.h /usr/include/stddef.h \
d450 19
a468 2
  /usr/local/lib/gcc-include/time.h arena.h image.h mem.h diagnostic.h \
  alloc.h gc.h values.h implicit.h gcdebug.h state.h /usr/include/errno.h \
d471 2
a472 10
exgc.o exgc-g.o : exgc.c storeman.h tags.h types.h mltypes.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/local/lib/gcc-include/time.h diagnostic.h exsm.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  /usr/include/sys/mman.h /usr/include/sys/fcntl.h \
  /usr/include/sys/fcntlcom.h /usr/include/sys/stat.h /usr/include/errno.h \
  /usr/include/sys/errno.h 
eximage.o eximage-g.o : eximage.c storeman.h tags.h types.h mltypes.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
d475 6
a480 5
  diagnostic.h exsm.h /usr/include/setjmp.h /usr/include/machine/setjmp.h \
  /usr/local/lib/gcc-include/string.h /usr/include/errno.h \
  /usr/include/sys/errno.h 
auditgc.o auditgc-g.o : auditgc.c storeman.h tags.h types.h mltypes.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
d483 10
a492 1
  diagnostic.h exsm.h extensions.h /usr/include/sys/types.h \
d496 14
a509 3
  /usr/local/lib/gcc-include/limits.h /usr/local/lib/gcc-include/string.h 
eximage.o eximage-g.o : eximage.c storeman.h tags.h types.h mltypes.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
d512 8
a519 3
  diagnostic.h exsm.h /usr/include/setjmp.h /usr/include/machine/setjmp.h \
  /usr/local/lib/gcc-include/string.h /usr/include/errno.h \
  /usr/include/sys/errno.h 
@


1.43
log
@Changed storage manager file list.
Remade dependencies.
@
text
@d7 4
d180 3
d185 1
a185 1
ALLCSOURCES =	$(CSOURCES) $(SMCSOURCES) $(EXSMCSOURCES)
d245 4
d253 5
a257 2
run-g: $(OBJECTS:%.o=%-g.o) $(SMOBJECTS:%.o=%-g.o)
	$(CC) $(CFLAGS) -o $@@ $(OBJECTS:%.o=%-g.o) $(SMOBJECTS:%.o=%-g.o) $(CLIBRARIES)
d259 2
a260 2
exrun-g: rts.o $(EXSMOBJECTS:%.o=%-g.o)
	$(CC) $(CFLAGS) -o $@@ $(OBJECTS:%.o=%-g.o) $(EXSMOBJECTS:%.o=%-g.o) $(CLIBRARIES)
d264 1
a264 1
	$(CHMOD) a-x rts.o
d266 3
d270 1
d319 1
a319 1
# generated: Tue Aug  4 13:31:26 GMT 1992
d334 3
a336 3
  endian.h diagnostic.h utils.h profiler.h options.h \
  /usr/local/lib/gcc-include/string.h /usr/include/setjmp.h \
  /usr/include/machine/setjmp.h /usr/include/errno.h /usr/include/sys/errno.h 
d377 4
a380 4
  /usr/include/sys/signal.h /usr/include/vm/faultcode.h interface.h mltypes.h \
  types.h diagnostic.h values.h implicit.h tags.h allocator.h storeman.h \
  pervasives.h utils.h handler.h modules.h loader.h global.h main.h \
  profiler.h options.h environment.h 
d407 3
a409 2
  utils.h allocator.h global.h /usr/local/lib/gcc-include/string.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/setjmp.h \
d461 16
@


1.42
log
@Added `-g.o' targets to dependencies for SPARC specific files.
@
text
@d129 2
a130 4
#  VADVISE	Should be defined if the OS has a vadvise() system
#               call.
#  PLOCK	Should be defined if the OS has a plock() system
#               call.
d138 1
a138 1
CFLAGS =	-O -ansi -pedantic -Wall -D$(MACH) -DVADVISE -DPLOCK -DUSE_MACHINE -DMMAP
d167 2
a168 2
SMCSOURCES =	gc.c mem.c image.c
SMASSOURCES =   $(MACH)/fixup.m4s
d301 1
a301 1
# generated: Tue Jul 28 15:33:15 BST 1992
d316 1
a316 1
  endian.h diagnostic.h utils.h profiler.h options.h global.h \
d357 2
a358 2
  /usr/local/lib/gcc-include/time.h /usr/include/sys/stat.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
d375 1
a375 1
  /usr/local/lib/gcc-include/string.h 
d389 3
a391 2
  loader.h modules.h utils.h /usr/local/lib/gcc-include/string.h \
  /usr/include/errno.h /usr/include/sys/errno.h /usr/include/sys/signal.h \
d403 1
a403 1
  interface.h loader.h modules.h /usr/local/lib/gcc-include/string.h 
d408 4
a411 4
  /usr/local/lib/gcc-include/time.h alloc.h \
  /usr/local/lib/gcc-include/limits.h state.h loader.h modules.h utils.h gc.h \
  extensions.h interface.h profiler.h options.h \
  /usr/local/lib/gcc-include/string.h /usr/include/sys/vadvise.h 
d416 18
a433 13
  alloc.h /usr/local/lib/gcc-include/limits.h gc.h values.h implicit.h \
  state.h utils.h diagnostic.h extensions.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/sys/mman.h /usr/include/fcntl.h \
  /usr/include/sys/fcntlcom.h /usr/include/sys/stat.h /usr/include/errno.h \
  /usr/include/sys/errno.h 
image.o image-g.o : image.c image.h mltypes.h types.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h storeman.h tags.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h mem.h \
  alloc.h /usr/local/lib/gcc-include/limits.h diagnostic.h gc.h values.h \
  implicit.h gcdebug.h state.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/setjmp.h /usr/include/machine/setjmp.h \
  /usr/local/lib/gcc-include/string.h 
@


1.41
log
@Added CLIBRARIES macro.  Removed call_codes related stuff and added
environment.c.
@
text
@d7 4
d257 3
a259 3
sparc/interface.o: sparc/interface.m4s sparc/macros.m4s tags.h offsets.h
sparc/fixup.o: sparc/fixup.m4s sparc/macros.m4s tags.h offsets.h
sparc/poly_equal.o: sparc/poly_equal.m4s sparc/macros.m4s tags.h offsets.h
@


1.40
log
@Reorganised to generate separate debugging and distributable versions of
the runtime system, both standard and with example storage manager.
`rts.o' is also linked as a separate object.
Improved rule for depend to avoid temporary files and generate rules
including debugging versions of `.o' files.
Added rule for `distribution'.
@
text
@d7 8
d137 1
d158 2
a159 2
		diagnostic.c handler.c alloc.c options.c \
		callc_codes.c profiler.c global.c
d179 1
a179 2
		callc_codes.sml __callc_codes.sml tags.sml __tags.sml \
		offsets.h
d229 1
a229 1
	$(CC) $(CFLAGS) -o $@@ rts.o $(SMOBJECTS)
d233 1
a233 1
	$(CC) $(CFLAGS) -o $@@ rts.o $(EXSMOBJECTS)
d241 1
a241 1
	$(CC) $(CFLAGS) -o $@@ $(OBJECTS:%.o=%-g.o) $(SMOBJECTS:%.o=%-g.o)
d244 1
a244 1
	$(CC) $(CFLAGS) -o $@@ $(OBJECTS:%.o=%-g.o) $(EXSMOBJECTS:%.o=%-g.o)
a271 6
callc_codes.sml: callc_codes.c callc_codes.awk
	$(AWK) -f callc_codes.awk < callc_codes.c > callc_codes.sml

__callc_codes.sml: callc_codes.c __callc_codes.awk
	$(AWK) -f __callc_codes.awk < callc_codes.c > __callc_codes.sml

d299 1
a299 1
# generated: Thu Jul 23 17:02:21 BST 1992
d308 1
a308 2
  options.h callc_codes.h profiler.h handler.h state.h allocator.h \
  interface.h 
d314 1
a314 1
  endian.h diagnostic.h utils.h profiler.h options.h \
d358 3
a360 3
  types.h diagnostic.h values.h implicit.h tags.h /usr/include/strings.h \
  allocator.h storeman.h alloc.h pervasives.h utils.h gc.h handler.h mem.h \
  /usr/local/lib/gcc-include/limits.h modules.h loader.h global.h 
a381 5
callc_codes.o callc_codes-g.o : callc_codes.c callc_codes.h mltypes.h types.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h pervasives.h storeman.h \
  tags.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/local/lib/gcc-include/time.h 
d395 6
@


1.39
log
@Enabled use of MMAP.  Removed redundant TRAP_FLUSH flag.  Remade dependencies.
@
text
@d7 3
a108 4
# DEBUGCFLAGS sets various preprocessor macros and options which
# facilitate debugging of the runtime system.  It can be set to '' in
# the `make' command line to increase performance.
#
d126 6
a131 3
CC  =		gcc
DEBUGCFLAGS =	-DDIAGNOSTICS -g
CFLAGS =	-O -ansi -pedantic -I . -Wall $(DEBUGCFLAGS) -D$(MACH) -DVADVISE -DPLOCK -DUSE_MACHINE -DMMAP
d136 7
a142 4
CP  =		/bin/cp -p
LN  =		/bin/ln -s
RM  =		/bin/rm -f
COUT =		/usr/sml/tools/cout
d145 2
d150 3
a152 1
		callc_codes.c profiler.c
d154 1
a154 1
GCSOURCES =	gc.c mem.c gcdebug.c image.c
d156 3
a158 1
HHGCCSOURCES =	hhgc.c
d160 1
a160 1
ALLCSOURCES =	$(CSOURCES) $(GCSOURCES) $(HHGCSOURCES)
d162 2
a163 1
ASSOURCES =	$(MACH)/interface.m4s $(MACH)/poly_equal.m4s
d165 1
a165 1
GCASSOURCES =	$(MACH)/fixup.m4s
d167 1
a167 2
OBJECTS =	$(CSOURCES:%.c=%.o) $(GCSOURCES:%.c=%.o) $(ASSOURCES:%.m4s=%.o) $(GCASSOURCES:%.m4s=%.o)
HHOBJECTS =	$(CSOURCES:%.c=%.o) $(HHGCCSOURCES:%.c=%.o) $(ASSOURCES:%.m4s=%.o)
d170 6
a175 1
		callc_codes.sml __callc_codes.sml tags.sml __tags.sml offsets.h
d183 1
a183 1
	$(CC) -c $(CFLAGS) -o $@@ $<
d188 2
a189 2
.DEFAULT:
	$(COUT) $<
d191 2
a193 1
all: $(GENERATED) runtime 
d195 1
a195 2
runtime: $(OBJECTS)
	$(CC) -o $@@ $(OBJECTS)
d197 1
a197 2
hhruntime: $(HHOBJECTS)
	$(CC) -o $@@ $(HHOBJECTS)
d200 31
a230 1
	$(RM) core $(OBJECTS) $(GENERATED)
d232 20
d279 7
a285 3
sparc/interface.o: sparc/interface.m4s sparc/macros.m4s tags.h
sparc/fixup.o: sparc/fixup.m4s sparc/macros.m4s tags.h
sparc/poly_equal.o: sparc/poly_equal.m4s sparc/macros.m4s tags.h
d288 7
a294 17
	$(RM) makedep;
	(echo -n '# generated: '; date) >makedep
	$(CC) -M $(CFLAGS) $(ALLCSOURCES) | \
	      $(AWK) ' { if ($$1 != prev) \
		  { if (rec != "") print rec; rec = $$0; prev = $$1; } \
		  else { if (length(rec $$2) > 78) { print rec; rec = $$0; } \
		  else rec = rec " " $$2 } } \
		  END { print rec } ' >> makedep
	echo '/^# DO NOT DELETE THIS LINE/+2,$$d' >eddep
	echo '$$r makedep' >>eddep
	echo 'w' >>eddep
	$(CP) Makefile Makefile.bak
	/bin/ed - Makefile < eddep
	$(RM) eddep makedep
	echo '# DEPENDENCIES MUST END AT END OF FILE' >> Makefile
	echo '# IF YOU PUT STUFF HERE IT WILL GO AWAY' >> Makefile
	echo '# see make depend above' >> Makefile
d297 4
a300 6
# DEPENDENCIES MUST END AT END OF FILE
# generated: Tue Jul 21 16:56:46 BST 1992
main.o : main.c /usr/local/lib/gcc-include/stdlib.h ./stddef.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/string.h /usr/include/ctype.h \
  /usr/include/errno.h /usr/include/sys/errno.h \
d305 4
a308 3
  implicit.h tags.h utils.h storeman.h diagnostic.h initialise.h options.h \
  callc_codes.h profiler.h handler.h state.h allocator.h interface.h 
loader.o : loader.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
d316 6
a321 6
modules.o : modules.c modules.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h values.h implicit.h \
  tags.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  allocator.h storeman.h /usr/local/lib/gcc-include/time.h 
allocator.o : allocator.c allocator.h values.h mltypes.h types.h ./stddef.h \
d325 1
a325 1
  /usr/local/lib/gcc-include/time.h diagnostic.h utils.h state.h \
d327 1
a327 1
state.o : state.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
d331 1
a331 1
initialise.o : initialise.c initialise.h ./stddef.h /usr/include/stddef.h \
d336 4
a339 3
  profiler.h options.h handler.h loader.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h /usr/include/errno.h /usr/include/sys/errno.h 
implicit.o : implicit.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
d343 3
a345 3
endian.o : endian.c types.h endian.h objectfile.h 
utils.o : utils.c utils.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h tags.h \
d349 2
a350 2
pervasives.o : pervasives.c /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h ./stddef.h /usr/include/stddef.h \
d357 4
a360 4
  types.h diagnostic.h utils.h storeman.h tags.h values.h implicit.h \
  /usr/include/strings.h allocator.h alloc.h pervasives.h gc.h handler.h \
  mem.h /usr/local/lib/gcc-include/limits.h modules.h loader.h 
values.o : values.c mltypes.h types.h ./stddef.h /usr/include/stddef.h \
d366 3
a368 7
diagnostic.o : diagnostic.c diagnostic.h utils.h mltypes.h types.h \
  ./stddef.h /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h \
  tags.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/local/lib/gcc-include/time.h 
handler.o : handler.c implicit.h types.h mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h handler.h values.h tags.h \
d373 6
a378 6
alloc.o : alloc.c alloc.h ./stddef.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h storeman.h tags.h types.h mltypes.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h \
  utils.h /usr/local/lib/gcc-include/string.h diagnostic.h 
options.o : options.c options.h ./stddef.h /usr/include/stddef.h \
d381 1
a381 1
callc_codes.o : callc_codes.c callc_codes.h mltypes.h types.h ./stddef.h \
d386 2
a387 2
profiler.o : profiler.c profiler.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h ./stddef.h /usr/include/stddef.h \
d390 2
a391 2
  /usr/local/lib/gcc-include/time.h diagnostic.h utils.h interface.h \
  extensions.h loader.h modules.h /usr/local/lib/gcc-include/string.h \
d394 2
a395 2
gc.o : gc.c diagnostic.h utils.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h tags.h \
d398 10
a407 5
  values.h implicit.h mem.h alloc.h /usr/local/lib/gcc-include/limits.h \
  state.h loader.h modules.h gc.h gcdebug.h extensions.h interface.h \
  profiler.h options.h /usr/local/lib/gcc-include/string.h \
  /usr/include/sys/vadvise.h 
mem.o : mem.c mem.h storeman.h tags.h types.h mltypes.h ./stddef.h \
d416 2
a417 2
gcdebug.o : gcdebug.c gcdebug.h types.h utils.h mltypes.h ./stddef.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h tags.h \
d420 13
a432 11
  alloc.h /usr/local/lib/gcc-include/limits.h values.h implicit.h \
  /usr/include/signal.h /usr/include/sys/signal.h /usr/include/vm/faultcode.h 
image.o : image.c image.h mltypes.h types.h ./stddef.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h tags.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h mem.h \
  alloc.h /usr/local/lib/gcc-include/limits.h diagnostic.h utils.h gc.h \
  values.h implicit.h gcdebug.h state.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/setjmp.h \
  /usr/include/machine/setjmp.h /usr/local/lib/gcc-include/string.h 
rdb.o : rdb.c rdb.h storeman.h tags.h types.h mltypes.h ./stddef.h \
d435 4
a438 6
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h mem.h \
  alloc.h /usr/local/lib/gcc-include/limits.h values.h implicit.h \
  /usr/include/signal.h /usr/include/sys/signal.h /usr/include/vm/faultcode.h \
  /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/local/lib/gcc-include/string.h /usr/include/ctype.h \
  /usr/include/setjmp.h /usr/include/machine/setjmp.h 
a439 1
# IF YOU PUT STUFF HERE IT WILL GO AWAY
@


1.38
log
@Reversed the order of cpp and m4 in the building of the assembler files
in order to get the correct macro substitutions.
@
text
@d7 4
d129 1
a129 1
CFLAGS =	-O -ansi -pedantic -I . -Wall $(DEBUGCFLAGS) -D$(MACH) -DVADVISE -DPLOCK -DUSE_MACHINE # -DMMAP
d131 1
a131 1
M4FLAGS =	-DCOLLECT_STATS=1 # -DTRAP_FLUSH=1
d239 1
a239 1
# generated: Tue Jul 14 16:49:19 BST 1992
d246 4
a249 5
  mem.h storeman.h types.h mltypes.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdarg.h alloc.h \
  /usr/local/lib/gcc-include/limits.h loader.h modules.h values.h implicit.h \
  tags.h utils.h diagnostic.h initialise.h gc.h image.h options.h \
  callc_codes.h profiler.h handler.h state.h allocator.h 
d253 3
a255 3
  /usr/local/lib/gcc-include/stdarg.h loader.h modules.h storeman.h \
  /usr/local/lib/gcc-include/time.h objectfile.h allocator.h interface.h \
  endian.h diagnostic.h utils.h gc.h profiler.h options.h \
d270 1
a270 1
  /usr/include/sys/stdtypes.h state.h storeman.h \
d278 2
a279 1
  profiler.h options.h handler.h loader.h 
d286 1
a286 1
  /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h \
d289 1
a289 1
  allocator.h values.h implicit.h tags.h /usr/local/lib/gcc-include/string.h 
d298 1
a298 1
  types.h diagnostic.h utils.h storeman.h values.h implicit.h tags.h \
d300 1
a300 1
  mem.h /usr/local/lib/gcc-include/limits.h modules.h 
d302 5
a306 5
  /usr/include/sys/stdtypes.h storeman.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/local/lib/gcc-include/time.h values.h implicit.h tags.h allocator.h \
  utils.h diagnostic.h mem.h alloc.h /usr/local/lib/gcc-include/limits.h gc.h \
  /usr/include/ctype.h /usr/local/lib/gcc-include/string.h 
d309 3
a311 2
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/time.h 
d316 1
a316 2
  /usr/local/lib/gcc-include/time.h state.h diagnostic.h mem.h alloc.h \
  /usr/local/lib/gcc-include/limits.h gc.h allocator.h \
d319 1
a319 1
  /usr/include/sys/stdtypes.h storeman.h types.h mltypes.h \
d327 4
a330 1
  /usr/include/stddef.h /usr/include/sys/stdtypes.h pervasives.h 
d335 3
a337 4
  /usr/local/lib/gcc-include/time.h gc.h diagnostic.h utils.h mem.h alloc.h \
  /usr/local/lib/gcc-include/limits.h interface.h extensions.h loader.h \
  modules.h /usr/local/lib/gcc-include/string.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/include/sys/signal.h \
d340 1
a340 1
  /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h \
d343 5
a347 5
  tags.h values.h implicit.h mem.h alloc.h \
  /usr/local/lib/gcc-include/limits.h state.h loader.h modules.h gc.h \
  gcdebug.h extensions.h interface.h profiler.h options.h \
  /usr/local/lib/gcc-include/string.h /usr/include/sys/vadvise.h 
mem.o : mem.c mem.h storeman.h types.h mltypes.h ./stddef.h \
d351 1
a351 1
  alloc.h /usr/local/lib/gcc-include/limits.h gc.h values.h implicit.h tags.h \
d353 3
a355 1
  /usr/include/sys/sysmacros.h 
d357 1
a357 1
  /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h \
d360 1
a360 1
  alloc.h /usr/local/lib/gcc-include/limits.h values.h implicit.h tags.h \
d363 1
a363 1
  /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h \
d367 1
a367 1
  values.h implicit.h tags.h gcdebug.h modules.h state.h /usr/include/errno.h \
d370 9
@


1.37
log
@Propagated target machine through to C.  Added rules for tags.sml
and __tags.sml.
Remade dependencies.
@
text
@d7 5
d155 1
a155 1
		callc_codes.sml __callc_codes.sml tags.sml __tags.sml
d166 1
a166 1
	$(CPP) $(CPPFLAGS) < $< | $(M4) $(M4FLAGS) | $(AS) $(ASFLAGS) -o $@@ -
d206 3
@


1.36
log
@Made implicit rules for auto-generated files explicit so that they
use the right files.  Make is really stupid sometimes.
@
text
@d7 4
d114 1
d120 1
a120 2
CFLAGS =	-O -ansi -pedantic -I . -Wall -DSPARC -mno-epilogue $(DEBUGCFLAGS) -DVADVISE -DPLOCK
		#-DUSE_MACHINE -DMMAP
a128 1
MACH =		$(TARGET_MACH:-%=%)
d150 1
a150 1
		callc_codes.sml __callc_codes.sml
d196 6
d227 5
a231 4
# generated: Wed Jul  1 17:27:10 BST 1992
main.o : main.c /usr/local/lib/gcc-include/stdlib.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/string.h \
  /usr/include/ctype.h /usr/include/errno.h /usr/include/sys/errno.h \
d237 9
a245 8
  utils.h diagnostic.h initialise.h gc.h image.h options.h callc_codes.h \
  profiler.h handler.h state.h 
loader.o : loader.c mltypes.h types.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h values.h implicit.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h loader.h modules.h objectfile.h \
  allocator.h storeman.h interface.h endian.h diagnostic.h utils.h gc.h \
  profiler.h /usr/local/lib/gcc-include/string.h /usr/include/setjmp.h \
d247 7
a253 2
modules.o : modules.c modules.h mltypes.h types.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h values.h implicit.h \
d255 2
a256 5
  /usr/local/lib/gcc-include/stdarg.h allocator.h storeman.h 
allocator.o : allocator.c allocator.h values.h mltypes.h types.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h implicit.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h storeman.h diagnostic.h utils.h state.h \
d258 1
a258 1
state.o : state.c mltypes.h types.h /usr/include/stddef.h \
d261 2
a262 2
  /usr/local/lib/gcc-include/stdarg.h 
initialise.o : initialise.c initialise.h /usr/include/stddef.h \
d264 6
d271 1
a271 4
  /usr/local/lib/gcc-include/stdarg.h storeman.h state.h utils.h pervasives.h \
  profiler.h handler.h 
implicit.o : implicit.c types.h implicit.h interface.h mltypes.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h 
d273 5
a277 4
utils.o : utils.c utils.h mltypes.h types.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h storeman.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  allocator.h values.h implicit.h /usr/local/lib/gcc-include/string.h 
d279 1
a279 1
  /usr/local/lib/gcc-include/stdlib.h /usr/include/stddef.h \
d286 1
a286 1
  types.h diagnostic.h utils.h storeman.h values.h implicit.h \
d289 1
a289 1
values.o : values.c mltypes.h types.h /usr/include/stddef.h \
d292 3
a294 3
  values.h implicit.h allocator.h utils.h diagnostic.h mem.h alloc.h \
  /usr/local/lib/gcc-include/limits.h gc.h /usr/include/ctype.h \
  /usr/local/lib/gcc-include/string.h 
d296 1
a296 1
  /usr/include/stddef.h /usr/include/sys/stdtypes.h storeman.h \
d298 3
a300 3
  /usr/local/lib/gcc-include/stdarg.h 
handler.o : handler.c implicit.h types.h handler.h mltypes.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h values.h \
d302 3
a304 2
  /usr/local/lib/gcc-include/stdarg.h utils.h storeman.h state.h diagnostic.h \
  mem.h alloc.h /usr/local/lib/gcc-include/limits.h gc.h allocator.h \
d306 4
a309 3
alloc.o : alloc.c alloc.h /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  storeman.h types.h mltypes.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
d311 1
a311 1
options.o : options.c options.h /usr/include/stddef.h \
d314 1
a314 1
callc_codes.o : callc_codes.c callc_codes.h mltypes.h types.h \
d316 19
a334 2
profiler.o : profiler.c profiler.h values.h mltypes.h types.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h implicit.h \
d336 2
a337 16
  /usr/local/lib/gcc-include/stdarg.h gc.h storeman.h diagnostic.h utils.h \
  mem.h alloc.h /usr/local/lib/gcc-include/limits.h interface.h \
  /usr/local/lib/gcc-include/string.h /usr/include/sys/signal.h \
  /usr/include/vm/faultcode.h /usr/include/sys/time.h \
  /usr/local/lib/gcc-include/time.h 
gc.o : gc.c diagnostic.h utils.h mltypes.h types.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h storeman.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  values.h implicit.h mem.h alloc.h /usr/local/lib/gcc-include/limits.h \
  state.h loader.h modules.h gc.h gcdebug.h extensions.h interface.h \
  /usr/local/lib/gcc-include/time.h /usr/local/lib/gcc-include/string.h \
  /usr/include/sys/vadvise.h 
mem.o : mem.c mem.h storeman.h types.h mltypes.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  alloc.h /usr/local/lib/gcc-include/limits.h gc.h values.h implicit.h \
d340 1
a340 1
gcdebug.o : gcdebug.c gcdebug.h types.h utils.h mltypes.h \
d343 2
a344 2
  /usr/local/lib/gcc-include/stdarg.h mem.h alloc.h \
  /usr/local/lib/gcc-include/limits.h values.h implicit.h \
d346 6
a351 5
image.o : image.c image.h mltypes.h types.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h storeman.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  mem.h alloc.h /usr/local/lib/gcc-include/limits.h diagnostic.h utils.h gc.h \
  values.h implicit.h gcdebug.h modules.h state.h /usr/include/errno.h \
@


1.35
log
@Separated storage manager files from the rest of the runtime
system to make replacement easier.  Added files for hhruntime
using an example replacement.
@
text
@d7 5
d115 2
a116 1
CFLAGS =	-O -ansi -pedantic -Wall -DSPARC -mno-epilogue $(DEBUGCFLAGS) -DVADVISE -DPLOCK -DUSE_MACHINE #-DMMAP
d119 2
d158 1
a158 7
	$(M4) $(M4FLAGS) < $< | $(AS) $(ASFLAGS) -o $@@ -

%.sml: %.c
	$(AWK) -f $*.awk $< > $@@

%.sml: %.h
	$(AWK) -f $*.awk $< > $@@
a159 6
__%.sml: %.c
	$(AWK) -f __$*.awk $< > $@@

__%.sml: %.h
	$(AWK) -f __$*.awk $< > $@@

d175 21
a195 3
sparc/interface.s: sparc/interface.m4s sparc/macros.m4s
sparc/fixup.s: sparc/fixup.m4s sparc/macros.m4s
sparc/poly_equal.s: sparc/poly_equal.m4s sparc/macros.m4s
@


1.34
log
@Added PLOCK and VADVISE options to CFLAGS.
@
text
@d7 3
d110 1
a110 1
CFLAGS =	-O -ansi -pedantic -Wall -DSPARC -mno-epilogue $(DEBUGCFLAGS) -DUSE_MACHINE -DVADVISE -DPLOCK
d120 10
a129 4
CSOURCES =	main.c loader.c modules.c allocator.c state.c gc.c \
		mem.c initialise.c implicit.c endian.c utils.c \
		pervasives.c values.c diagnostic.c handler.c alloc.c \
		gcdebug.c image.c options.c callc_codes.c profiler.c
d131 1
a131 1
ASSOURCES =	$(MACH)/interface.m4s $(MACH)/fixup.m4s $(MACH)/poly_equal.m4s
d133 1
a133 1
OBJECTS =	$(CSOURCES:%.c=%.o) $(ASSOURCES:%.m4s=%.o)
d135 3
d173 3
d183 1
a183 1
depend:	$(CSOURCES)
d186 1
a186 1
	$(CC) -M $(CFLAGS) $(CSOURCES) | \
d204 1
a204 1
# generated: Thu Mar 26 11:36:50 GMT 1992
d208 9
a216 7
  /usr/local/lib/gcc-include/time.h mem.h types.h alloc.h \
  /usr/local/lib/gcc-include/limits.h loader.h profiler.h handler.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdarg.h \
  mltypes.h modules.h values.h implicit.h utils.h extensions.h diagnostic.h \
  initialise.h gc.h image.h options.h callc_codes.h state.h
loader.o : loader.c mltypes.h types.h values.h implicit.h profiler.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
d219 2
a220 2
  allocator.h interface.h endian.h diagnostic.h utils.h extensions.h gc.h \
  /usr/local/lib/gcc-include/string.h /usr/include/setjmp.h \
d222 6
a227 2
modules.o : modules.c modules.h values.h mltypes.h types.h implicit.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
d229 4
a232 4
  /usr/local/lib/gcc-include/stdarg.h loader.h gc.h utils.h extensions.h \
  diagnostic.h alloc.h 
allocator.o : allocator.c allocator.h values.h mltypes.h types.h implicit.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
d234 3
a236 5
  /usr/local/lib/gcc-include/stdarg.h diagnostic.h utils.h extensions.h \
  state.h gc.h /usr/local/lib/gcc-include/string.h 
state.o : state.c mltypes.h types.h state.h 
gc.o : gc.c diagnostic.h utils.h mltypes.h types.h extensions.h values.h \
  implicit.h /usr/include/stddef.h /usr/include/sys/stdtypes.h \
d238 4
a241 17
  /usr/local/lib/gcc-include/stdarg.h mem.h alloc.h \
  /usr/local/lib/gcc-include/limits.h state.h loader.h modules.h gc.h \
  gcdebug.h /usr/local/lib/gcc-include/time.h \
  /usr/local/lib/gcc-include/string.h 
mem.o : mem.c mem.h types.h alloc.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/limits.h gc.h values.h mltypes.h implicit.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdarg.h \
  state.h utils.h extensions.h diagnostic.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h 
initialise.o : initialise.c mem.h types.h alloc.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/limits.h implicit.h initialise.h interface.h \
  mltypes.h state.h utils.h extensions.h values.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdarg.h \
  allocator.h pervasives.h profiler.h handler.h gc.h
implicit.o : implicit.c types.h implicit.h interface.h mltypes.h 
d243 4
a246 4
utils.o : utils.c utils.h mltypes.h types.h extensions.h allocator.h \
  values.h implicit.h /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/local/lib/gcc-include/string.h 
d250 1
a250 1
  /usr/include/errno.h /usr/include/sys/errno.h /usr/local/lib/gcc-include/time.h \
d252 12
a263 10
  /usr/include/sys/signal.h \
  diagnostic.h utils.h mltypes.h types.h extensions.h values.h implicit.h \
  /usr/include/sys/stat.h /usr/include/signal.h interface.h modules.h \
  /usr/include/strings.h allocator.h alloc.h pervasives.h gc.h handler.h mem.h
values.o : values.c mltypes.h types.h values.h implicit.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h allocator.h utils.h extensions.h \
  diagnostic.h mem.h alloc.h /usr/local/lib/gcc-include/limits.h gc.h \
  /usr/include/ctype.h /usr/local/lib/gcc-include/string.h 
d265 1
a265 3
  extensions.h 
handler.o : handler.c handler.h mltypes.h types.h values.h implicit.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h diagnostic.h mem.h \
d267 2
a268 3
  /usr/local/lib/gcc-include/string.h gc.h allocator.h \
  /usr/local/lib/gcc-include/stdarg.h utils.h extensions.h state.h 
profiler.o : profiler.c profiler.h interface.h \
d271 3
a273 1
  /usr/local/lib/gcc-include/stdarg.h gc.h
d275 3
a277 15
  mem.h types.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/limits.h utils.h mltypes.h extensions.h \
  /usr/local/lib/gcc-include/string.h diagnostic.h 
gcdebug.o : gcdebug.c gcdebug.h types.h mem.h alloc.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/limits.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdarg.h 
image.o : image.c image.h modules.h values.h mltypes.h types.h implicit.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h mem.h alloc.h \
  /usr/local/lib/gcc-include/limits.h diagnostic.h utils.h extensions.h gc.h \
  gcdebug.h state.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/include/setjmp.h /usr/include/machine/setjmp.h \
  /usr/local/lib/gcc-include/string.h 
d281 36
a316 1
callc_codes.o : callc_codes.c callc_codes.h mltypes.h types.h pervasives.h 
@


1.33
log
@Pervasives.c needed an include of modules.c
@
text
@d7 3
d86 1
a86 1
# facilitate debugging of the runtime system.  It can be set to '' no
d89 1
a89 1
# CPPFLAGS may contain an option to define the macros TRAP_FLUSH and
d92 9
d107 1
a107 1
CFLAGS =	-O -ansi -pedantic -Wall -DSPARC -mno-epilogue $(DEBUGCFLAGS) -DUSE_MACHINE
@


1.32
log
@Changes to the handling of exception as we now have a hook for the ML debugger
@
text
@d7 3
d236 1
a236 1
  /usr/include/sys/stat.h /usr/include/signal.h interface.h \
@


1.31
log
@Added timers and some functions to get the make system compiling
@
text
@d7 3
d219 1
a219 1
  allocator.h pervasives.h 
d231 1
d233 2
a234 2
  /usr/include/sys/stat.h \
  /usr/include/strings.h allocator.h alloc.h pervasives.h gc.h 
d246 1
a246 1
  /usr/local/lib/gcc-include/string.h \
d248 1
a248 1
profiler.o : profiler.c profiler.h \
@


1.30
log
@More code added for the profiler
@
text
@d7 3
d226 1
a226 1
  /usr/include/errno.h /usr/include/sys/errno.h \
d229 1
@


1.29
log
@Added maximum depth of backtrace so main depends on handler.h now
@
text
@d7 3
d87 2
a88 2
M4 =		/bin/m4
M4FLAGS =	-DCOLLECT_STATS # -DTRAP_FLUSH
d176 1
a176 1
  initialise.h gc.h image.h options.h callc_codes.h 
@


1.28
log
@Changed assembler to use m4 macro processor rather than cpp.
Added poly_equal.m4s to assembler source files.
@
text
@d7 4
d170 1
a170 1
  /usr/local/lib/gcc-include/limits.h loader.h profiler.h \
@


1.27
log
@First version of the profiler
@
text
@d7 3
d75 1
d80 2
a81 2
CPP =		/usr/lib/cpp
CPPFLAGS =	-DCOLLECT_STATS # -DTRAP_FLUSH
d94 1
a94 1
ASSOURCES =	$(MACH)/interface.s $(MACH)/fixup.s
d96 1
a96 1
OBJECTS =	$(CSOURCES:%.c=%.o) $(ASSOURCES:%.s=%.o)
d109 2
a110 5
%.o: %.pps
	$(AS) -o $@@ $<

%.pps: %.s
	$(CPP) $(CPPFLAGS) $< $@@
d136 3
a138 2
sparc/interface.pps: sparc/interface.s sparc/macros.s
sparc/fixup.pps: sparc/fixup.s sparc/macros.s
@


1.26
log
@Added dependencies for SPARC assembler files.  It's a pity we can't
auto-generate them.
@
text
@d7 4
d88 1
a88 1
		gcdebug.c image.c options.c callc_codes.c
d164 1
a164 1
  /usr/local/lib/gcc-include/limits.h loader.h \
d168 1
a168 1
loader.o : loader.c mltypes.h types.h values.h implicit.h \
d227 1
a227 1
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
d229 1
d231 4
@


1.25
log
@Added fixup.s to assembler sources.  Added missing `-O' flag to C.
@
text
@d7 3
d130 3
@


1.24
log
@Reorganised to use more general rules.  Added parameters to control the
amount of debugging code and to take advantage of GCC extensions on the
SPARC.
@
text
@d7 5
d68 1
a68 1
CFLAGS =	-ansi -pedantic -Wall -DSPARC -mno-epilogue $(DEBUGCFLAGS)
d83 1
a83 1
ASSOURCES =	$(MACH)/interface.s
@


1.23
log
@Remade dependencies.
@
text
@d7 3
a44 1
# Change this as required.
d46 12
a57 1
MACHINE = sparc
d59 13
a71 1
# Programs we use.
d73 4
a76 7
AS  = /bin/as
AWK = /bin/awk
CC  = gcc -g -ansi -pedantic -Wall
CPP = /usr/lib/cpp
CP  = /bin/cp -p
LN  = /bin/ln -s
RM  = /bin/rm -f
d78 1
a78 1
# Object files from assembly code.
d80 1
a80 1
SOFILES = interface.o
d82 2
a83 1
# Object files from C code.
a84 4
OFILES = main.o loader.o modules.o allocator.o state.o callc.o gc.o \
         mem.o initialise.o implicit.o endian.o utils.o \
         pervasives.o values.o diagnostic.o handler.o alloc.o \
         gcdebug.o image.o options.o
d86 1
a86 1
# Automatically generated files.
d88 1
a88 2
AFILES = objectfile.sml __objectfile.sml implicit.sml __implicit.sml \
         callc_codes.sml __callc_codes.sml
d90 1
a90 10
# Automatically generate lists of C and assembly files.
# Assembly files are in a separate directory for each machine type.
#  $(SOFILES:%.o=$(MACHINE)/%.s)

CFILES = $(OFILES:.o=.c)
SFILES = $(SOFILES:.o=.s)

# Rules for compiling C files.

.c.o:
d93 2
a94 1
# Everything.
d96 2
a97 1
all : $(AFILES) runtime 
d99 2
a100 1
# Top level runtime system.
d102 2
a103 2
runtime: $(OFILES) $(SOFILES)
	$(CC) -o $@@ $(OFILES) $(SOFILES)
d105 2
a106 1
# Automatically generated files.
d108 2
a109 2
objectfile.sml: objectfile.h objectfile.awk
	$(AWK) -f objectfile.awk objectfile.h > objectfile.sml
d111 2
a112 2
__objectfile.sml: objectfile.h __objectfile.awk
	$(AWK) -f __objectfile.awk objectfile.h > __objectfile.sml
a113 2
implicit.sml: implicit.c implicit.awk
	$(AWK) -f implicit.awk implicit.c > implicit.sml
d115 1
a115 2
__implicit.sml: implicit.c __implicit.awk
	$(AWK) -f __implicit.awk implicit.c > __implicit.sml
d117 2
a118 2
callc_codes.sml: callc.c callc_codes.awk
	$(AWK) -f callc_codes.awk callc.c > callc_codes.sml
a119 14
__callc_codes.sml: callc.c __callc_codes.awk
	$(AWK) -f __callc_codes.awk callc.c > __callc_codes.sml

# Assembly code files.

$(SFILES):
	$(LN) $(MACHINE)/$@@

$(SOFILES): $(SFILES)
	$(CPP) $(@@:.o=.s) $(@@:.o=.p)
	$(AS) -o $@@ $(@@:.o=.p)

# Cleanup the directory.

d121 1
a121 1
	$(RM) core *.o $(SFILES) $(AFILES)
d123 1
a123 3
# Make dependencies.

depend:	$(CFILES)
d126 1
a126 1
	$(CC) -M $(CFLAGS) $(CFILES) | \
d144 1
a144 1
# generated: Tue Mar 24 16:13:28 GMT 1992
d151 2
a152 2
  mltypes.h modules.h values.h implicit.h utils.h diagnostic.h initialise.h \
  gc.h image.h options.h callc.h 
d157 1
a157 1
  allocator.h interface.h endian.h diagnostic.h utils.h gc.h \
d163 2
a164 2
  /usr/local/lib/gcc-include/stdarg.h loader.h gc.h utils.h diagnostic.h \
  alloc.h 
d168 2
a169 2
  /usr/local/lib/gcc-include/stdarg.h diagnostic.h utils.h state.h gc.h \
  /usr/local/lib/gcc-include/string.h 
d171 2
a172 7
callc.o : callc.c /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h callc.h \
  mltypes.h types.h diagnostic.h utils.h values.h implicit.h gc.h \
  pervasives.h handler.h 
gc.o : gc.c diagnostic.h utils.h mltypes.h types.h values.h implicit.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
d182 1
a182 1
  state.h utils.h diagnostic.h /usr/include/sys/types.h \
d187 3
a189 2
  mltypes.h state.h utils.h values.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdarg.h allocator.h pervasives.h 
d192 2
a193 2
utils.o : utils.c utils.h mltypes.h types.h allocator.h values.h implicit.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
d201 1
a201 1
  diagnostic.h utils.h mltypes.h types.h values.h implicit.h \
d206 5
a210 4
  /usr/local/lib/gcc-include/stdarg.h allocator.h utils.h diagnostic.h mem.h \
  alloc.h /usr/local/lib/gcc-include/limits.h gc.h /usr/include/ctype.h \
  /usr/local/lib/gcc-include/string.h 
diagnostic.o : diagnostic.c diagnostic.h utils.h mltypes.h types.h 
d214 1
a214 1
  /usr/local/lib/gcc-include/stdarg.h utils.h state.h 
d217 1
a217 1
  /usr/local/lib/gcc-include/limits.h utils.h mltypes.h \
d227 4
a230 3
  /usr/local/lib/gcc-include/limits.h diagnostic.h utils.h gc.h gcdebug.h \
  state.h /usr/include/errno.h /usr/include/sys/errno.h /usr/include/setjmp.h \
  /usr/include/machine/setjmp.h /usr/local/lib/gcc-include/string.h 
d234 1
@


1.22
log
@ Added image.o and options.o.
@
text
@d7 3
d150 1
a150 1
# generated: Wed Mar 18 12:01:01 GMT 1992
d153 2
a154 1
  /usr/include/errno.h /usr/include/sys/errno.h mem.h types.h alloc.h \
d158 1
a158 1
  gc.h allocator.h image.h 
d240 2
a241 1
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/string.h 
@


1.21
log
@Added gcdebug module.
@
text
@d7 3
d62 1
a62 1
         gcdebug.o
d147 1
a147 1
# generated: Wed Mar 11 15:20:11 GMT 1992
d149 3
a151 1
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/string.h loader.h \
d153 14
a166 12
  mltypes.h types.h modules.h values.h implicit.h utils.h diagnostic.h \
  initialise.h gc.h allocator.h 
loader.o : loader.c /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h \
  /usr/local/lib/gcc-include/string.h mltypes.h types.h values.h implicit.h \
  loader.h objectfile.h allocator.h interface.h endian.h modules.h \
  diagnostic.h utils.h gc.h 
modules.o : modules.c loader.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h mltypes.h \
  types.h values.h implicit.h gc.h utils.h diagnostic.h modules.h 
d182 3
a184 2
  /usr/local/lib/gcc-include/limits.h state.h loader.h gc.h gcdebug.h \
  /usr/local/lib/gcc-include/time.h /usr/local/lib/gcc-include/string.h 
d195 1
a195 1
  /usr/local/lib/gcc-include/stdarg.h allocator.h 
d197 1
a197 4
endian.o : endian.c types.h endian.h loader.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdarg.h mltypes.h objectfile.h 
d205 4
a208 5
  /usr/include/fcntl.h /usr/include/sys/fcntlcom.h /usr/include/sys/stat.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h /usr/include/errno.h \
  /usr/include/sys/errno.h /usr/local/lib/gcc-include/math.h \
  /usr/local/lib/gcc-include/string.h diagnostic.h utils.h mltypes.h types.h \
  values.h implicit.h /usr/include/strings.h allocator.h pervasives.h gc.h 
d228 9
@


1.20
log
@Remade dependencies after changes to values.c.
@
text
@d7 3
d58 2
a59 1
         pervasives.o values.o diagnostic.o handler.o alloc.o
d144 1
a144 1
# generated: Fri Feb 14 17:12:05 GMT 1992
d148 2
a149 2
  mltypes.h types.h modules.h utils.h values.h diagnostic.h initialise.h gc.h \
  allocator.h 
d153 9
a161 4
  /usr/local/lib/gcc-include/string.h mltypes.h types.h values.h loader.h \
  objectfile.h allocator.h interface.h endian.h modules.h diagnostic.h \
  utils.h gc.h 
modules.o : modules.c allocator.h mltypes.h types.h loader.h \
d163 1
a163 2
  /usr/include/stddef.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdarg.h modules.h values.h gc.h utils.h \
a164 5
allocator.o : allocator.c /usr/local/lib/gcc-include/string.h \
  /usr/include/stddef.h /usr/include/sys/stdtypes.h allocator.h mltypes.h \
  types.h diagnostic.h utils.h state.h values.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h gc.h 
d169 3
a171 2
  mltypes.h types.h diagnostic.h utils.h values.h gc.h pervasives.h handler.h 
gc.o : gc.c diagnostic.h utils.h mltypes.h types.h values.h \
d175 2
a176 2
  /usr/local/lib/gcc-include/limits.h gc.h state.h loader.h implicit.h \
  /usr/local/lib/gcc-include/time.h 
d179 1
a179 1
  /usr/local/lib/gcc-include/limits.h gc.h values.h mltypes.h \
d193 1
a193 1
utils.o : utils.c utils.h mltypes.h types.h allocator.h values.h \
d204 6
a209 6
  values.h /usr/include/strings.h allocator.h pervasives.h 
values.o : values.c mltypes.h types.h values.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  allocator.h utils.h diagnostic.h mem.h alloc.h \
  /usr/local/lib/gcc-include/limits.h /usr/include/ctype.h \
d212 1
a212 1
handler.o : handler.c handler.h mltypes.h types.h values.h \
d220 4
@


1.19
log
@Remade dependencies.  Removed spigc.o.
@
text
@d7 3
d140 1
a140 1
# generated: Mon Jan 27 14:52:21 GMT 1992
d204 2
a205 1
  allocator.h utils.h diagnostic.h /usr/include/ctype.h \
@


1.18
log
@Added alloc.o to object files.
@
text
@d7 3
d51 1
a51 1
         mem.o spigc.o initialise.o implicit.o endian.o utils.o \
d137 1
a137 1
# generated: Fri Jan 17 15:02:25 GMT 1992
d141 1
a141 1
  mltypes.h types.h modules.h utils.h values.h diagnostic.h initialise.h \
d147 2
a148 2
  objectfile.h allocator.h interface.h endian.h modules.h diagnostic.h gc.h \
  utils.h 
d156 3
a158 3
  types.h diagnostic.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/local/lib/gcc-include/stdarg.h \
  state.h utils.h values.h gc.h 
d163 7
a169 5
  mltypes.h types.h diagnostic.h values.h gc.h pervasives.h handler.h 
gc.o : gc.c diagnostic.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h mltypes.h \
  types.h values.h mem.h alloc.h gc.h spigc.h state.h loader.h utils.h 
d171 5
a175 7
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdlib.h spigc.h \
  state.h mltypes.h diagnostic.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdarg.h utils.h values.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h 
spigc.o : spigc.c spigc.h types.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h 
d177 4
a180 4
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdlib.h implicit.h \
  initialise.h interface.h mltypes.h state.h utils.h values.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdarg.h \
  allocator.h 
d196 2
a197 2
  /usr/local/lib/gcc-include/string.h diagnostic.h mltypes.h types.h values.h \
  /usr/include/strings.h allocator.h pervasives.h utils.h 
d203 1
a203 3
diagnostic.o : diagnostic.c diagnostic.h /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/include/stddef.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h 
d209 3
a211 3
  mem.h types.h /usr/local/lib/gcc-include/stdlib.h utils.h mltypes.h \
  /usr/local/lib/gcc-include/string.h diagnostic.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdarg.h 
@


1.17
log
@Added new machine generated files: callc_codes.sml and __callc_codes.sml.
@
text
@d7 3
d37 1
a37 1
CP  = /bin/cp -P
d49 1
a49 1
         pervasives.o values.o diagnostic.o handler.o
d134 3
a136 3
# generated: Thu Jan  2 13:09:12 GMT 1992
main.o : main.c /usr/local/lib/gcc-include/stdlib.h \
  /usr/include/sys/stdtypes.h /usr/include/string.h loader.h \
d141 5
a145 4
  /usr/local/lib/gcc-include/stdlib.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/include/string.h mltypes.h types.h \
  values.h loader.h objectfile.h allocator.h interface.h endian.h modules.h \
  diagnostic.h gc.h utils.h 
d148 8
a155 6
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h modules.h \
  values.h gc.h utils.h /usr/include/string.h 
allocator.o : allocator.c /usr/include/string.h /usr/include/sys/stdtypes.h \
  allocator.h mltypes.h types.h diagnostic.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/local/lib/gcc-include/stdarg.h state.h utils.h values.h gc.h 
d158 3
a160 3
  /usr/local/lib/gcc-include/stdlib.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdarg.h callc.h mltypes.h types.h diagnostic.h \
  values.h gc.h pervasives.h handler.h 
d162 8
a169 7
  /usr/local/lib/gcc-include/stdlib.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdarg.h mltypes.h types.h values.h mem.h gc.h \
  spigc.h state.h loader.h utils.h 
mem.o : mem.c mem.h types.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/include/sys/stdtypes.h spigc.h state.h mltypes.h debug.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdarg.h \
  utils.h /usr/include/sys/types.h /usr/include/sys/sysmacros.h 
d171 4
a174 4
  /usr/local/lib/gcc-include/stdlib.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdarg.h 
initialise.o : initialise.c mem.h types.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/include/sys/stdtypes.h implicit.h \
d181 2
a182 2
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h mltypes.h \
  objectfile.h 
d184 1
d186 3
d190 1
a190 5
  /usr/include/string.h 
pervasives.o : pervasives.c /usr/local/lib/gcc-include/stdio.h \
  /usr/local/lib/gcc-include/stdlib.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdarg.h /usr/include/fcntl.h \
  /usr/include/sys/fcntlcom.h /usr/include/sys/stat.h \
d192 8
a199 7
  /usr/include/sys/errno.h /usr/local/lib/gcc-include/math.h diagnostic.h \
  mltypes.h types.h values.h /usr/include/strings.h allocator.h pervasives.h \
  utils.h 
values.o : values.c mltypes.h types.h values.h \
  /usr/local/lib/gcc-include/stdio.h /usr/local/lib/gcc-include/stdlib.h \
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h allocator.h \
  utils.h /usr/include/ctype.h /usr/include/string.h 
d201 2
a202 2
  /usr/local/lib/gcc-include/stdlib.h /usr/include/sys/stdtypes.h \
  /usr/local/lib/gcc-include/stdarg.h 
d204 1
d206 5
a210 1
  /usr/include/sys/stdtypes.h /usr/local/lib/gcc-include/stdarg.h utils.h 
@


1.16
log
@Added handler.o to object files.
@
text
@d1 1
a1 1

d7 3
a21 1
# 
d33 2
a34 1
CP  = /bin/cp
d50 2
a51 1
AFILES = objectfile.sml __objectfile.sml implicit.sml __implicit.sml
d77 1
a77 1
	$(AWK) -f objectfile.awk objectfile.h >objectfile.sml
d80 1
a80 1
	$(AWK) -f __objectfile.awk objectfile.h >__objectfile.sml
d83 1
a83 1
	$(AWK) -f implicit.awk implicit.c >implicit.sml
d86 1
a86 1
	$(AWK) -f __implicit.awk implicit.c >__implicit.sml
d88 6
d100 2
a101 1
	$(AS) -o $@@ $(@@:.o=.s)
@


1.15
log
@Added diagnostic.o and extra warnings on compilation.
@
text
@d6 4
a9 1
# $Log:	Makefile,v $
d43 1
a43 1
         pervasives.o values.o diagnostic.o
d120 9
a128 6
# generated: Fri Dec 20 17:19:02 GMT 1991
main.o : main.c /usr/include/stdlib.h /usr/include/sys/stdtypes.h \
  /usr/include/string.h loader.h /usr/include/stdio.h mltypes.h types.h \
  modules.h utils.h values.h diagnostic.h initialise.h allocator.h 
loader.o : loader.c /usr/include/stdio.h /usr/include/stdlib.h \
  /usr/include/sys/stdtypes.h /usr/include/string.h mltypes.h types.h \
d132 3
a134 1
  /usr/include/stdio.h modules.h values.h 
d136 3
a138 2
  allocator.h mltypes.h types.h diagnostic.h /usr/include/stdio.h state.h \
  utils.h values.h gc.h 
d140 20
a159 9
callc.o : callc.c /usr/include/stdio.h callc.h mltypes.h types.h \
  diagnostic.h values.h gc.h pervasives.h 
gc.o : gc.c diagnostic.h /usr/include/stdio.h mltypes.h types.h values.h \
  mem.h gc.h spigc.h state.h loader.h utils.h 
mem.o : mem.c mem.h types.h spigc.h state.h mltypes.h debug.h \
  /usr/include/stdio.h utils.h 
spigc.o : spigc.c spigc.h types.h /usr/include/stdio.h 
initialise.o : initialise.c mem.h types.h implicit.h initialise.h \
  interface.h mltypes.h state.h utils.h values.h /usr/include/stdio.h 
d161 26
a186 12
endian.o : endian.c types.h endian.h loader.h /usr/include/stdio.h \
  mltypes.h objectfile.h 
utils.o : utils.c /usr/include/stdio.h 
pervasives.o : pervasives.c /usr/include/stdio.h /usr/include/fcntl.h \
  /usr/include/sys/fcntlcom.h /usr/include/sys/stdtypes.h \
  /usr/include/sys/stat.h /usr/include/sys/types.h \
  /usr/include/sys/sysmacros.h /usr/include/errno.h /usr/include/sys/errno.h \
  /usr/local/lib/gcc-include/math.h diagnostic.h mltypes.h types.h values.h \
  /usr/include/strings.h allocator.h pervasives.h utils.h 
values.o : values.c mltypes.h types.h values.h /usr/include/stdio.h \
  allocator.h /usr/include/ctype.h 
diagnostic.o : diagnostic.c diagnostic.h /usr/include/stdio.h 
@


1.14
log
@Added mem and spigc for the new garbage collector
@
text
@d7 3
d27 1
a27 1
CC  = gcc -g -ansi -pedantic
d38 3
a40 2
OFILES = main.o loader.o modules.o allocator.o state.o callc.o gc.o mem.o spigc.o \
	 initialise.o implicit.o endian.o utils.o pervasives.o values.o
d117 8
a124 5
# generated: Fri Dec 13 12:13:48 GMT 1991
main.o : main.c loader.h /usr/include/stdio.h mltypes.h types.h modules.h \
  utils.h values.h 
loader.o : loader.c /usr/include/stdio.h mltypes.h types.h values.h \
  loader.h objectfile.h allocator.h interface.h endian.h modules.h debug.h 
d128 2
a129 2
  allocator.h mltypes.h types.h debug.h /usr/include/stdio.h state.h utils.h \
  values.h 
d131 9
a139 6
callc.o : callc.c callc.h mltypes.h types.h debug.h /usr/include/stdio.h \
  values.h gc.h pervasives.h 
gc.o : gc.c /usr/include/malloc.h types.h debug.h /usr/include/stdio.h \
  mltypes.h state.h utils.h values.h 
initialise.o : initialise.c implicit.h types.h initialise.h interface.h \
  mltypes.h state.h utils.h values.h 
d144 9
a152 7
pervasives.o : pervasives.c debug.h /usr/include/stdio.h mltypes.h types.h \
  values.h /usr/include/strings.h allocator.h pervasives.h \
  /usr/include/fcntl.h /usr/include/sys/fcntlcom.h \
  /usr/include/sys/stdtypes.h /usr/include/sys/stat.h \
  /usr/include/sys/types.h /usr/include/sys/sysmacros.h \
  /usr/include/sys/errno.h 
values.o : values.c mltypes.h types.h values.h /usr/include/stdio.h 
@


1.13
log
@Added values.c.
@
text
@d7 3
d35 1
a35 1
OFILES = main.o loader.o modules.o allocator.o state.o callc.o gc.o \
@


1.12
log
@Removed redundant generation of ml_externals, and added pervasives
to the dependencies.
@
text
@d6 5
a10 1
# $Log$
d33 1
a33 1
	 initialise.o implicit.o endian.o utils.o pervasives.o
d110 1
a110 1
# generated: Mon Nov 18 14:08:02 GMT 1991
d122 3
a124 3
  values.h pervasives.h 
gc.o : gc.c /usr/include/malloc.h debug.h /usr/include/stdio.h mltypes.h \
  types.h state.h utils.h values.h 
d131 7
a137 2
pervasives.o : pervasives.c mltypes.h types.h values.h \
  /usr/include/strings.h pervasives.h 
@


1.11
log
@Put in a few extra things to build.
@
text
@d4 4
d29 1
a29 1
	 initialise.o implicit.o ml_externals.o endian.o utils.o
d33 1
a33 2
AFILES = objectfile.sml __objectfile.sml implicit.sml __implicit.sml \
	 ml_externals.sml ml_externals.h ml_externals.c
a69 10
ml_externals.sml: ml_externals.src ml_externals.awk
	$(AWK) -f ml_externals.awk ml_externals.src >ml_externals.sml

ml_externals.h: ml_externals.src ml_externals.h.awk
	$(AWK) -f ml_externals.h.awk ml_externals.src >ml_externals.h

ml_externals.c: ml_externals.src ml_externals.c1.awk ml_externals.c2.awk
	$(AWK) -f ml_externals.c1.awk ml_externals.src >ml_externals.c
	$(AWK) -f ml_externals.c2.awk ml_externals.src >>ml_externals.c

d106 1
a106 1
# generated: Tue Oct 29 17:46:20 GMT 1991
d118 1
a118 1
  values.h 
a123 1
ml_externals.o : ml_externals.c ml_externals.h types.h mltypes.h values.h 
d127 2
@


1.10
log
@Trivial change of ml_externals.c to ml_externals.o
@
text
@d24 1
a24 1
OFILES = main.o loader.o modules.o allocator.o state.o callc.o \
d27 1
a27 1
# SML files from C code.
d29 2
a30 1
SMLFILES = objectfile.sml __objectfile.sml implicit.sml __implicit.sml
d46 1
a46 1
all : runtime $(SMLFILES)
d53 1
a53 1
# SML files generated from C files.
d67 10
d88 1
a88 1
	$(RM) core *.o $(SFILES) $(SMLFILES)
d113 1
a113 1
# generated: Mon Oct 28 12:29:03 GMT 1991
d125 5
a129 3
  ml_externals.h values.h 
initialise.o : initialise.c /usr/include/malloc.h implicit.h types.h \
  initialise.h interface.h mltypes.h state.h utils.h values.h 
d131 1
a131 2
ml_externals.o : ml_externals.c debug.h /usr/include/stdio.h mltypes.h \
  types.h ml_externals.h state.h values.h 
@


1.9
log
@ Now builds the files implicit.sml, __implicit.sml plus a few new C ones.
@
text
@d25 1
a25 1
	 initialise.o implicit.o ml_externals.c endian.o utils.o
d102 1
a102 1
# generated: Thu Oct 24 18:19:47 BST 1991
d113 2
a114 1
callc.o : callc.c callc.h mltypes.h types.h ml_externals.h values.h 
d118 2
a119 1
ml_externals.o : ml_externals.c mltypes.h types.h ml_externals.h 
@


1.8
log
@Changed the name of callml.s to interface.s. Now builds the
C file initialise.c
@
text
@d25 1
a25 1
	 initialise.o ml_externals.c endian.o utils.o
d27 4
d45 1
a45 1
all : runtime objectfile.sml __objectfile.sml
d60 6
d77 1
a77 1
	$(RM) core *.o $(SFILES) objectfile.sml __objectfile.sml
d102 1
a102 1
# generated: Wed Oct 23 17:31:31 BST 1991
d106 1
a106 1
  loader.h objectfile.h allocator.h callml.h endian.h modules.h debug.h 
d114 3
a116 2
initialise.o : initialise.c /usr/include/malloc.h initialise.h state.h \
  mltypes.h types.h utils.h values.h 
@


1.7
log
@Now builds the files callc.c and ml_externals.c
@
text
@d20 1
a20 1
SOFILES = callml.o
d24 2
a25 2
OFILES = main.o loader.o modules.o allocator.o state.o \
	 callc.o ml_externals.c endian.o utils.o
d92 3
a94 4
# generated: Tue Oct 22 17:24:20 BST 1991
main.o : main.c /usr/include/malloc.h /usr/include/setjmp.h \
  /usr/include/machine/setjmp.h allocator.h mltypes.h types.h debug.h \
  /usr/include/stdio.h loader.h state.h utils.h values.h 
d104 2
@


1.6
log
@Put in stuff to do symbolic links to the appropriate assembly
code files in the machine dependent directories.
@
text
@d24 2
a25 1
OFILES = main.o loader.o modules.o allocator.o state.o endian.o utils.o
d92 1
a92 1
# generated: Mon Oct 21 15:43:54 BST 1991
d104 2
@


1.5
log
@Minor changes.
@
text
@d11 6
a16 4
RM = /bin/rm -f
CC = gcc -g -ansi -pedantic
AS = /bin/as
CP = /bin/cp
d28 1
d31 1
a31 1
SFILES = $(SOFILES:%.o=$(MACHINE)/%.s)
d50 1
a50 1
	awk -f objectfile.awk objectfile.h >objectfile.sml
d53 1
a53 1
	awk -f __objectfile.awk objectfile.h >__objectfile.sml
d57 2
a58 2
$(SOFILES):
	$(AS) -o $@@ $(MACHINE)/$(@@:.o=.s)
d60 3
d66 1
a66 1
	$(RM) core *.o objectfile.sml __objectfile.sml
d74 1
a74 1
	      awk ' { if ($$1 != prev) \
d91 1
a91 1
# generated: Fri Oct 18 19:46:16 BST 1991
@


1.4
log
@Changed the include file opcodes.h to be called objectfile.h
@
text
@d18 1
a18 1
SOFILES =
d22 1
a22 1
OFILES = main.o loader.o modules.o endian.o
d60 1
a60 2
	$(RM) core runtime *.o
	$(RM) objectfile.sml __objectfile.sml
d85 4
a88 4
# generated: Thu Oct 17 17:56:43 BST 1991
main.o : main.c /usr/include/stdio.h /usr/include/setjmp.h \
  /usr/include/machine/setjmp.h /usr/include/malloc.h mltypes.h types.h \
  values.h callml.h loader.h debug.h 
d91 9
a99 4
modules.o : modules.c /usr/include/stdio.h mltypes.h types.h modules.h \
  allocator.h loader.h values.h 
endian.o : endian.c types.h loader.h /usr/include/stdio.h mltypes.h \
  endian.h 
@


1.3
log
@Now compiles C functions with the -g option. Knows about more of the
C files now. Redid make depend.
@
text
@d46 2
a47 2
objectfile.sml: opcodes.h objectfile.awk
	awk -f objectfile.awk opcodes.h >objectfile.sml
d49 2
a50 2
__objectfile.sml: opcodes.h __objectfile.awk
	awk -f __objectfile.awk opcodes.h >__objectfile.sml
d86 1
a86 1
# generated: Thu Oct 17 16:53:29 BST 1991
d91 1
a91 1
  loader.h opcodes.h allocator.h callml.h endian.h modules.h debug.h 
d94 2
a95 1
endian.o : endian.c types.h endian.h 
@


1.2
log
@Put in a load of stuff from jon's original makefile.
@
text
@d7 1
a7 1
MACHINE=sparc
d12 1
a12 1
CC = gcc -ansi -pedantic
d22 1
a22 1
OFILES = loader.o
d30 5
d63 1
a63 1
$ Make dependencies.
d85 13
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# Makefile for ML run-time system
d5 1
a5 2
.c.o:
	gcc -g -ansi -pedantic -c $<
d7 1
a7 1
# Make everythin
d9 1
a9 1
all: objectfile.sml __objectfile.sml
d11 28
d47 1
a47 1
# C run-time files
d49 2
a50 1
loader.o: loader.c
d52 1
a52 2
test: callml.o callc.o
	gcc -o test callml.o callc.o
d54 3
a56 2
callc.o: callc.s
	gcc -g -ansi -pedantic -c callc.c
d58 1
a58 2
callc.s: callc.c types.h utils.h callml.h
	gcc -S -ansi -pedantic callc.c
d60 18
a77 2
callml.o: callml.s
	as -o callml.o callml.s
d79 1
a79 8
callc.c:
callml.s:

# Cleanup the directory

clean:
	rm -f core test callc.s callc.o callml.o
	rm -f objectfile.sml __objectfile.sml
@

head	1.8;
access;
symbols
	MLW_daveb_inline_1_4_99:1.8.1
	MLWorks_21c0_1999_03_25:1.8
	MLWorks_20c1_1998_08_20:1.8
	MLWorks_20c0_1998_08_04:1.8
	MLWorks_20b2c2_1998_06_19:1.8
	MLWorks_20b2_Windows_1998_06_12:1.8
	MLWorks_20b1c1_1998_05_07:1.8
	MLWorks_20b0_1998_04_07:1.8
	MLWorks_20b0_1998_03_20:1.8
	MLWorks_20m2_1998_02_16:1.8
	MLWorks_MM_adapt:1.7.9
	MLWorks_20m1_1997_10_23:1.7
	MLWorks_11r1:1.7.6.1.1.1.1
	MLWorks_workspace_97:1.7.8
	MLWorks_dt_wizard:1.7.7
	MLWorks_11c0_1997_09_09:1.7.6.1.1.1
	MLWorks_10r3:1.7.6.1.3
	MLWorks_10r2_551:1.7.6.1.2
	MLWorks_11:1.7.6.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.7.6.1
	MLWorks_20m0_1997_06_20:1.7
	MLWorks_1_0_r2c2_1997_06_14:1.7.6.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.7.6.1
	MLWorks_1_0_r2c1_1997_05_12:1.7.6
	MLWorks_BugFix_1997_04_24:1.7
	MLWorks_1_0_r2_Win32_1997_04_11:1.7
	MLWorks_1_0_r2_Unix_1997_04_04:1.7
	MM_ML_release_korma_1997_04_01:1.7
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.7.4.1.1
	MLWorks_gui_1996_12_18:1.7.5
	MLWorks_1_0_Win32_1996_12_17:1.7.4
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.7.1.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.7.1.1
	JFHrts:1.7.3
	MLWorks_1_0_Irix_1996_11_28:1.7.1.1.1
	MLWorks_1_0_Win32_1996_11_22:1.7.2
	MLWorks_1_0_Unix_1996_11_14:1.7.1
	MLWorks_Open_Beta2_1996_10_11:1.5.2
	MLWorks_License_dev:1.5.1
	MLWorks_1_open_beta_1996_09_13:1.4.1
	MLWorks_Open_Beta_1996_08_22:1.4
	MLWorks_Beta_1996_07_02:1.3
	MLWorks_Beta_1996_06_07:1.3
	MLWorks_Beta_1996_06_06:1.3
	MLWorks_Beta_1996_06_05:1.3
	MLWorks_Beta_1996_06_03:1.3
	MLWorks_Beta_1996_05_31:1.3
	MLWorks_Beta_1996_05_30:1.3
	hope_poo:1.1.1
	ML_beta_release_12/08/94:1.1.1.1
	ML_beta_release_03/08/94:1.1;
locks; strict;
comment	@ * @;


1.8
date	97.11.06.10.53.44;	author johnh;	state Exp;
branches
	1.8.1.1;
next	1.7;

1.7
date	96.10.24.13.17.29;	author jont;	state Exp;
branches
	1.7.1.1
	1.7.2.1
	1.7.3.1
	1.7.4.1
	1.7.5.1
	1.7.6.1
	1.7.7.1
	1.7.8.1
	1.7.9.1;
next	1.6;

1.6
date	96.10.18.13.33.32;	author jont;	state Exp;
branches;
next	1.5;

1.5
date	96.09.20.11.29.17;	author io;	state Exp;
branches
	1.5.1.1
	1.5.2.1;
next	1.4;

1.4
date	96.07.24.14.14.40;	author jont;	state Exp;
branches
	1.4.1.1;
next	1.3;

1.3
date	95.04.19.10.41.35;	author nickb;	state Exp;
branches;
next	1.2;

1.2
date	95.02.23.13.53.49;	author nickb;	state Exp;
branches;
next	1.1;

1.1
date	94.07.08.10.47.58;	author nickh;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.07.05.10.30.49;	author hope;	state Exp;
branches;
next	;

1.4.1.1
date	96.09.13.11.25.25;	author hope;	state Exp;
branches;
next	1.4.1.2;

1.4.1.2
date	96.09.20.17.12.14;	author io;	state Exp;
branches;
next	;

1.5.1.1
date	96.10.07.16.15.50;	author hope;	state Exp;
branches;
next	;

1.5.2.1
date	96.10.17.11.35.15;	author hope;	state Exp;
branches;
next	;

1.7.1.1
date	96.11.14.13.00.54;	author hope;	state Exp;
branches
	1.7.1.1.1.1;
next	;

1.7.1.1.1.1
date	96.11.28.15.10.57;	author hope;	state Exp;
branches;
next	;

1.7.2.1
date	96.11.22.18.18.45;	author hope;	state Exp;
branches;
next	;

1.7.3.1
date	96.12.17.10.05.28;	author hope;	state Exp;
branches;
next	;

1.7.4.1
date	96.12.17.17.57.01;	author hope;	state Exp;
branches
	1.7.4.1.1.1;
next	;

1.7.4.1.1.1
date	97.02.24.11.48.42;	author hope;	state Exp;
branches;
next	;

1.7.5.1
date	96.12.18.09.51.42;	author hope;	state Exp;
branches;
next	;

1.7.6.1
date	97.05.12.10.45.24;	author hope;	state Exp;
branches
	1.7.6.1.1.1
	1.7.6.1.2.1
	1.7.6.1.3.1;
next	;

1.7.6.1.1.1
date	97.07.28.18.26.08;	author daveb;	state Exp;
branches
	1.7.6.1.1.1.1.1;
next	;

1.7.6.1.1.1.1.1
date	97.10.07.11.51.56;	author jkbrook;	state Exp;
branches;
next	;

1.7.6.1.2.1
date	97.09.08.17.19.21;	author daveb;	state Exp;
branches;
next	;

1.7.6.1.3.1
date	97.09.09.14.15.30;	author daveb;	state Exp;
branches;
next	;

1.7.7.1
date	97.09.10.19.32.34;	author brucem;	state Exp;
branches;
next	;

1.7.8.1
date	97.09.11.21.01.51;	author daveb;	state Exp;
branches;
next	;

1.7.9.1
date	97.10.31.13.44.47;	author nickb;	state Exp;
branches;
next	;

1.8.1.1
date	99.04.01.18.01.27;	author daveb;	state Exp;
branches;
next	;


desc
@new file
@


1.8
log
@[Bug #30125]
Correct the definition of kill.
@
text
@/*  ==== UNIX SYSCALL DECLARATIONS HEADER ====
 *
 *  Copyright (C) 1994 Harlequin Ltd
 *
 *  Description
 *  -----------
 *  This header declares Unix system calls which are not declared in
 *  system header files. 
 *
 * Loosely based on SunOS version.
 *
 *  $Log: src:OS:Solaris:syscalls.h,v $
 * Revision 1.7  1996/10/24  13:17:29  jont
 * Add definition for SA_RESTART
 *
 */

#ifndef syscall_h
#define syscall_h

/* Hardly anything gets defined properly in Solaris header files */

#include <stdio.h>
#include <sys/types.h>
#include <sys/time.h>
#include <signal.h>
#include <sys/resource.h>

#include <sys/socket.h>
#include <sys/stat.h>
#include <math.h>
#include <floatingpoint.h>
#include <fcntl.h>
#include <unistd.h>

/* files */

extern int close (int fd);
extern char *getwd (char *pathname);
extern char* realpath(char *path,char resolved_path[]);
extern int fsync (int fd);
extern int pipe (int fd[2]);

/* GNU has its own header files, which do not use ANSI-style function
prototypes for certain functions. For mkdir this is a problem since
mode_t is a type with implicit promotion. */

#ifdef __GNUC__
extern int mkdir ();
#else
extern int mkdir (char *path, mode_t mode);
#endif

/* time */

extern int gettimeofday(struct timeval *tp, void *);
/* 
 * For Solaris 2.3 on dedekind this takes one argument.
 * This prototype is needed for dedekind.
 *
 * For Solaris 2.5 on binatone and abel, this takes two arguments
 * and the second argument must be set to NULL and ignored.
 * This prototype is not needed for binatone and abel.
 *
 * I'll leave Stephen to decide whats best.
 */

/* memory */

extern int plock (int op);
extern int munmap (caddr_t addr, size_t len); /* mmap is in <sys/mman.h> */
extern int getpagesize (void);

/* processes */

extern int kill (pid_t pid, int signal);
extern char **environ;

/* signals */

/* this is all in the system include files, but #ifdeffed out when
 * __STDC__ is set */

#ifdef __STDC__

typedef struct {		/* signal set type */
	unsigned long	__sigbits[4];
} sigset_t;

struct sigaction {
	int sa_flags;
	void (*sa_handler)();
	sigset_t sa_mask;
	int sa_resv[2];
};

#define SA_ONSTACK 0x00000001
#define SA_RESTART 0x00000004
#define SA_SIGINFO 0x00000008

struct sigaltstack {
	char	*ss_sp;
	int	ss_size;
	int	ss_flags;
};

#define SIGSTKSZ 8096

typedef struct sigaltstack stack_t;

extern int sigaltstack (const stack_t *new, stack_t *old);

extern int sigaction
  (int sig, const struct sigaction *new, struct sigaction *old);
extern int sigaddset(sigset_t *s, int sig);
extern int sigdelset(sigset_t *s, int sig);
extern int sigfillset(sigset_t *s);
extern int sigemptyset(sigset_t *s);
extern int sigprocmask(int sig, const sigset_t *new, sigset_t *old);

#endif

/* passwords */

extern void setpwent(void);
extern void endpwent(void);

/* option parsing */

extern char *optarg;
extern int optind;

/* maths */

/* Again, this is all in math.h but ifdeffed out when __STDC__ is defined. */

#ifdef __STDC__

struct exception {
	int type;
	char *name;
	double arg1;
	double arg2;
	double retval;
};

/* these values are seen in the 'type' field of a struct exception */

#define	DOMAIN		1
#define	SING		2
#define	OVERFLOW	3
#define	UNDERFLOW	4
#define	TLOSS		5
#define	PLOSS		6

extern int matherr (struct exception *exc);

extern int ieee_handler
  (const char *action, const char *exception, sigfpe_handler_type hdl);

extern int isnan(double);

#endif

/* misc */

extern int gethostname (char *name, int namelen);
extern char *sys_errlist [];
extern long sysconf(int);

#endif /* syscall_h */

@


1.8.1.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a12 4
 * Revision 1.8  1997/11/06  10:53:44  johnh
 * [Bug #30125]
 * Correct the definition of kill.
 *
@


1.7
log
@Add definition for SA_RESTART
@
text
@d12 4
a15 1
 *  $Log$
d76 1
a76 1
extern int kill (int pid, int signal);
@


1.7.9.1
log
@branched from trunk for label MLWorks_MM_adapt
@
text
@d12 1
a12 4
 *  $Log: src:OS:Solaris:syscalls.h,v $
 * Revision 1.7  1996/10/24  13:17:29  jont
 * Add definition for SA_RESTART
 *
@


1.7.8.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@d12 1
a12 4
 *  $Log: src:OS:Solaris:syscalls.h,v $
 * Revision 1.7  1996/10/24  13:17:29  jont
 * Add definition for SA_RESTART
 *
@


1.7.7.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@d12 1
a12 4
 *  $Log: src:OS:Solaris:syscalls.h,v $
 * Revision 1.7  1996/10/24  13:17:29  jont
 * Add definition for SA_RESTART
 *
@


1.7.6.1
log
@branched from 1.7
@
text
@d12 1
a12 4
 *  $Log: src:OS:Solaris:syscalls.h,v $
 * Revision 1.7  1996/10/24  13:17:29  jont
 * Add definition for SA_RESTART
 *
@


1.7.6.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a12 3
 * Revision 1.7.6.1  1997/05/12  10:45:24  hope
 * branched from 1.7
 *
@


1.7.6.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a12 3
 * Revision 1.7.6.1  1997/05/12  10:45:24  hope
 * branched from 1.7
 *
@


1.7.6.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a12 3
 * Revision 1.7.6.1  1997/05/12  10:45:24  hope
 * branched from 1.7
 *
@


1.7.6.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a12 3
 * Revision 1.7.6.1.1.1  1997/07/28  18:26:08  daveb
 * branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
@


1.7.5.1
log
@branched from 1.7
@
text
@d12 1
a12 4
 *  $Log: src:OS:Solaris:syscalls.h,v $
 * Revision 1.7  1996/10/24  13:17:29  jont
 * Add definition for SA_RESTART
 *
@


1.7.4.1
log
@branched from 1.7
@
text
@d12 1
a12 4
 *  $Log: src:OS:Solaris:syscalls.h,v $
 * Revision 1.7  1996/10/24  13:17:29  jont
 * Add definition for SA_RESTART
 *
@


1.7.4.1.1.1
log
@branched from 1.7.4.1
@
text
@a12 3
 * Revision 1.7.4.1  1996/12/17  17:57:01  hope
 * branched from 1.7
 *
@


1.7.3.1
log
@branched from 1.7
@
text
@d12 1
a12 4
 *  $Log: src:OS:Solaris:syscalls.h,v $
 * Revision 1.7  1996/10/24  13:17:29  jont
 * Add definition for SA_RESTART
 *
@


1.7.2.1
log
@branched from 1.7
@
text
@d12 1
a12 4
 *  $Log: src:OS:Solaris:syscalls.h,v $
 * Revision 1.7  1996/10/24  13:17:29  jont
 * Add definition for SA_RESTART
 *
@


1.7.1.1
log
@branched from 1.7
@
text
@d12 1
a12 4
 *  $Log: src:OS:Solaris:syscalls.h,v $
 * Revision 1.7  1996/10/24  13:17:29  jont
 * Add definition for SA_RESTART
 *
@


1.7.1.1.1.1
log
@branched from 1.7.1.1
@
text
@a12 3
 * Revision 1.7.1.1  1996/11/14  13:00:54  hope
 * branched from 1.7
 *
@


1.6
log
@Remove prototype for bcopy
@
text
@d12 1
a12 1
 *  $Id: src:OS:Solaris:syscalls.h,v 1.5 1996/09/20 11:29:17 io Exp $
d95 1
@


1.5
log
@[Bug #1607]
remove getrusage and modify gettimeofday prototype
@
text
@d12 1
a12 1
 *  $Id: src:OS:Solaris:syscalls.h,v 1.4 1996/07/24 14:14:40 jont Exp $
a67 1
extern void bcopy (char *b1, char *b2, int length);
@


1.5.2.1
log
@branched from 1.5
@
text
@d12 1
a12 1
 *  $Id: src:OS:Solaris:syscalls.h,v 1.5 1996/09/20 11:29:17 io Exp $
@


1.5.1.1
log
@branched from 1.5
@
text
@d12 1
a12 1
 *  $Id: src:OS:Solaris:syscalls.h,v 1.5 1996/09/20 11:29:17 io Exp $
@


1.4
log
@Add prototype for isnan
@
text
@d12 1
a12 1
 *  $Id: src:OS:Solaris:syscalls.h,v 1.3 1995/04/19 10:41:35 nickb Exp $
d25 1
a25 1
#include <sys/rusage.h>
d53 11
a63 2
extern int gettimeofday(struct timeval *tp, struct timezone *tzp);
extern int setitimer (int which, struct itimerval *value, struct itimerval *ovalue);
@


1.4.1.1
log
@branched from 1.4
@
text
@d12 1
a12 1
 *  $Id: src:OS:Solaris:syscalls.h,v 1.4 1996/07/24 14:14:40 jont Exp $
@


1.4.1.2
log
@[Bug #1607]
getrusage.h has dissappeared in Solaris 2.5 and gettimeofday needs to be changed
so the Solaris builds can run
@
text
@d12 1
a12 1
 *  $Id: src:OS:Solaris:syscalls.h,v 1.4.1.1 1996/09/13 11:25:25 hope Exp $
d25 1
a25 1

d53 2
a54 11
extern int gettimeofday(struct timeval *tp, void *);
/* 
 * For Solaris 2.3 on dedekind this takes one argument.
 * This prototype is needed for dedekind.
 *
 * For Solaris 2.5 on binatone and abel, this takes two arguments
 * and the second argument must be set to NULL and ignored.
 * This prototype is not needed for binatone and abel.
 *
 * I'll leave Stephen to decide whats best.
 */
@


1.3
log
@Add some more maths stuff which is excluded from math.h when
__STDC__ is defined.
@
text
@d12 1
a12 1
 *  $Id: src:OS:Solaris:syscalls.h,v 1.2 1995/02/23 13:53:49 nickb Exp $
d148 2
@


1.2
log
@Remove things declared in <unistd.h>
@
text
@d12 1
a12 1
 *  $Id: src:OS:Solaris:syscalls.h,v 1.1 1994/07/08 10:47:58 nickh Exp $
d134 9
@


1.1
log
@new file
@
text
@d12 1
a12 1
 *  $Id: $
d31 1
a35 2
extern int read (int fd, char *buf, int nbyte);
extern int write (int fd, char *buf, unsigned int nbyte);
a37 3
extern int chdir (char *path);
extern int rmdir (char *path);
extern int unlink (char *path);
a57 2
extern int brk (caddr_t addr);
extern caddr_t sbrk (int incr);
a64 2
extern int getpid(void);
extern int sleep(unsigned int seconds);
a65 6
extern volatile void _exit (int status);
extern int execve (char *path, char *argv[], char *envp[]);
extern int execv (char *path, char *argv[]);
extern int execvp (char *file, char *argv[]);
extern int fork (void);
extern int vfork (void);
a110 5
/* uids */

extern int seteuid(int euid);
extern int getuid(void);

a145 1
extern int getrusage (int who, struct rusage *ru);
d149 1
@


1.1.1.1
log
@branched from 1.1
@
text
@d12 1
a12 1
 *  $Id: src:OS:Solaris:syscalls.h,v 1.1 1994/07/08 10:47:58 nickh Exp $
@

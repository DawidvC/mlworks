head	1.7;
access;
symbols
	MLW_daveb_inline_1_4_99:1.7.1
	MLWorks_21c0_1999_03_25:1.7
	MLWorks_20c1_1998_08_20:1.7
	MLWorks_20c0_1998_08_04:1.7
	MLWorks_20b2c2_1998_06_19:1.6
	MLWorks_20b2_Windows_1998_06_12:1.6
	MLWorks_20b1c1_1998_05_07:1.6
	MLWorks_20b0_1998_04_07:1.6
	MLWorks_20b0_1998_03_20:1.6
	MLWorks_20m2_1998_02_16:1.6
	MLWorks_MM_adapt:1.6.3
	MLWorks_20m1_1997_10_23:1.6
	MLWorks_11r1:1.4.6.1.1.1.1
	MLWorks_workspace_97:1.6.2
	MLWorks_dt_wizard:1.6.1
	MLWorks_11c0_1997_09_09:1.4.6.1.1.1
	MLWorks_10r3:1.4.6.1.3
	MLWorks_10r2_551:1.4.6.1.2
	MLWorks_11:1.4.6.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.4.6.1
	MLWorks_20m0_1997_06_20:1.5
	MLWorks_1_0_r2c2_1997_06_14:1.4.6.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.4.6.1
	MLWorks_1_0_r2c1_1997_05_12:1.4.6
	MLWorks_BugFix_1997_04_24:1.4
	MLWorks_1_0_r2_Win32_1997_04_11:1.4
	MLWorks_1_0_r2_Unix_1997_04_04:1.4
	MM_ML_release_korma_1997_04_01:1.4
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.4.4.1.1
	MLWorks_gui_1996_12_18:1.4.5
	MLWorks_1_0_Win32_1996_12_17:1.4.4
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.4.1.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.4.1.1
	JFHrts:1.4.3
	MLWorks_1_0_Irix_1996_11_28:1.4.1.1.1
	MLWorks_1_0_Win32_1996_11_22:1.4.2
	MLWorks_1_0_Unix_1996_11_14:1.4.1
	MLWorks_Open_Beta2_1996_10_11:1.2.3
	MLWorks_License_dev:1.2.2
	MLWorks_1_open_beta_1996_09_13:1.2.1
	MLWorks_Open_Beta_1996_08_22:1.2
	MLWorks_Beta_1996_07_02:1.2
	MLWorks_Beta_1996_06_07:1.2
	MLWorks_Beta_1996_06_06:1.2
	MLWorks_Beta_1996_06_05:1.2
	MLWorks_Beta_1996_06_03:1.2
	MLWorks_Beta_1996_05_31:1.1
	MLWorks_Beta_1996_05_30:1.1;
locks; strict;
comment	@ * @;


1.7
date	98.07.13.10.01.59;	author jont;	state Exp;
branches
	1.7.1.1;
next	1.6;

1.6
date	97.05.28.15.52.49;	author andreww;	state Exp;
branches
	1.6.1.1
	1.6.2.1
	1.6.3.1;
next	1.5;

1.5
date	97.05.09.10.15.58;	author stephenb;	state Exp;
branches;
next	1.4;

1.4
date	96.10.31.12.05.20;	author nickb;	state Exp;
branches
	1.4.1.1
	1.4.2.1
	1.4.3.1
	1.4.4.1
	1.4.5.1
	1.4.6.1;
next	1.3;

1.3
date	96.10.29.17.14.28;	author nickb;	state Exp;
branches;
next	1.2;

1.2
date	96.05.31.16.37.52;	author nickb;	state Exp;
branches
	1.2.1.1
	1.2.2.1
	1.2.3.1;
next	1.1;

1.1
date	96.03.06.11.44.17;	author stephenb;	state Exp;
branches;
next	;

1.2.1.1
date	96.09.13.11.23.50;	author hope;	state Exp;
branches;
next	;

1.2.2.1
date	96.10.07.16.14.07;	author hope;	state Exp;
branches;
next	;

1.2.3.1
date	96.10.17.11.33.32;	author hope;	state Exp;
branches;
next	;

1.4.1.1
date	96.11.14.12.59.13;	author hope;	state Exp;
branches
	1.4.1.1.1.1;
next	;

1.4.1.1.1.1
date	96.11.28.15.09.12;	author hope;	state Exp;
branches;
next	;

1.4.2.1
date	96.11.22.18.16.56;	author hope;	state Exp;
branches;
next	;

1.4.3.1
date	96.12.17.10.03.41;	author hope;	state Exp;
branches;
next	;

1.4.4.1
date	96.12.17.17.55.17;	author hope;	state Exp;
branches
	1.4.4.1.1.1;
next	;

1.4.4.1.1.1
date	97.02.24.11.46.27;	author hope;	state Exp;
branches;
next	;

1.4.5.1
date	96.12.18.09.49.53;	author hope;	state Exp;
branches;
next	;

1.4.6.1
date	97.05.12.10.43.36;	author hope;	state Exp;
branches
	1.4.6.1.1.1
	1.4.6.1.2.1
	1.4.6.1.3.1;
next	;

1.4.6.1.1.1
date	97.07.28.18.27.37;	author daveb;	state Exp;
branches
	1.4.6.1.1.1.1.1;
next	;

1.4.6.1.1.1.1.1
date	97.10.07.11.53.37;	author jkbrook;	state Exp;
branches;
next	;

1.4.6.1.2.1
date	97.09.08.17.20.42;	author daveb;	state Exp;
branches;
next	;

1.4.6.1.3.1
date	97.09.09.14.16.49;	author daveb;	state Exp;
branches;
next	;

1.6.1.1
date	97.09.10.19.35.03;	author brucem;	state Exp;
branches;
next	;

1.6.2.1
date	97.09.11.21.03.49;	author daveb;	state Exp;
branches;
next	;

1.6.3.1
date	97.10.31.13.46.47;	author nickb;	state Exp;
branches;
next	;

1.7.1.1
date	99.04.01.18.02.49;	author daveb;	state Exp;
branches;
next	;


desc
@new unit
This replaces src/rts/src/OS/{NT,Win95}/arenadefs.h
@


1.7
log
@[Bug #20128]
Expand arena to 30 bits width
@
text
@/*  ==== ARENA MANAGEMENT ====
 *
 *  Copyright (C) 1996 Harlequin Ltd
 *
 *  Description
 *  -----------
 *  This header defines values controlling the overall structure of
 *  the memory arena. It can be included by either C or asm sources,
 *  so contains no C declarations. C declarations concerned with the
 *  arena are in arena.h (which includes this header). For more
 *  information, see arena.h
 *
 *  $Id: src:OS:Win32:arenadefs.h,v 1.6 1997/05/28 15:52:49 andreww Exp $
 */

#ifndef arenadefs_h
#define arenadefs_h

/* MLWorks only works in environments where "void *" and "word" have
 * ADDRESS_WIDTH bits. This is used to define the size of tables in
 * which any address can be looked up. */

#define ADDRESS_WIDTH	32

/* The "arena" is memory between 0 and 1 << ARENA_WIDTH. All the
   managed memory lies in this range. */

#define ARENA_WIDTH	30

/* We divide the whole address space into spaces, each of size 1 <<
 * SPACE_WIDTH. We manage the arena a space at a time. */

#define SPACE_WIDTH	24	/* 128 * 16Mb spaces */

/* some spaces are further subdivided into blocks, each of size 1 <<
   BLOCK_WIDTH */

#define BLOCK_WIDTH	16	/* 64Kb blocks */

#endif
@


1.7.1.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.7 1998/07/13 10:01:59 jont Exp $
@


1.6
log
@[Bug #30045]
Changing value of ARENA_WIDTH to 29: large enough so that the
load address of the runtime DLL doesn't swamp the address space
claimed by the arena manager, and small enough so that it doesn't
screw up our FI.  This is a temporary fix only: if the runtime
were part of a component-based system, its quite possible that
the runtime DLL would be loaded at even higher addresses, whihc
would then cause another arena manager failure.
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.5 1997/05/09 10:15:58 stephenb Exp $
d28 1
a28 1
#define ARENA_WIDTH	29
@


1.6.3.1
log
@branched from trunk for label MLWorks_MM_adapt
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.6 1997/05/28 15:52:49 andreww Exp $
@


1.6.2.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.6 1997/05/28 15:52:49 andreww Exp $
@


1.6.1.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.6 1997/05/28 15:52:49 andreww Exp $
@


1.5
log
@[Bug #20043]
.misaligned.store.hack.prob.sol
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4 1996/10/31 12:05:20 nickb Exp $
d28 1
a28 1
#define ARENA_WIDTH	28
@


1.4
log
@Missing comment close.
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.3 1996/10/29 17:14:28 nickb Exp $
d28 1
a28 1
#define ARENA_WIDTH	30
@


1.4.6.1
log
@branched from 1.4
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4 1996/10/31 12:05:20 nickb Exp $
@


1.4.6.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4.6.1 1997/05/12 10:43:36 hope Exp $
@


1.4.6.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4.6.1 1997/05/12 10:43:36 hope Exp $
@


1.4.6.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4.6.1 1997/05/12 10:43:36 hope Exp $
@


1.4.6.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4.6.1.1.1 1997/07/28 18:27:37 daveb Exp $
@


1.4.5.1
log
@branched from 1.4
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4 1996/10/31 12:05:20 nickb Exp $
@


1.4.4.1
log
@branched from 1.4
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4 1996/10/31 12:05:20 nickb Exp $
@


1.4.4.1.1.1
log
@branched from 1.4.4.1
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4.4.1 1996/12/17 17:55:17 hope Exp $
@


1.4.3.1
log
@branched from 1.4
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4 1996/10/31 12:05:20 nickb Exp $
@


1.4.2.1
log
@branched from 1.4
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4 1996/10/31 12:05:20 nickb Exp $
@


1.4.1.1
log
@branched from 1.4
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4 1996/10/31 12:05:20 nickb Exp $
@


1.4.1.1.1.1
log
@branched from 1.4.1.1
@
text
@d13 1
a13 1
 *  $Id: src:OS:Win32:arenadefs.h,v 1.4.1.1 1996/11/14 12:59:13 hope Exp $
@


1.3
log
@Fix space lookup for pointers with top bit set.
@
text
@d13 2
a14 1
 *  $Id$
@


1.2
log
@Correct comment.
@
text
@d3 1
a3 1
 *  Copyright (C) 1994 Harlequin Ltd
d10 2
a11 1
 *  arena are in arena.h (which includes this header).
d13 1
a13 9
 *  Revision Log
 *  ------------
 *
 *  $Log: src:OS:Win32:arenadefs.h,v $
 * Revision 1.1  1996/03/06  11:44:17  stephenb
 * new unit
 * This replaces src/rts/src/OS/{NT,Win95}/arenadefs.h
 *
 */
d18 19
a36 2
#define ADDRESS_WIDTH	30	/* 1Gb address space */
#define SPACE_WIDTH	24	/* 64 * 16Mb spaces */
a37 5

#define SPACE_SIZE	(1 << SPACE_WIDTH)
#define NR_SPACES	(1 << (ADDRESS_WIDTH-SPACE_WIDTH))
#define BLOCK_SIZE	(1 << BLOCK_WIDTH)
#define BLOCKS_PER_SPACE (SPACE_SIZE / BLOCK_SIZE)
@


1.2.3.1
log
@branched from 1.2
@
text
@a15 3
 * Revision 1.2  1996/05/31  16:37:52  nickb
 * Correct comment.
 *
@


1.2.2.1
log
@branched from 1.2
@
text
@a15 3
 * Revision 1.2  1996/05/31  16:37:52  nickb
 * Correct comment.
 *
@


1.2.1.1
log
@branched from 1.2
@
text
@a15 3
 * Revision 1.2  1996/05/31  16:37:52  nickb
 * Correct comment.
 *
@


1.1
log
@new unit
This replaces src/rts/src/OS/{NT,Win95}/arenadefs.h
@
text
@d15 5
a19 1
 *  $Log$
d25 2
a26 2
#define ADDRESS_WIDTH	30	/* 2Gb address space */
#define SPACE_WIDTH	24	/* 128 * 16Mb spaces */
@

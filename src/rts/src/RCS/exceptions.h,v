head	1.12;
access;
symbols
	MLW_daveb_inline_1_4_99:1.12.1
	MLWorks_21c0_1999_03_25:1.12
	MLWorks_20c1_1998_08_20:1.12
	MLWorks_20c0_1998_08_04:1.12
	MLWorks_20b2c2_1998_06_19:1.12
	MLWorks_20b2_Windows_1998_06_12:1.12
	MLWorks_20b1c1_1998_05_07:1.12
	MLWorks_20b0_1998_04_07:1.12
	MLWorks_20b0_1998_03_20:1.11
	MLWorks_20m2_1998_02_16:1.11
	MLWorks_MM_adapt:1.11.3
	MLWorks_20m1_1997_10_23:1.11
	MLWorks_11r1:1.10.9.1.1.1.1
	MLWorks_workspace_97:1.11.2
	MLWorks_dt_wizard:1.11.1
	MLWorks_11c0_1997_09_09:1.10.9.1.1.1
	MLWorks_10r3:1.10.9.1.3
	MLWorks_10r2_551:1.10.9.1.2
	MLWorks_11:1.10.9.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.10.9.1
	MLWorks_20m0_1997_06_20:1.11
	MLWorks_1_0_r2c2_1997_06_14:1.10.9.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.10.9.1
	MLWorks_1_0_r2c1_1997_05_12:1.10.9
	MLWorks_BugFix_1997_04_24:1.10
	MLWorks_1_0_r2_Win32_1997_04_11:1.10
	MLWorks_1_0_r2_Unix_1997_04_04:1.10
	MM_ML_release_korma_1997_04_01:1.10
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.10.7.1.1
	MLWorks_gui_1996_12_18:1.10.8
	MLWorks_1_0_Win32_1996_12_17:1.10.7
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.10.4.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.10.4.1
	JFHrts:1.10.6
	MLWorks_1_0_Irix_1996_11_28:1.10.4.1.1
	MLWorks_1_0_Win32_1996_11_22:1.10.5
	MLWorks_1_0_Unix_1996_11_14:1.10.4
	MLWorks_Open_Beta2_1996_10_11:1.10.3
	MLWorks_License_dev:1.10.2
	MLWorks_1_open_beta_1996_09_13:1.10.1
	MLWorks_Open_Beta_1996_08_22:1.10
	MLWorks_Beta_1996_07_02:1.10
	MLWorks_Beta_1996_06_07:1.10
	MLWorks_Beta_1996_06_06:1.10
	MLWorks_Beta_1996_06_05:1.10
	MLWorks_Beta_1996_06_03:1.9
	MLWorks_Beta_1996_05_31:1.9
	MLWorks_Beta_1996_05_30:1.9
	hope_poo:1.2.1
	ML_beta_release_12/08/94:1.2.1.1
	ML_beta_release_03/08/94:1.2;
locks; strict;
comment	@ * @;


1.12
date	98.03.26.16.20.20;	author jont;	state Exp;
branches
	1.12.1.1;
next	1.11;

1.11
date	97.05.22.08.33.54;	author johnh;	state Exp;
branches
	1.11.1.1
	1.11.2.1
	1.11.3.1;
next	1.10;

1.10
date	96.06.04.13.30.20;	author io;	state Exp;
branches
	1.10.1.1
	1.10.2.1
	1.10.3.1
	1.10.4.1
	1.10.5.1
	1.10.6.1
	1.10.7.1
	1.10.8.1
	1.10.9.1;
next	1.9;

1.9
date	96.04.22.14.20.56;	author stephenb;	state Exp;
branches;
next	1.8;

1.8
date	96.04.19.09.57.10;	author matthew;	state Exp;
branches;
next	1.7;

1.7
date	96.03.29.10.22.23;	author stephenb;	state Exp;
branches;
next	1.6;

1.6
date	96.01.16.12.08.10;	author nickb;	state Exp;
branches;
next	1.5;

1.5
date	95.07.20.16.36.41;	author jont;	state Exp;
branches;
next	1.4;

1.4
date	95.03.15.17.37.16;	author nickb;	state Exp;
branches;
next	1.3;

1.3
date	94.10.19.15.21.24;	author nickb;	state Exp;
branches;
next	1.2;

1.2
date	94.06.09.14.50.07;	author nickh;	state Exp;
branches
	1.2.1.1;
next	1.1;

1.1
date	94.06.09.11.24.27;	author nickh;	state Exp;
branches;
next	;

1.2.1.1
date	95.07.05.10.30.44;	author hope;	state Exp;
branches;
next	;

1.10.1.1
date	96.09.13.11.21.59;	author hope;	state Exp;
branches;
next	;

1.10.2.1
date	96.10.07.16.12.04;	author hope;	state Exp;
branches;
next	;

1.10.3.1
date	96.10.17.11.30.57;	author hope;	state Exp;
branches;
next	;

1.10.4.1
date	96.11.14.12.56.51;	author hope;	state Exp;
branches
	1.10.4.1.1.1;
next	;

1.10.4.1.1.1
date	96.11.28.15.07.10;	author hope;	state Exp;
branches;
next	;

1.10.5.1
date	96.11.22.18.14.50;	author hope;	state Exp;
branches;
next	;

1.10.6.1
date	96.12.17.10.01.38;	author hope;	state Exp;
branches;
next	;

1.10.7.1
date	96.12.17.17.53.22;	author hope;	state Exp;
branches
	1.10.7.1.1.1;
next	;

1.10.7.1.1.1
date	97.02.24.11.44.18;	author hope;	state Exp;
branches;
next	;

1.10.8.1
date	96.12.18.09.47.55;	author hope;	state Exp;
branches;
next	;

1.10.9.1
date	97.05.12.10.40.19;	author hope;	state Exp;
branches
	1.10.9.1.1.1
	1.10.9.1.2.1
	1.10.9.1.3.1;
next	;

1.10.9.1.1.1
date	97.07.28.18.25.36;	author daveb;	state Exp;
branches
	1.10.9.1.1.1.1.1;
next	;

1.10.9.1.1.1.1.1
date	97.10.07.11.51.26;	author jkbrook;	state Exp;
branches;
next	;

1.10.9.1.2.1
date	97.09.08.17.18.50;	author daveb;	state Exp;
branches;
next	;

1.10.9.1.3.1
date	97.09.09.14.14.58;	author daveb;	state Exp;
branches;
next	;

1.11.1.1
date	97.09.10.19.31.46;	author brucem;	state Exp;
branches;
next	;

1.11.2.1
date	97.09.11.21.01.10;	author daveb;	state Exp;
branches;
next	;

1.11.3.1
date	97.10.31.13.44.09;	author nickb;	state Exp;
branches;
next	;

1.12.1.1
date	99.04.01.18.01.00;	author daveb;	state Exp;
branches;
next	;


desc
@new file
@


1.12
log
@[Bug #30090]
Remove perv_exn_ref_io
@
text
@/*  === PERVASIVE EXCEPTIONS ===
 *
 *  Copyright (C) 1992 Harlequin Ltd
 *
 *  Description
 *  -----------
 *  This module declares the exceptions which are visible in the pervasive
 *  environment, as well as some utilities for manipulating them.
 *
 *  Revision Log
 *  ------------
 *  $Log: src:exceptions.h,v $
 * Revision 1.11  1997/05/22  08:33:54  johnh
 * [Bug #01702]
 * Changed definition of exn_raise_syserr to include an ml string.
 *
 * Revision 1.10  1996/06/04  13:30:20  io
 * add exn Size
 *
 * Revision 1.9  1996/04/22  14:20:56  stephenb
 * exn_raise_syserr: change the second argument to an int and
 * make it raise (string * NONE) if the int is 0.
 *
 * Revision 1.8  1996/04/19  09:57:10  matthew
 * Removing some exceptions
 *
 * Revision 1.7  1996/03/29  10:22:23  stephenb
 * Add exn_raise_syserror and corresponding exception to support
 * latest verison of OS.* in the basis.
 *
 * Revision 1.6  1996/01/16  12:08:10  nickb
 * Remove StorageManager exception.
 *
 * Revision 1.5  1995/07/20  16:36:41  jont
 * Add exception Overflow
 *
 * Revision 1.4  1995/03/15  17:37:16  nickb
 * Add threads exception.
 *
 * Revision 1.3  1994/10/19  15:21:24  nickb
 * The method of declaring functions to be non-returning has changed.
 *
 * Revision 1.2  1994/06/09  14:50:07  nickh
 * new file
 *
 * Revision 1.1  1994/06/09  11:24:27  nickh
 * new file
 *
 *  Revision 1.6  1993/07/23  11:12:08  richard
 *  Added X exception.
 *
 *  Revision 1.5  1993/04/20  12:44:25  richard
 *  Removed obsolete CLMError exception.  Added Unix and Trace exceptions.
 *  Added exn_raise_strings() to deal with errors from streams.c.
 *
 *  Revision 1.4  1993/04/02  14:17:00  jont
 *  New exception for bad iage when reading table of contents
 *
 *  Revision 1.3  1993/03/31  16:59:52  jont
 *  Made the size of the exception string buffer a #define value
 *
 *  Revision 1.2  1993/01/05  16:44:07  richard
 *  Added more floating point exceptions.
 *
 *  Revision 1.1  1992/11/02  14:51:15  richard
 *  Initial revision
 *
 */

#ifndef exceptions_h
#define exceptions_h

#include "mltypes.h"
#include "extensions.h"


extern void exn_init(void);


/*  === SPECIAL EXCEPTIONS ===
 *
 *  The default exception is the exception packet to which all the pervasive
 *  exceptions are initialised.
 */

extern mlval exn_default;


/*  === PERVASIVE EXCEPTIONS ===
 *
 *  The pervasive exceptions are actually ref cells containing objects of
 *  type `exn', i.e. contianing fully applied exception packets.  This is so
 *  they can be altered by the ML code itself.
 */

extern mlval perv_exn_ref_size;
extern mlval perv_exn_ref_div;
extern mlval perv_exn_ref_overflow;
extern mlval perv_exn_ref_substring;
extern mlval perv_exn_ref_profile;
extern mlval perv_exn_ref_save;
extern mlval perv_exn_ref_value;
extern mlval perv_exn_ref_load;
extern mlval perv_exn_ref_table;
extern mlval perv_exn_ref_string_to_real;
extern mlval perv_exn_ref_ln;
extern mlval perv_exn_ref_abs;
extern mlval perv_exn_ref_exp;
extern mlval perv_exn_ref_sqrt;
extern mlval perv_exn_ref_unbound;
extern mlval perv_exn_ref_signal;
extern mlval perv_exn_ref_trace;
extern mlval perv_exn_ref_threads;
extern mlval perv_exn_ref_syserr;

/*  === EXCEPTION RAISERS ===
 *
 *  These are convenience functions for c_raise in the ML interface.
 *  The total length of the formatted string produced by exn_raise_format()
 *  cannot exceed 2Kb-1.
 *
 *  NOTE: exn_raise_format does not perform any allocation until it has
 *  finished reading all its parameters.  It is therefore safe to feed it
 *  unrooted parts of ML values.
 */

nonreturning(extern void, exn_raise, (mlval exn_ref));
nonreturning(extern void, exn_raise_ml_string, (mlval exn_ref, mlval ml_str));
nonreturning(extern void, exn_raise_string, (mlval exn_ref, const char *string));
nonreturning(extern void, exn_raise_strings, (mlval exn_ref, ...));
nonreturning(extern void, exn_raise_int, (mlval exn_ref, int i));
nonreturning(extern void, exn_raise_format, (mlval exn_ref, const char *format, ...));
nonreturning(extern void, exn_raise_syserr, (mlval, int));

#define EXN_RAISE_FORMAT_BUFFER_SIZE 2047

#endif
@


1.12.1.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a12 4
 * Revision 1.12  1998/03/26  16:20:20  jont
 * [Bug #30090]
 * Remove perv_exn_ref_io
 *
@


1.11
log
@[Bug #01702]
Changed definition of exn_raise_syserr to include an ml string.
@
text
@d13 4
a96 1
extern mlval perv_exn_ref_io;
@


1.11.3.1
log
@branched from trunk for label MLWorks_MM_adapt
@
text
@a12 4
 * Revision 1.11  1997/05/22  08:33:54  johnh
 * [Bug #01702]
 * Changed definition of exn_raise_syserr to include an ml string.
 *
@


1.11.2.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a12 4
 * Revision 1.11  1997/05/22  08:33:54  johnh
 * [Bug #01702]
 * Changed definition of exn_raise_syserr to include an ml string.
 *
@


1.11.1.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a12 4
 * Revision 1.11  1997/05/22  08:33:54  johnh
 * [Bug #01702]
 * Changed definition of exn_raise_syserr to include an ml string.
 *
@


1.10
log
@add exn Size
@
text
@d13 3
d125 1
d130 1
a130 1
nonreturning(extern void, exn_raise_syserr, (char const *, int));
@


1.10.9.1
log
@branched from 1.10
@
text
@a12 3
 * Revision 1.10  1996/06/04  13:30:20  io
 * add exn Size
 *
@


1.10.9.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a12 3
 * Revision 1.10.9.1  1997/05/12  10:40:19  hope
 * branched from 1.10
 *
@


1.10.9.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a12 3
 * Revision 1.10.9.1  1997/05/12  10:40:19  hope
 * branched from 1.10
 *
@


1.10.9.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a12 3
 * Revision 1.10.9.1  1997/05/12  10:40:19  hope
 * branched from 1.10
 *
@


1.10.9.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a12 3
 * Revision 1.10.9.1.1.1  1997/07/28  18:25:36  daveb
 * branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
@


1.10.8.1
log
@branched from 1.10
@
text
@a12 3
 * Revision 1.10  1996/06/04  13:30:20  io
 * add exn Size
 *
@


1.10.7.1
log
@branched from 1.10
@
text
@a12 3
 * Revision 1.10  1996/06/04  13:30:20  io
 * add exn Size
 *
@


1.10.7.1.1.1
log
@branched from 1.10.7.1
@
text
@a12 3
 * Revision 1.10.7.1  1996/12/17  17:53:22  hope
 * branched from 1.10
 *
@


1.10.6.1
log
@branched from 1.10
@
text
@a12 3
 * Revision 1.10  1996/06/04  13:30:20  io
 * add exn Size
 *
@


1.10.5.1
log
@branched from 1.10
@
text
@a12 3
 * Revision 1.10  1996/06/04  13:30:20  io
 * add exn Size
 *
@


1.10.4.1
log
@branched from 1.10
@
text
@a12 3
 * Revision 1.10  1996/06/04  13:30:20  io
 * add exn Size
 *
@


1.10.4.1.1.1
log
@branched from 1.10.4.1
@
text
@a12 3
 * Revision 1.10.4.1  1996/11/14  12:56:51  hope
 * branched from 1.10
 *
@


1.10.3.1
log
@branched from 1.10
@
text
@a12 3
 * Revision 1.10  1996/06/04  13:30:20  io
 * add exn Size
 *
@


1.10.2.1
log
@branched from 1.10
@
text
@a12 3
 * Revision 1.10  1996/06/04  13:30:20  io
 * add exn Size
 *
@


1.10.1.1
log
@branched from 1.10
@
text
@a12 3
 * Revision 1.10  1996/06/04  13:30:20  io
 * add exn Size
 *
@


1.9
log
@exn_raise_syserr: change the second argument to an int and
make it raise (string * NONE) if the int is 0.
@
text
@d13 4
d89 1
@


1.8
log
@Removing some exceptions
@
text
@d13 3
d121 1
a121 1
nonreturning(extern void, exn_raise_syserr, (char const *, mlval));
@


1.7
log
@Add exn_raise_syserror and corresponding exception to support
latest verison of OS.* in the basis.
@
text
@d13 4
a82 6
extern mlval perv_exn_ref_sum;
extern mlval perv_exn_ref_diff;
extern mlval perv_exn_ref_prod;
extern mlval perv_exn_ref_quot;
extern mlval perv_exn_ref_floor;
extern mlval perv_exn_ref_mod;
@


1.6
log
@Remove StorageManager exception.
@
text
@d13 3
d102 1
d120 1
@


1.5
log
@Add exception Overflow
@
text
@d13 3
a85 1
extern mlval perv_exn_ref_StorageManager;
@


1.4
log
@Add threads exception.
@
text
@d13 3
d80 1
@


1.3
log
@The method of declaring functions to be non-returning has changed.
@
text
@d13 3
d92 1
@


1.2
log
@new file
@
text
@d13 3
d101 5
a105 5
extern nonreturning void exn_raise(mlval exn_ref);
extern nonreturning void exn_raise_string(mlval exn_ref, const char *string);
extern nonreturning void exn_raise_strings(mlval exn_ref, ...);
extern nonreturning void exn_raise_int(mlval exn_ref, int i);
extern nonreturning void exn_raise_format(mlval exn_ref, const char *format, ...);
@


1.2.1.1
log
@branched from 1.2
@
text
@a12 3
 * Revision 1.2  1994/06/09  14:50:07  nickh
 * new file
 *
@


1.1
log
@new file
@
text
@d12 4
a15 1
 *  $Log: exceptions.h,v $
@

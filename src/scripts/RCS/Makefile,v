head	1.33;
access;
symbols
	MLW_daveb_inline_1_4_99:1.33.1
	MLWorks_21c0_1999_03_25:1.33
	MLWorks_20c1_1998_08_20:1.33
	MLWorks_20c0_1998_08_04:1.32
	MLWorks_20b2c2_1998_06_19:1.31
	MLWorks_20b2_Windows_1998_06_12:1.30
	MLWorks_20b1c1_1998_05_07:1.29
	MLWorks_20b0_1998_04_07:1.29
	MLWorks_20b0_1998_03_20:1.28
	MLWorks_20m2_1998_02_16:1.28
	MLWorks_20m1_1997_10_23:1.25
	MLWorks_11r1:1.23.1.1.1.5.1
	MLWorks_workspace_97:1.23.3
	MLWorks_dt_wizard:1.23.2
	MLWorks_11c0_1997_09_09:1.23.1.1.1.5
	MLWorks_10r3:1.23.1.1.3
	MLWorks_10r2_551:1.23.1.1.2
	MLWorks_11:1.23.1.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.23.1.1
	MLWorks_20m0_1997_06_20:1.23
	MLWorks_1_0_r2c2_1997_06_14:1.23.1.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.23.1.1
	MLWorks_1_0_r2c1_1997_05_12:1.23.1
	MLWorks_BugFix_1997_04_24:1.23
	MLWorks_1_0_r2_Win32_1997_04_11:1.23
	MLWorks_1_0_r2_Unix_1997_04_04:1.23
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.21.2.1.1
	MLWorks_gui_1996_12_18:1.21.3
	MLWorks_1_0_Win32_1996_12_17:1.21.2
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.20.1.1.1.2
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.20.1.2
	MLWorks_1_0_Irix_1996_11_28:1.20.1.1.1
	MLWorks_1_0_Win32_1996_11_22:1.21.1
	MLWorks_1_0_Unix_1996_11_14:1.20.1
	MLWorks_Open_Beta2_1996_10_11:1.18.1
	MLWorks_License_dev:1.17.2
	MLWorks_1_open_beta_1996_09_13:1.17.1
	MLWorks_Open_Beta_1996_08_22:1.15
	MLWorks_Beta_1996_07_02:1.11
	MLWorks_Beta_1996_06_07:1.8
	MLWorks_Beta_1996_06_06:1.8
	MLWorks_Beta_1996_06_05:1.8
	MLWorks_Beta_1996_06_03:1.8
	MLWorks_Beta_1996_05_31:1.8
	MLWorks_Beta_1996_05_30:1.8
	ML_beta_release_12/08/94:1.4
	ML_beta_release_03/08/94:1.4
	ML_revised_beta_release_25/05/94:1.4
	ML_final_beta_release_02/03/94:1.4
	mlworks-28-01-1994:1.3
	Release:1.1
	mlworks-beta-01-09-1993:1.1;
locks; strict;
comment	@# @;


1.33
date	98.08.27.16.13.46;	author mitchell;	state Exp;
branches
	1.33.1.1;
next	1.32;

1.32
date	98.06.23.13.56.23;	author jkbrook;	state Exp;
branches;
next	1.31;

1.31
date	98.06.17.11.13.31;	author jkbrook;	state Exp;
branches;
next	1.30;

1.30
date	98.06.12.09.21.25;	author jkbrook;	state Exp;
branches;
next	1.29;

1.29
date	98.04.06.12.44.34;	author jkbrook;	state Exp;
branches;
next	1.28;

1.28
date	98.02.06.16.12.25;	author jkbrook;	state Exp;
branches;
next	1.27;

1.27
date	98.02.06.14.10.09;	author jkbrook;	state Exp;
branches;
next	1.26;

1.26
date	97.12.16.14.42.34;	author jont;	state Exp;
branches;
next	1.25;

1.25
date	97.10.01.17.19.42;	author jkbrook;	state Exp;
branches;
next	1.24;

1.24
date	97.09.30.10.44.47;	author jkbrook;	state Exp;
branches;
next	1.23;

1.23
date	97.04.04.09.55.25;	author daveb;	state Exp;
branches
	1.23.1.1
	1.23.2.1
	1.23.3.1;
next	1.22;

1.22
date	97.01.09.11.25.45;	author jont;	state Exp;
branches;
next	1.21;

1.21
date	96.11.15.17.35.12;	author daveb;	state Exp;
branches
	1.21.1.1
	1.21.2.1
	1.21.3.1;
next	1.20;

1.20
date	96.11.06.15.30.14;	author jont;	state Exp;
branches
	1.20.1.1;
next	1.19;

1.19
date	96.10.11.16.16.32;	author jont;	state Exp;
branches;
next	1.18;

1.18
date	96.10.11.15.01.50;	author jont;	state Exp;
branches
	1.18.1.1;
next	1.17;

1.17
date	96.09.03.11.22.51;	author jont;	state Exp;
branches
	1.17.1.1
	1.17.2.1;
next	1.16;

1.16
date	96.08.23.12.28.02;	author jont;	state Exp;
branches;
next	1.15;

1.15
date	96.08.20.11.23.22;	author daveb;	state Exp;
branches;
next	1.14;

1.14
date	96.08.16.10.53.49;	author jont;	state Exp;
branches;
next	1.13;

1.13
date	96.07.31.13.50.26;	author jont;	state Exp;
branches;
next	1.12;

1.12
date	96.07.04.15.55.09;	author jont;	state Exp;
branches;
next	1.11;

1.11
date	96.07.02.16.18.59;	author jont;	state Exp;
branches;
next	1.10;

1.10
date	96.06.24.16.31.09;	author daveb;	state Exp;
branches;
next	1.9;

1.9
date	96.06.14.13.28.35;	author jont;	state Exp;
branches;
next	1.8;

1.8
date	96.05.29.12.05.04;	author jont;	state Exp;
branches;
next	1.7;

1.7
date	96.04.23.10.49.38;	author jont;	state Exp;
branches;
next	1.6;

1.6
date	96.04.02.16.33.07;	author jont;	state Exp;
branches;
next	1.5;

1.5
date	96.03.01.17.05.05;	author jont;	state Exp;
branches;
next	1.4;

1.4
date	94.01.31.11.43.50;	author daveb;	state Exp;
branches;
next	1.3;

1.3
date	93.09.28.10.46.47;	author daveb;	state Exp;
branches;
next	1.2;

1.2
date	93.09.28.10.44.56;	author daveb;	state Exp;
branches;
next	1.1;

1.1
date	93.08.28.17.00.10;	author daveb;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	93.08.28.17.00.10;	author jont;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	93.09.28.10.29.09;	author daveb;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	93.09.28.10.46.08;	author daveb;	state Exp;
branches;
next	;

1.17.1.1
date	96.09.13.11.25.56;	author hope;	state Exp;
branches;
next	;

1.17.2.1
date	96.10.07.16.16.28;	author hope;	state Exp;
branches;
next	;

1.18.1.1
date	96.10.17.11.35.49;	author hope;	state Exp;
branches;
next	;

1.20.1.1
date	96.11.14.13.04.05;	author hope;	state Exp;
branches
	1.20.1.1.1.1;
next	1.20.1.2;

1.20.1.2
date	96.12.05.17.33.00;	author jont;	state Exp;
branches;
next	;

1.20.1.1.1.1
date	96.11.28.15.13.28;	author hope;	state Exp;
branches;
next	1.20.1.1.1.2;

1.20.1.1.1.2
date	96.12.05.17.35.42;	author jont;	state Exp;
branches;
next	;

1.21.1.1
date	96.11.22.18.21.29;	author hope;	state Exp;
branches;
next	;

1.21.2.1
date	96.12.17.17.59.27;	author hope;	state Exp;
branches
	1.21.2.1.1.1;
next	;

1.21.2.1.1.1
date	97.02.24.11.51.02;	author hope;	state Exp;
branches;
next	;

1.21.3.1
date	96.12.18.09.54.47;	author hope;	state Exp;
branches;
next	;

1.23.1.1
date	97.05.12.10.49.31;	author hope;	state Exp;
branches
	1.23.1.1.1.1
	1.23.1.1.2.1
	1.23.1.1.3.1;
next	;

1.23.1.1.1.1
date	97.07.28.18.32.04;	author daveb;	state Exp;
branches;
next	1.23.1.1.1.2;

1.23.1.1.1.2
date	97.08.07.12.12.03;	author daveb;	state Exp;
branches;
next	1.23.1.1.1.3;

1.23.1.1.1.3
date	97.08.07.16.20.19;	author daveb;	state Exp;
branches;
next	1.23.1.1.1.4;

1.23.1.1.1.4
date	97.08.08.17.22.30;	author daveb;	state Exp;
branches;
next	1.23.1.1.1.5;

1.23.1.1.1.5
date	97.08.22.13.41.08;	author jkbrook;	state Exp;
branches
	1.23.1.1.1.5.1.1;
next	;

1.23.1.1.1.5.1.1
date	97.10.07.11.58.11;	author jkbrook;	state Exp;
branches;
next	;

1.23.1.1.2.1
date	97.09.08.17.25.15;	author daveb;	state Exp;
branches;
next	;

1.23.1.1.3.1
date	97.09.09.14.21.55;	author daveb;	state Exp;
branches;
next	;

1.23.2.1
date	97.09.10.19.40.57;	author brucem;	state Exp;
branches;
next	;

1.23.3.1
date	97.09.11.21.08.36;	author daveb;	state Exp;
branches;
next	;

1.33.1.1
date	99.04.01.18.07.10;	author daveb;	state Exp;
branches;
next	;


desc
@Makefile to copy scripts to distribution directory.
@


1.33
log
@[Bug #30470]
Add mlworks.gif to the distribution
@
text
@# MOVE SCRIPTS AND MAN PAGES TO DISTRIBUTION DIRECTORY
#
# This directory contains the scripts and man pages needed for the
# MLWorks distribution.  This Makefile puts them in the right place.
#
# Revision Log
# ------------
# $Log: Makefile,v $
# Revision 1.32  1998/06/23  13:56:23  jkbrook
# [Bug #30427]
# Different formatting required for legal agreement under Windows
#
# Revision 1.31  1998/06/17  11:13:31  jkbrook
# [Bug #30424]
# Restore links to doc from MLWorks
#
# Revision 1.30  1998/06/12  09:21:25  jkbrook
# [Bug #30411]
# Include file containing licence agreement
#
# Revision 1.29  1998/04/06  12:44:34  jkbrook
# [Bug #50046]
# Temporarily include dummy HTML file for Help menu
#
# Revision 1.28  1998/02/06  16:12:25  jkbrook
# [Bug #30132]
# README.TXT should be README on Unix
#
# Revision 1.27  1998/02/06  14:10:09  jkbrook
# [Bug #30216]
# Adding -tty script for Windows
#
# Revision 1.26  1997/12/16  14:42:34  jont
# [Bug #30246]
# Move dummy script creation from rts/GNUmakefile to scripts/Makefile
#
# Revision 1.25  1997/10/01  17:19:42  jkbrook
# [Bug #20088]
# Merging from MLWorks_11:
# SML'96 should be SML'97
#
# Revision 1.24  1997/09/30  10:44:47  jkbrook
# [Bug #30254]
# Adding single entry page for html documentation
#
# Revision 1.23  1997/04/04  09:55:25  daveb
# Moved README to README.TXT
#
# Revision 1.22  1997/01/09  11:25:45  jont
# [Bug #1816]
# Some modifications to cope with new version of GNU tools
#
# Revision 1.21  1996/11/15  17:35:12  daveb
# Added bug-template.txt to the top level items.
#
# Revision 1.20  1996/11/06  15:30:14  jont
# Add mlimage-console.bat.in and mlimage-windows.bat.in
# Remove mlimage.bat.in
#
# Revision 1.19  1996/10/11  16:16:32  jont
# Remove INSTALL.TXT from PC distribution
#
# Revision 1.18  1996/10/11  15:01:50  jont
# More improvements to building install-mlworks
#
# Revision 1.17  1996/09/03  11:22:51  jont
# Sort out problems making stuff universally readable
#
# Revision 1.16  1996/08/23  12:28:02  jont
# Ensure all directories and files created are world readable
#
# Revision 1.15  1996/08/20  11:23:22  daveb
# Changed default destination directory from /usr/sml to /u/sml.
#
# Revision 1.14  1996/08/16  10:53:49  jont
# Add mlimage to list of man pages to be put in a release
#
# Revision 1.13  1996/07/31  13:50:26  jont
# install has become install-mlworks
#
# Revision 1.12  1996/07/04  15:55:09  jont
# Add mlworks-basis.in to list of scripts for distribution
#
# Revision 1.11  1996/07/02  16:18:59  jont
# Add mlimage.bat.in to list of scripts for Win32
#
# Revision 1.10  1996/06/24  16:31:09  daveb
# Added sml_96.ps.
#
# Revision 1.9  1996/06/14  13:28:35  jont
# Modify so correct scripts are installed under NT
#
# Revision 1.8  1996/05/29  12:05:04  jont
# Add mlimage to set of scripts
#
# Revision 1.7  1996/04/23  10:49:38  jont
# Tidying up for Win95 and NT distributions
#
# Revision 1.6  1996/04/02  16:33:07  jont
# Modify install en route to distribution directory to acquire
# ARCH and OS en route
#
# Revision 1.5  1996/03/01  17:05:05  jont
# Modifications to make distribution work on NT
#
# Revision 1.4  1994/01/31  11:43:50  daveb
# Added chmod comand to make install script executable after copying.
#
# Revision 1.3  1993/09/28  10:46:47  daveb
# Merged in bug fix.
#
# Revision 1.1.1.3  1993/09/28  10:46:08  daveb
# Added Log.
#

DISTDIR = /u/sml/distribution

ifeq "$(OS)" "NT"
NTTYPE=TRUE
else
ifeq "$(OS)" "Win95"
NTTYPE=TRUE
else
NTTYPE=FALSE
endif
endif
ifeq "$(NTTYPE)" "TRUE"
RM		= rm -rf
CP		= cp
MKDIR		= mkdir
else
RM      = /bin/rm -rf
CP      = /bin/cp -p
MKDIR   = /bin/mkdir
endif

chmod_exec=chmod 775
chmod_non_exec=chmod 664
chmod_read_only=chmod 444

ifeq "$(NTTYPE)" "TRUE"
TOPLEVEL = README.TXT sml_97.ps bug-template.txt winlicense.txt
else
TOPLEVEL = INSTALL.TXT README.TXT sml_97.ps bug-template.txt license.txt
endif

ENV = cshenv.in emacs.in rcenv.in shenv.in
MAN1 = mlbatch.1.in mlrun.1.in mlpervasive.1.in mlworks.1.in mlimage.1.in mlworks-basis.1.in
ifeq "$(NTTYPE)" "TRUE"
SCRIPTS = mlbatch.bat.in mlpervasive.bat.in mlimage-console.bat.in mlimage-windows.bat.in mlconsole.bat.in
HTML = doc_indx.htm hqnlogo.gif mlworks.gif
else
SCRIPTS = mlbatch.in mlpervasive.in mlworks.in mlworks-basis.in mlimage.in 
endif

ifeq "$(NTTYPE)" "TRUE"
distribution: toplevel scripts html
else
distribution: toplevel env man1 scripts install_script
endif

toplevel: $(TOPLEVEL)
	cd $(DISTDIR) && $(RM) $(TOPLEVEL)
	$(CP) $(TOPLEVEL) $(DISTDIR)
	$(chmod_read_only) $(TOPLEVEL:%=$(DISTDIR)/%)
ifeq "$(NTTYPE)" "TRUE"
	cd $(DISTDIR) && mv winlicense.txt license.txt
else
	cd $(DISTDIR) && mv README.TXT README
endif

install_script: install-mlworks
	cd $(DISTDIR) && $(RM) install-mlworks
ifeq "$(OS)" "Solaris"
	sed -e "s/ARCH=SPARC/ARCH=$(ARCH)/g;s/OS=SunOS/OS=$(OS)/g;s?XKEYSYMDB=/usr/lib/X11/XKeysymDB?XKEYSYMDB=/usr/openwin/lib/X11/XKeysymDB?g" install-mlworks > $(DISTDIR)/install-mlworks
else
ifeq "$(OS)" "Irix"
	sed -e "s/ARCH=SPARC/ARCH=$(ARCH)/g;s/OS=SunOS/OS=$(OS)/g;s?XKEYSYMDB=/usr/lib/X11/XKeysymDB?#XKEYSYMDB=/usr/lib/X11/XKeysymDB?g;s?export XKEYSYMDB?#export XKEYSYMDB?g" install-mlworks > $(DISTDIR)/install-mlworks
else
	sed -e "s/ARCH=SPARC/ARCH=$(ARCH)/g;s/OS=SunOS/OS=$(OS)/g" install-mlworks > $(DISTDIR)/install-mlworks
endif
endif
	chmod 555 $(DISTDIR)/install-mlworks

env: $(ENV)
	$(RM) -r $(DISTDIR)/env
	$(MKDIR) $(DISTDIR)/env
	$(CP) $(ENV) $(DISTDIR)/env
	$(chmod_read_only) $(ENV:%=$(DISTDIR)/env/%)

man1: $(MAN1)
	$(RM) -r $(DISTDIR)/man
	$(MKDIR) $(DISTDIR)/man $(DISTDIR)/man/man1
	$(CP) $(MAN1) $(DISTDIR)/man/man1
	$(chmod_read_only) $(MAN1:%=$(DISTDIR)/man/man1/%)

scripts: $(SCRIPTS)
ifeq "$(NTTYPE)" "TRUE"
	cat NUL: > $(DISTDIR)/bin/$(ARCH)/$(OS)/mlbatch.bat
	cat NUL: > $(DISTDIR)/bin/$(ARCH)/$(OS)/mlpervasive.bat
	cat NUL: > $(DISTDIR)/bin/$(ARCH)/$(OS)/mlimage-windows.bat
	cat NUL: > $(DISTDIR)/bin/$(ARCH)/$(OS)/mlimage-console.bat
	cat NUL: > $(DISTDIR)/bin/$(ARCH)/$(OS)/mlconsole.bat
endif
	cd $(DISTDIR) && $(RM) scripts
	$(MKDIR) $(DISTDIR)/scripts
	$(CP) $(SCRIPTS) $(DISTDIR)/scripts
	$(chmod_read_only) $(SCRIPTS:%=$(DISTDIR)/scripts/%)

html: $(HTML)
	cd $(DISTDIR) && $(RM) html 
	$(MKDIR) $(DISTDIR)/html
	$(CP) $(HTML) $(DISTDIR)/html
	$(chmod_read_only) $(HTML:%=$(DISTDIR)/html/%)
@


1.33.1.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a8 4
# Revision 1.33  1998/08/27  16:13:46  mitchell
# [Bug #30470]
# Add mlworks.gif to the distribution
#
@


1.32
log
@[Bug #30427]
Different formatting required for legal agreement under Windows
@
text
@d9 4
d151 1
a151 1
HTML = doc_indx.htm hqnlogo.gif
@


1.31
log
@[Bug #30424]
Restore links to doc from MLWorks
@
text
@d9 4
d138 1
a138 1
TOPLEVEL = README.TXT sml_97.ps bug-template.txt license.txt
d163 1
@


1.30
log
@[Bug #30411]
Include file containing licence agreement
@
text
@d9 4
a140 2
# temporarily make this apply to all platforms
HTML = doc_indx.htm hqnlogo.gif dummy_doc.htm
d143 1
d151 1
a151 1
distribution: toplevel env man1 scripts install_script html
a205 1
	mv $(DISTDIR)/html/dummy_doc.htm $(DISTDIR)/html/index.htm
@


1.29
log
@[Bug #50046]
Temporarily include dummy HTML file for Help menu
@
text
@d9 4
d130 1
a130 1
TOPLEVEL = README.TXT sml_97.ps bug-template.txt
d132 1
a132 1
TOPLEVEL = INSTALL.TXT README.TXT sml_97.ps bug-template.txt
@


1.28
log
@[Bug #30132]
README.TXT should be README on Unix
@
text
@d9 4
d133 2
a136 1
HTML = doc_indx.htm hqnlogo.gif
d144 1
a144 1
distribution: toplevel env man1 scripts install_script
d199 1
@


1.27
log
@[Bug #30216]
Adding -tty script for Windows
@
text
@d9 4
d146 4
@


1.26
log
@[Bug #30246]
Move dummy script creation from rts/GNUmakefile to scripts/Makefile
@
text
@d9 4
d126 1
a126 1
SCRIPTS = mlbatch.bat.in mlpervasive.bat.in mlimage-console.bat.in mlimage-windows.bat.in
d174 1
@


1.25
log
@[Bug #20088]
Merging from MLWorks_11:
SML'96 should be SML'97
@
text
@d9 5
d165 6
@


1.24
log
@[Bug #30254]
Adding single entry page for html documentation
@
text
@d9 4
d109 1
a109 1
TOPLEVEL = README.TXT sml_96.ps bug-template.txt
d111 1
a111 1
TOPLEVEL = INSTALL.TXT README.TXT sml_96.ps bug-template.txt
@


1.23
log
@Moved README to README.TXT
@
text
@d9 3
d114 1
d120 1
a120 1
distribution: toplevel scripts
d160 6
@


1.23.3.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a8 3
# Revision 1.23  1997/04/04  09:55:25  daveb
# Moved README to README.TXT
#
@


1.23.2.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a8 3
# Revision 1.23  1997/04/04  09:55:25  daveb
# Moved README to README.TXT
#
@


1.23.1.1
log
@branched from 1.23
@
text
@a8 3
# Revision 1.23  1997/04/04  09:55:25  daveb
# Moved README to README.TXT
#
@


1.23.1.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a8 3
# Revision 1.23.1.1  1997/05/12  10:49:31  hope
# branched from 1.23
#
@


1.23.1.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a8 3
# Revision 1.23.1.1  1997/05/12  10:49:31  hope
# branched from 1.23
#
@


1.23.1.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a8 3
# Revision 1.23.1.1  1997/05/12  10:49:31  hope
# branched from 1.23
#
@


1.23.1.1.1.2
log
@[Bug #30191]
Remove mlimage-* from Student edition.
@
text
@a8 3
# Revision 1.23.1.1.1.1  1997/07/28  18:32:04  daveb
# branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
#
d114 1
a114 1
MAN1 = mlbatch.1.in mlrun.1.in mlpervasive.1.in mlworks.1.in mlworks-basis.1.in
d116 1
a116 1
SCRIPTS = mlbatch.bat.in mlpervasive.bat.in 
d118 1
a118 1
SCRIPTS = mlbatch.in mlpervasive.in mlworks.in mlworks-basis.in 
@


1.23.1.1.1.3
log
@[Bug #30198]
Removed mlbatch.bat from Student Edition.
@
text
@a8 4
# Revision 1.23.1.1.1.2  1997/08/07  12:12:03  daveb
# [Bug #30191]
# Remove mlimage-* from Student edition.
#
d117 1
a117 1
MAN1 = mlrun.1.in mlpervasive.1.in mlworks.1.in
d119 1
a119 1
SCRIPTS = mlpervasive.bat.in 
d121 1
a121 1
SCRIPTS = mlpervasive.in mlworks.in 
@


1.23.1.1.1.4
log
@[Bug #20088]
Change sml_96.ps to sml_97.ps.
@
text
@a8 4
# Revision 1.23.1.1.1.3  1997/08/07  16:20:19  daveb
# [Bug #30198]
# Removed mlbatch.bat from Student Edition.
#
d115 1
a115 1
TOPLEVEL = README.TXT sml_97.ps bug-template.txt
d117 1
a117 1
TOPLEVEL = INSTALL.TXT README.TXT sml_97.ps bug-template.txt
@


1.23.1.1.1.5
log
@[Bug #30191]
Restore mlimage-console.bat (and mlimage / mlimage.1.in) since
in 1.1 users can still create images by saving sessions
@
text
@a8 4
# Revision 1.23.1.1.1.4  1997/08/08  17:22:30  daveb
# [Bug #20088]
# Change sml_96.ps to sml_97.ps.
#
d125 1
a125 1
MAN1 = mlrun.1.in mlpervasive.1.in mlworks.1.in mlimage.1.in
d127 1
a127 1
SCRIPTS = mlpervasive.bat.in mlimage-console.bat.in 
d129 1
a129 1
SCRIPTS = mlpervasive.in mlworks.in mlimage.in 
@


1.23.1.1.1.5.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a8 5
# Revision 1.23.1.1.1.5  1997/08/22  13:41:08  jkbrook
# [Bug #30191]
# Restore mlimage-console.bat (and mlimage / mlimage.1.in) since
# in 1.1 users can still create images by saving sessions
#
@


1.22
log
@[Bug #1816]
[Bug #1816]
Some modifications to cope with new version of GNU tools
@
text
@d9 4
d102 1
a102 1
TOPLEVEL = README sml_96.ps bug-template.txt
d104 1
a104 1
TOPLEVEL = INSTALL.TXT README sml_96.ps bug-template.txt
@


1.21
log
@Added bug-template.txt to the top level items.
@
text
@d9 3
d84 1
a84 1
RM		= c:/usr/local/bin/rm -rf
d88 1
a88 1
RM      = /bin/rm -f
d118 1
a118 1
	$(RM) $(TOPLEVEL:%=$(DISTDIR)/%)
d123 1
a123 1
	$(RM) $(DISTDIR)/install-mlworks
d148 1
a148 1
	$(RM) -r $(DISTDIR)/scripts
a149 4
ifeq "$(NTTYPE)" "TRUE"
	sh -c "for x in $(SCRIPTS); do $(CP) $$x $(DISTDIR)/scripts; done"
	sh -c "for x in $(DISTDIR)/scripts/*.in; do $(chmod_read_only) $$x; done"
else
a151 1
endif
@


1.21.3.1
log
@branched from 1.21
@
text
@a8 3
# Revision 1.21  1996/11/15  17:35:12  daveb
# Added bug-template.txt to the top level items.
#
@


1.21.2.1
log
@branched from 1.21
@
text
@a8 3
# Revision 1.21  1996/11/15  17:35:12  daveb
# Added bug-template.txt to the top level items.
#
@


1.21.2.1.1.1
log
@branched from 1.21.2.1
@
text
@a8 3
# Revision 1.21.2.1  1996/12/17  17:59:27  hope
# branched from 1.21
#
@


1.21.1.1
log
@branched from 1.21
@
text
@a8 3
# Revision 1.21  1996/11/15  17:35:12  daveb
# Added bug-template.txt to the top level items.
#
@


1.20
log
@Add mlimage-console.bat.in and mlimage-windows.bat.in
Remove mlimage.bat.in
@
text
@d9 4
d95 1
a95 1
TOPLEVEL = README sml_96.ps
d97 1
a97 1
TOPLEVEL = INSTALL.TXT README sml_96.ps
@


1.20.1.1
log
@branched from 1.20
@
text
@a8 4
# Revision 1.20  1996/11/06  15:30:14  jont
# Add mlimage-console.bat.in and mlimage-windows.bat.in
# Remove mlimage.bat.in
#
@


1.20.1.2
log
@Add bug-template.txt to top level stuff
@
text
@a8 3
# Revision 1.20.1.1  1996/11/14  13:04:05  hope
# branched from 1.20
#
d95 1
a95 1
TOPLEVEL = README sml_96.ps bug-template.txt
d97 1
a97 1
TOPLEVEL = INSTALL.TXT README sml_96.ps bug-template.txt
@


1.20.1.1.1.1
log
@branched from 1.20.1.1
@
text
@a8 3
# Revision 1.20.1.1  1996/11/14  13:04:05  hope
# branched from 1.20
#
@


1.20.1.1.1.2
log
@Add bug-template.txt to top level stuff
@
text
@a8 3
# Revision 1.20.1.1.1.1  1996/11/28  15:13:28  hope
# branched from 1.20.1.1
#
d98 1
a98 1
TOPLEVEL = README sml_96.ps bug-template.txt
d100 1
a100 1
TOPLEVEL = INSTALL.TXT README sml_96.ps bug-template.txt
@


1.19
log
@Remove INSTALL.TXT from PC distribution
@
text
@d9 3
d99 1
a99 1
SCRIPTS = mlbatch.bat.in mlpervasive.bat.in mlimage.bat.in
d101 1
a101 1
SCRIPTS = mlbatch.in mlpervasive.in mlworks.in mlworks-basis.in mlimage.in
d143 4
d149 1
@


1.18
log
@More improvements to building install-mlworks
@
text
@d9 3
d87 3
d91 1
@


1.18.1.1
log
@branched from 1.18
@
text
@a8 3
# Revision 1.18  1996/10/11  15:01:50  jont
# More improvements to building install-mlworks
#
@


1.17
log
@Sort out problems making stuff universally readable
@
text
@d9 3
d107 6
d114 2
@


1.17.2.1
log
@branched from 1.17
@
text
@a8 3
# Revision 1.17  1996/09/03  11:22:51  jont
# Sort out problems making stuff universally readable
#
@


1.17.1.1
log
@branched from 1.17
@
text
@a8 3
# Revision 1.17  1996/09/03  11:22:51  jont
# Sort out problems making stuff universally readable
#
@


1.16
log
@Ensure all directories and files created are world readable
@
text
@d9 3
d100 1
a100 1
	$(chmod_read_only) $(DISTDIR)/$(TOPLEVEL)
d111 1
d117 1
a117 1
	$(chmod_read_only) $(DISTDIR)/man/man1/$(MAN1)
d123 1
a123 1
	$(chmod_read_only) $(DISTDIR)/scripts/$(SCRIPTS)
@


1.15
log
@Changed default destination directory from /usr/sml to /u/sml.
@
text
@d9 3
d74 4
d97 1
d113 1
d119 1
@


1.14
log
@Add mlimage to list of man pages to be put in a release
@
text
@d9 3
d50 1
a50 1
DISTDIR = /usr/sml/distribution
@


1.13
log
@install has become install-mlworks
@
text
@d9 3
d71 1
a71 1
MAN1 = mlbatch.1.in mlrun.1.in mlpervasive.1.in mlworks.1.in
@


1.12
log
@Add mlworks-basis.in to list of scripts for distribution
@
text
@d9 3
d85 4
a88 4
install_script: install
	$(RM) $(DISTDIR)/install
	sed -e "s/ARCH=SPARC/ARCH=$(ARCH)/g;s/OS=SunOS/OS=$(OS)/g" install > $(DISTDIR)/install
	chmod 555 $(DISTDIR)/install
@


1.11
log
@Add mlimage.bat.in to list of scripts for Win32
@
text
@d9 3
d69 1
a69 1
SCRIPTS = mlbatch.in mlpervasive.in mlworks.in mlimage.in
@


1.10
log
@Added sml_96.ps.
@
text
@d9 3
d64 1
a64 1
SCRIPTS = mlbatch.bat.in mlpervasive.bat.in
@


1.9
log
@Modify so correct scripts are installed under NT
@
text
@d9 3
d56 1
a56 1
TOPLEVEL = INSTALL.TXT README
@


1.8
log
@Add mlimage to set of scripts
@
text
@d9 3
d57 3
d61 1
@


1.7
log
@Tidying up for Win95 and NT distributions
@
text
@d9 3
d54 1
a54 1
SCRIPTS = mlbatch.in mlpervasive.in mlworks.in
@


1.6
log
@Modify install en route to distribution directory to acquire
ARCH and OS en route
@
text
@d9 4
d53 3
d57 1
d59 1
a59 1
toplevel: $(TOPLEVEL) install_script
a61 1
	chmod 555 $(DISTDIR)/install
d66 1
@


1.5
log
@Modifications to make distribution work on NT
@
text
@d9 3
d43 1
a43 1
TOPLEVEL = install INSTALL.TXT README
d49 1
a49 1
distribution: toplevel env man1 scripts
d51 1
a51 1
toplevel: $(TOPLEVEL)
d55 4
@


1.4
log
@Added chmod comand to make install script executable after copying.
@
text
@d9 3
d21 14
d38 3
a41 1
TOPLEVEL = install INSTALL README
@


1.3
log
@Merged in bug fix.
@
text
@d9 3
d32 1
@


1.2
log
@Merged in bug fix.
@
text
@d5 7
@


1.1
log
@Initial revision
@
text
@d8 3
a10 1
RMFLAGS = -f
d20 2
a21 2
	rm $(RMFLAGS) $(TOPLEVEL:%=$(DISTDIR)/%)
	cp $(TOPLEVEL) $(DISTDIR)
d24 3
a26 2
	rm $(RMFLAGS) $(ENV:%=$(DISTDIR)/env/%)
	cp $(ENV) $(DISTDIR)/env
d29 3
a31 2
	rm $(RMFLAGS) $(MAN1:%=$(DISTDIR)/man/man1/%)
	cp $(MAN1) $(DISTDIR)/man/man1
d34 3
a36 2
	rm $(RMFLAGS) $(SCRIPTS:%=$(DISTDIR)/scripts/%)
	cp $(SCRIPTS) $(DISTDIR)/scripts
@


1.1.1.1
log
@Fork for bug fixing
@
text
@@


1.1.1.2
log
@Ensure that target subdirectories are cleaned before copying stuff across.
@
text
@d8 1
a8 3
RM      = /bin/rm -f
CP      = /bin/cp -p
MKDIR   = /bin/mkdir
d18 2
a19 2
	$(RM) $(TOPLEVEL:%=$(DISTDIR)/%)
	$(CP) $(TOPLEVEL) $(DISTDIR)
d22 2
a23 3
	$(RM) -r $(DISTDIR)/env
	$(MKDIR) $(DISTDIR)/env
	$(CP) $(ENV) $(DISTDIR)/env
d26 2
a27 3
	$(RM) -r $(DISTDIR)/man
	$(MKDIR) $(DISTDIR)/man $(DISTDIR)/man/man1
	$(CP) $(MAN1) $(DISTDIR)/man/man1
d30 2
a31 3
	$(RM) -r $(DISTDIR)/scripts
	$(MKDIR) $(DISTDIR)/scripts
	$(CP) $(SCRIPTS) $(DISTDIR)/scripts
@


1.1.1.3
log
@Added Log.
@
text
@a4 4
#
# Revision Log
# ------------
# $Log$
@



















































































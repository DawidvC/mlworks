head	1.7;
access;
symbols
	MLW_daveb_inline_1_4_99:1.7.1
	MLWorks_21c0_1999_03_25:1.7
	MLWorks_20c1_1998_08_20:1.6
	MLWorks_20c0_1998_08_04:1.6
	MLWorks_20b2c2_1998_06_19:1.5
	MLWorks_20b2_Windows_1998_06_12:1.5
	MLWorks_20b1c1_1998_05_07:1.5
	MLWorks_20b0_1998_04_07:1.5
	MLWorks_20b0_1998_03_20:1.5
	MLWorks_20m2_1998_02_16:1.5
	MLWorks_20m1_1997_10_23:1.5
	MLWorks_11r1:1.5.3.1.1.3.1
	MLWorks_workspace_97:1.5.5
	MLWorks_dt_wizard:1.5.4
	MLWorks_11c0_1997_09_09:1.5.3.1.1.3
	MLWorks_10r3:1.5.3.1.3
	MLWorks_10r2_551:1.5.3.1.2
	MLWorks_11:1.5.3.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.5.3.1
	MLWorks_20m0_1997_06_20:1.5
	MLWorks_1_0_r2c2_1997_06_14:1.5.3.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.5.3.1
	MLWorks_1_0_r2c1_1997_05_12:1.5.3
	MLWorks_BugFix_1997_04_24:1.5
	MLWorks_1_0_r2_Win32_1997_04_11:1.5
	MLWorks_1_0_r2_Unix_1997_04_04:1.5
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.5.1.1.1
	MLWorks_gui_1996_12_18:1.5.2
	MLWorks_1_0_Win32_1996_12_17:1.5.1
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.4.4.1.1.2
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.4.4.2
	MLWorks_1_0_Irix_1996_11_28:1.4.4.1.1
	MLWorks_1_0_Win32_1996_11_22:1.4.5
	MLWorks_1_0_Unix_1996_11_14:1.4.4
	MLWorks_Open_Beta2_1996_10_11:1.4.3
	MLWorks_License_dev:1.4.2
	MLWorks_1_open_beta_1996_09_13:1.4.1
	MLWorks_Open_Beta_1996_08_22:1.3
	MLWorks_Beta_1996_07_02:1.1
	MLWorks_Beta_1996_06_07:1.1
	MLWorks_Beta_1996_06_06:1.1
	MLWorks_Beta_1996_06_05:1.1
	MLWorks_Beta_1996_06_03:1.1
	MLWorks_Beta_1996_05_31:1.1
	MLWorks_Beta_1996_05_30:1.1
	ML_beta_release_12/08/94:1.1
	ML_beta_release_03/08/94:1.1
	ML_revised_beta_release_25/05/94:1.1
	ML_final_beta_release_02/03/94:1.1
	mlworks-28-01-1994:1.1
	Release:1.1
	mlworks-beta-01-09-1993:1.1;
locks; strict;


1.7
date	98.10.19.15.59.35;	author jont;	state Exp;
branches
	1.7.1.1;
next	1.6;

1.6
date	98.07.07.10.26.57;	author jont;	state Exp;
branches;
next	1.5;

1.5
date	96.12.05.11.38.19;	author daveb;	state Exp;
branches
	1.5.1.1
	1.5.2.1
	1.5.3.1
	1.5.4.1
	1.5.5.1;
next	1.4;

1.4
date	96.08.23.15.50.35;	author daveb;	state Exp;
branches
	1.4.1.1
	1.4.2.1
	1.4.3.1
	1.4.4.1
	1.4.5.1;
next	1.3;

1.3
date	96.08.19.16.43.13;	author andrews;	state Exp;
branches;
next	1.2;

1.2
date	96.08.16.02.23.56;	author andrews;	state Exp;
branches;
next	1.1;

1.1
date	93.08.31.14.14.39;	author daveb;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	93.08.31.14.14.39;	author jont;	state Exp;
branches;
next	;

1.4.1.1
date	96.09.13.11.26.09;	author hope;	state Exp;
branches;
next	;

1.4.2.1
date	96.10.07.16.16.40;	author hope;	state Exp;
branches;
next	;

1.4.3.1
date	96.10.17.11.36.08;	author hope;	state Exp;
branches;
next	;

1.4.4.1
date	96.11.14.13.04.18;	author hope;	state Exp;
branches
	1.4.4.1.1.1;
next	1.4.4.2;

1.4.4.2
date	96.12.05.12.16.28;	author daveb;	state Exp;
branches;
next	;

1.4.4.1.1.1
date	96.11.28.15.13.41;	author hope;	state Exp;
branches;
next	1.4.4.1.1.2;

1.4.4.1.1.2
date	96.12.05.12.23.57;	author daveb;	state Exp;
branches;
next	;

1.4.5.1
date	96.11.22.18.21.43;	author hope;	state Exp;
branches;
next	;

1.5.1.1
date	96.12.17.17.59.41;	author hope;	state Exp;
branches
	1.5.1.1.1.1;
next	;

1.5.1.1.1.1
date	97.02.24.11.51.18;	author hope;	state Exp;
branches;
next	;

1.5.2.1
date	96.12.18.09.55.01;	author hope;	state Exp;
branches;
next	;

1.5.3.1
date	97.05.12.10.49.45;	author hope;	state Exp;
branches
	1.5.3.1.1.1
	1.5.3.1.2.1
	1.5.3.1.3.1;
next	;

1.5.3.1.1.1
date	97.07.28.18.31.56;	author daveb;	state Exp;
branches;
next	1.5.3.1.1.2;

1.5.3.1.1.2
date	97.08.07.16.34.30;	author daveb;	state Exp;
branches;
next	1.5.3.1.1.3;

1.5.3.1.1.3
date	97.08.29.13.04.44;	author jkbrook;	state Exp;
branches
	1.5.3.1.1.3.1.1;
next	;

1.5.3.1.1.3.1.1
date	97.10.07.11.58.02;	author jkbrook;	state Exp;
branches;
next	;

1.5.3.1.2.1
date	97.09.08.17.25.03;	author daveb;	state Exp;
branches;
next	;

1.5.3.1.3.1
date	97.09.09.14.21.46;	author daveb;	state Exp;
branches;
next	;

1.5.4.1
date	97.09.10.19.40.48;	author brucem;	state Exp;
branches;
next	;

1.5.5.1
date	97.09.11.21.08.27;	author daveb;	state Exp;
branches;
next	;

1.7.1.1
date	99.04.01.18.07.19;	author daveb;	state Exp;
branches;
next	;


desc
@Manual page for mlrun.
@


1.7
log
@[Bug #70203]
Modify for new argument passing
@
text
@'\" t
.TH MLRUN 1 1996-08-15 Harlequin MLWORKS
.SH NAME
mlrun \- MLWorks runtime system
.SH SYNOPSIS
.B mlrun
[
.I options
]
.I object-file-names
.SH DESCRIPTION
.LP
.B mlrun
provides the run-time environment support for executing MLWorks object
files.  Object files have a
.B .mo
suffix.  The object files are loaded in the order listed.
The order in which you list the object files for loading is important,
since an object file may only refer to code from files that have
already been loaded.  
.SH FILE OPTIONS
.TP 6
.B --
This option does nothing, but nothing after it on the command line
is treated as an option.
.TP
.B -load \fIfilename
Load an image from
.I filename
before loading any object files.
.TP
.B -from \fIfilename
Read object-file names from the file
.I filename
before reading them from the command line.
.TP
.B -save \fIfilename
Load all object files specified and then save the image in
.I filename.
.TP
.B -MLWpass \fIdelimiter argument... delimiter
Passes the arguments between the
.I delimiter
strings through to the runtime. Any arguments passed after the closing
delimiter will be passed through to the runtime environment. When
running with the standard pervasive library these further arguments
will appear as the result of the basis function CommandLine.arguments,
or the MLWorks function MLWorks.arguments. The delimiter may be any
string.
.SH MEMORY MANAGEMENT OPTIONS
.TP 6
.B -c \fIn
Report garbage collections at level
.I n
and above.
.TP
.B -limit \fIn,
Specifies an advisory arena extent size in Mb (default 100).
Collection frequency will increase as the amount of
virtual memory used by the process approaches this amount.
.TP
.B -stack \fIn,
Set the initial maximum number of stack blocks to
.I n\fR.
.TP
.B -batch,
Run in non-interactive mode; i.e. do not prompt when
virtual memory is exhausted.
.SH PROFILING OPTIONS
.TP 6
.B -profile \fIfilename
Profile the entire run, recording profiling information in
.I filename.
.TP
.B -profile-scan \fIn
When profiling, scan the stack every
.I n
virtual milliseconds to
gather information.  An interval of zero disables scanning.
Scanning is not enabled by default.
.TP
.B -profile-depth \fIn
When profiling with scanning, record patterns of caller functions
to a depth of
.I n
callers.  The default is zero.
.TP
-profile-select \fIstring
When profiling, only record information about functions which include
.I string
in their names.  By default, all functions are profiled.
.TP
.B -profile-manner \fIn
A bit value to determine which forms of profiling are to be done.
Relevant bits are: 
.RS 8
.TP
Bit 0 - set for call counting
.TP
Bit 1 - set for time profiling
.TP
Bit 2 - set for space profiling
.TP
Bit 3 - set for space profile copying analysis 
.RS 8
(survival times for allocated values) 
.RE
.TP
Bits 8-15 - set for space profile runtime type analysis
.RS 6
(allocation and copying broken down according to "type")
.RE
.RE
.SH MISCELLANEOUS OPTIONS
.TP 6
.B -mono
Use the X resources for a monochrome screen.
.TP
.B -verbose
Display information about the activities of the runtime system.
.TP
.B -statistics
Display various internal statistics at the end of the run.
.TP
.B -help
Display information about command usage.
.SH MESSAGE OUTPUT
.LP
Any messages output by the runtime system will be sent to the
standard error stream.  Messages which are not fatal errors are
enclosed in brackets (\fB[\fR and \fB]\fR) and printed on a new line.
These are not usually nested.
.SH FILES
.PD 0
.LP
.B $MLWORKSDIR/pervasive/__builtin_library.mo
.LP
.B $MLWORKSDIR/pervasive/__pervasive_library.mo
.LP
.RS 4
MLWorks pervasive library object files necessary for executing all SML
sources compiled by MLWorks. 
.PD
.RE
.PD 0
.LP
.B $IMAGEDIR/pervasive.img
.LP
.RS 4
The pervasive image.
.PD
.RE
.SH SEE ALSO
.BR mlpervasive (1),
.BR mlimage (1),
.BR mlbatch (1),
.BR mlworks (1),
.BR mlworks-basis (1)
.LP
.I MLWorks User Guide

@


1.7.1.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@@


1.6
log
@[Bug #20122]
Move pervasive signatures into __pervasive_library.sml
@
text
@d41 1
a41 1
.B -pass \fIdelimiter argument... delimiter
d44 6
a49 4
strings through to the runtime
environment of the object files.  When running with the standard pervasive
library these will appear as the result of the function
MLWorks.arguments.  The delimiter may be any string.
@


1.5
log
@Updated for the release.  Some options have changed.  Improved layout.
Removed vast amount of information, some of which is out of date, and
none of which should be here anyway.
@
text
@a135 14
.B $MLWORKSDIR/pervasive/string.mo
.LP
.B $MLWORKSDIR/pervasive/array.mo
.LP
.B $MLWORKSDIR/pervasive/vector.mo
.LP
.B $MLWORKSDIR/pervasive/bits.mo
.LP
.B $MLWORKSDIR/pervasive/bytearray.mo
.LP
.B $MLWORKSDIR/pervasive/general.mo
.LP
.B $MLWORKSDIR/pervasive/mlworks.mo
.LP
@


1.5.5.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@@


1.5.4.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@@


1.5.3.1
log
@branched from 1.5
@
text
@@


1.5.3.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@@


1.5.3.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@@


1.5.3.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@@


1.5.3.1.1.2
log
@[Bug #30198]
Updated for Student Edition.
@
text
@d167 4
a170 1
.BR mlworks (1)
@


1.5.3.1.1.3
log
@[Bug #30191]
Checking for references to scripts not distributed with 1.1
@
text
@a167 1
.BR mlimage (1)
@


1.5.3.1.1.3.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@@


1.5.2.1
log
@branched from 1.5
@
text
@@


1.5.1.1
log
@branched from 1.5
@
text
@@


1.5.1.1.1.1
log
@branched from 1.5.1.1
@
text
@@


1.4
log
@[Bug #1570]
Removed description of -plock option, which no longer exists.
@
text
@d10 1
a10 1
.I modules
d14 8
a21 4
provides the run-time environment support for MLWorks modules.
Modules are loaded in order from the specified files.  Each module may
only refer to the results of loading previously loaded modules. 
.SH OPTIONS
d23 4
d30 1
a30 1
before loading any modules.
d33 1
a33 1
Read module file names from the file
d38 1
a38 1
Load all modules specified and then save the image in
d41 9
d51 3
a53 2
Set collection message level to
.I n.
d55 4
a58 3
.B -gc-statistics \fIfilename
Write garbage collection statistics to
.I filename.
d60 9
a71 1
This option overrides previous profiling options with the defaults.
d112 4
a115 15
.TP
.B -backtrace-depth \fIdepth
Maximum depth of the backtrace if an exception occurs.
.TP
.B -print \fIdepth length indent tags
Control the way values are output by default.
.I Depth
is the maximum nesting of structures,
.I length
is the maximum length of strings,
.I indent,
if non-zero, causes values to be printed on separate lines using
indentation to show structure, and
.I tags,
if non-zero, causes internal value information to be displayed.
a122 22
.B -pass \fIdelimiter argument... delimiter
Passes the arguments between the
.I delimiter
strings through to the runtime
environment of the modules.  When running with the standard pervasive
library these will appear as the result of the function
MLWorks.arguments.  The delimiter may be any string.
.TP
.B -storeman \fIdelimiter arg... delimiter
Pass arguments between the
.I delimiter
strings to the storage manager.
The only such argument currently recognised is
.B -limit \fIn,
which specifies an advisory arena extent size in Mb (default 100).
Collection frequency will increase as the amount of
virtual memory used by the process approaches this amount.
.TP
.B --
This option does nothing, but nothing after it on the command line
is treated as an option.
.TP
d127 1
a127 1
The runtime system will output messages in various categories to the
d130 1
a130 352
These are not usually nested, although messages from the storage
manager and garbage collector may become so in certain circumstances.
.SS INFORMATION
.LP
If the
.B -verbose
option is specified the runtime system will write a selection of the
following messages to the standard error stream as it progresses:
.RS 2
.LP
Passing arguments to modules.
.PD 0
.LP
Loading image from file `\fIname\fR'
.LP
Saving image to file `\fIname\fR'
.LP
Loading module `\fIname\fR'
.LP
Profiling to file `\fIname\fR' with scanning interval
.I n
and depth
.I n
.LP
Reading module filenames from file `\fIname\fR'
.LP
Writing garbage collection statistics to file `\fIname\fR'
.LP
Total loading time \fIn\fRms.
.RE
.PD
.LP
The garbage collector in the supplied storage manager will also
output messages depending on the argument to the
.B -c
option.  An positive argument of
.I N
enables messages concerning generation
.I N
or higher.  A negative argument enables detailed messages, including
generation sizes, concerning generation
.I -N-1
or higher.  Setting
.I N
to some large number will disable messages.
.LP
Short garbage collection messages are of the form
.LP
.RS 2
.B [Collection
.I details
.B \fIt\fBms, \fIsize\fBMb]
.RE
.LP
The time is the number of milliseconds spent in the collector and the
size is the total amount of virtual memory allocated from the
operating system for heaps, stacks, etc.  The details consist of one
or more of the following:
.TP
.B new \fIN
A new generation numbered
.I N
is being created.
.TP
.B promote \fIN
The contents of generation
.I N
are being collected into generation
.I N+1.
The age of the data in a generation increases exponentially with the
generation number, and the frequency with which they are
collected varies as the negative exponential of the generation
number.  It also takes longer to collect higher numbered generations.
.TP
.B merge \fIN
If there are a large number of generations then they may be merged
together in order to reduce the cost of garbage collection.  This
message indicates that generation
.I N
has been merged with generation
.I N+1
and all higher generations have been renumbered.
.LP
The longer message is similar (and contains all of the information in
the short version) but includes details of the current state of the
heap.  An example message for a small heap is:
.LP
.TS
l s s s s s s s s
lw(1) r r r r r r r lw(1).
[Collection new 1 promote 0 133ms, 4Mb, 0.00
	gen	coll	resident	extent	limit	entry	large	
	0	0.00	0	262144	262144	2	0	
	1	0.00	76898	262144	4194304	0	0	]
.TE
.LP
The floating point number after the size is the
.I frequency.
This number is a function of the size figure and the advisory
memory limit (see
.BR OPTIONS ),
and controls how vigorously collections occur.  As this
value approaches 1.0 the number of collections increases.  The table
columns are:
.TP
.B gen
The generation number.
.TP
.B coll
A collection occurs when this number reaches 1.0.  It is accumulated
from a function of the
.I frequency.
.TP
.B resident
The number of words of data in the generation.  This data is not
necessarily live.
.TP
.B extent
The amount of virtual memory allocated from the operating system to
accommodate the resident data.  This increases and decreases in fairly
large chunks in order to minimise overheads.
.TP
.B limit
A soft limit on the amount of resident data that can be placed in a
generation before it is collected.  The limit is not usually exercised
on generations other than zero.
.TP
.B entry
The number of objects on the entry list.  An entry list contains
objects which point to objects younger than themselves.  The entry
list of generation
.I N
contains objects in older generations which may point to it.
.TP
.B large
The number of large objects `in' the generation.  Large objects are
allocated and collected specially.
.SS MEMORY WARNINGS
.LP
If the amount of live data on the heap exceeds the advisory limit set
by the
.B -size
option the garbage collector will increase the limit in order to
behave sensibly with respect to collection frequencies.  When it does
this the following message is output:
.RS 2
.LP
Warning: Live data exceeds advisory limit of \fIN\fRMb.  Temporarily
increasing limit to \fIP\fRMb.
.RE
.LP
If and when the amount of live data drops back below the limit the
following message is output:
.RS 2
.LP
Size limit restored to \fIN\fRMb.
.RE
.LP
The supplied storage manager will try hard to ensure that the running
process does not die due to lack of memory.  If memory is required and
the operating system refuses to allocate it the following message will
appear:
.RS 2
.LP
Warning: Unable to obtain virtual memory.  Waiting 1 seconds.
.RE
.LP
After approximately one second the memory will be requested again, in
the hope that the shortage was temporary.  If this fails the message
appears again, but this time for 2 seconds.  This may happen several
times, and each time the period doubles.  If all attempts fail the
following message appears:
.RS 2
.LP
Unable to obtain virtual memory (\fIN\fRMb used, \fIM\fRKb requested);
suspending process.  Another attempt will be made if process is
resumed.  (process ID \fIpid\fR)
.RE
.LP
The runtime system then sends itself a
.B SIGSTOP
signal (see
.BR signal (3))
and you may find yourself back at your shell prompt if you are using a
shell with job control.  You should then try to free virtual memory on
your machine, perhaps by terminating other processes or ML compilers.
To resume the runtime system send it a CONT signal using
.BR kill (1)
or use your shell's job control.  The runtime system will output the
message:
.RS 2
.LP
Resuming after virtual memory suspension.
.RE
.LP
and try once again to obtain the memory it needs.
.LP
Alternatively, if you cannot free up enough virtual memory you will
need to terminate the runtime process using
.BR kill (1).
.SS ERRORS
.LP
This section lists the fatal error that may occur and their causes.
.LP
.PD 0
Image loading is not implemented by this storage manager.
.LP
Image saving is not implemented by this storage manager.
.PD
.RS 4
These errors occur when using the
.B -load
and
.B -save
options with a runtime system in which the storage manager has been
replaced with one which does not implement images.  They should not
occur with the supplied runtime system.
.RE
.LP
Overlong filename in module list file `\fIname\fR'.
.RS 4
Occurs with the 
.B -from
option.
.RE
.LP
.PD 0
The file `\fIname\fR' is not in the correct image format.
.LP
The image file `\fIname\fR' is incompatible with the current version of the image loader.
.LP
The image loader was unable to allocate enough memory while loading the file `\fIname\fR'.
.LP
The image loader was unable to open the file `\fIname\fR'.
.LP
The loader was unable to read from the file `\fIname\fR' despite being able to open it.
.PD
.RS 4
These errors occur in conjunction with the
.B -load
option.
.RE
.LP
.PD 0
The image saver was unable to open the file `\fIname\fR'.
.LP
The image saver was unable to write to the file `\fIname\fR'.
.PD
.RS 4
These errors occur in conjunction with the
.B -save
option.
.RE
.LP
.PD 0
An unknown option `\fIarg\fR' was specified.  Use `-help' for help.
.LP
The wrong number of arguments were specified for the option `\fIoption\fR'.  Use
-help for help.
.LP
Missing closing delimiter after option `\fIoption\fR'.  Use `-help' for help.
.PD
.RS 4
These errors occur when the form of the call to 
.B mlrun
is incorrect. 
.RE
.LP
The file `\fIname\fR' contains a module of a version the loader does not understand.
.RS 4
This error should not occur in general as you should be supplied with
a coherent set of tools.
.RE
.LP
The file `\fIname\fR' is not in the correct loader format.
.RS 4
Check that the module files specified is really a module file output
from the compiler.  If it is then either it has been corrupted or
there is a problem with the compiler.
.RE
.LP
The global state in the image file `\fIname\fR' does not correspond to that of
this runtime system.
.RS 4
This error indicates that the runtime system is not compatible with
the image.  It should only occur when an image from one release is
used with a runtime system from another, incompatible, release.
.RE
.LP
.PD 0
The loader was unable to open the file `\fIname\fR'.
.LP
The loader was unable to read from the file `\fIname\fR' despite being able to open it.
.PD
.RS 4
Check that the specified files exist and are not protected against reading.
.RE
.LP
The module in the file `\fIname\fR' references an unloaded external module called `\fIname\fR'.
.RS 4
The module files must be specified in bottom-up order.  Before a
module can be loaded, every module that it requires must have been
loaded.   
.RE
.LP
.PD 0
Unable to open `\fIname\fR' for writing.
.LP
Unable to close statistics file.
.PD
.RS 4
These errors occur in conjunction with the
.B -gc-statistics
option.
.RE
.LP
Unable to open module list file `\fIname\fR'.
.RS 4
This probably means that the file specified by
.B -from
does not exist.
.RE
.LP
Unable to open profiling output file `\fIname\fR'.
.RS 4
Check that you have permision to write the file and that the name is
not already used by a directory.
.RE
.LP
.PD 0
`\fIarg\fR' is not a number.
.LP
`\fIarg\fR' is not an unsigned number.
.PD
.RS 4
These indicate a mistake when specifying a numeric argument to one of
the options.
.RE
.LP
Unable to find \fIN\fR contiguous free blocks in the block space.
.RS 4
This error may occur if a very large amount of stack is required, but
it is unlikely.  Contact Harlequin's MLWorks technical support if you
have a special requirement. 
.RE
.LP
A size of \fIN\fRMb is too large.
.RS 4
The argument to
.B -size
must be sensible when using the supplied storage manager.
.RE
d146 2
d153 2
a154 1
Initial modules required by all SML modules compiled by MLWorks.
d172 1
a172 1
.I MLWorks: User's Guide to the Environment
@


1.4.5.1
log
@branched from 1.4
@
text
@@


1.4.4.1
log
@branched from 1.4
@
text
@@


1.4.4.2
log
@Updated for the release.  Some options have changed.  Improved layout.
Removed vast amount of information, some of which is out of date, and
none of which should be here anyway.
@
text
@d10 1
a10 1
.I object-file-names
d14 4
a17 8
provides the run-time environment support for executing MLWorks object
files.  Object files have a
.B .mo
suffix.  The object files are loaded in the order listed.
The order in which you list the object files for loading is important,
since an object file may only refer to code from files that have
already been loaded.  
.SH FILE OPTIONS
a18 4
.B --
This option does nothing, but nothing after it on the command line
is treated as an option.
.TP
d22 1
a22 1
before loading any object files.
d25 1
a25 1
Read object-file names from the file
d30 1
a30 1
Load all object files specified and then save the image in
a32 9
.B -pass \fIdelimiter argument... delimiter
Passes the arguments between the
.I delimiter
strings through to the runtime
environment of the object files.  When running with the standard pervasive
library these will appear as the result of the function
MLWorks.arguments.  The delimiter may be any string.
.SH MEMORY MANAGEMENT OPTIONS
.TP 6
d34 2
a35 3
Report garbage collections at level
.I n
and above.
d37 3
a39 4
.B -limit \fIn,
Specifies an advisory arena extent size in Mb (default 100).
Collection frequency will increase as the amount of
virtual memory used by the process approaches this amount.
a40 9
.B -stack \fIn,
Set the initial maximum number of stack blocks to
.I n\fR.
.TP
.B -batch,
Run in non-interactive mode; i.e. do not prompt when
virtual memory is exhausted.
.SH PROFILING OPTIONS
.TP 6
d44 1
d85 15
a99 4
.SH MISCELLANEOUS OPTIONS
.TP 6
.B -mono
Use the X resources for a monochrome screen.
d107 22
d133 1
a133 1
Any messages output by the runtime system will be sent to the
d136 352
a487 1
These are not usually nested.
a502 2
.B $MLWORKSDIR/pervasive/general.mo
.LP
d508 1
a508 2
MLWorks pervasive library object files necessary for executing all SML
sources compiled by MLWorks. 
d526 1
a526 1
.I MLWorks User Guide
@


1.4.4.1.1.1
log
@branched from 1.4.4.1
@
text
@@


1.4.4.1.1.2
log
@Updated for the release.  Some options have changed.  Improved layout.
Removed vast amount of information, some of which is out of date, and
none of which should be here anyway.
@
text
@d10 1
a10 1
.I object-file-names
d14 4
a17 8
provides the run-time environment support for executing MLWorks object
files.  Object files have a
.B .mo
suffix.  The object files are loaded in the order listed.
The order in which you list the object files for loading is important,
since an object file may only refer to code from files that have
already been loaded.  
.SH FILE OPTIONS
a18 4
.B --
This option does nothing, but nothing after it on the command line
is treated as an option.
.TP
d22 1
a22 1
before loading any object files.
d25 1
a25 1
Read object-file names from the file
d30 1
a30 1
Load all object files specified and then save the image in
a32 9
.B -pass \fIdelimiter argument... delimiter
Passes the arguments between the
.I delimiter
strings through to the runtime
environment of the object files.  When running with the standard pervasive
library these will appear as the result of the function
MLWorks.arguments.  The delimiter may be any string.
.SH MEMORY MANAGEMENT OPTIONS
.TP 6
d34 2
a35 3
Report garbage collections at level
.I n
and above.
d37 3
a39 4
.B -limit \fIn,
Specifies an advisory arena extent size in Mb (default 100).
Collection frequency will increase as the amount of
virtual memory used by the process approaches this amount.
a40 9
.B -stack \fIn,
Set the initial maximum number of stack blocks to
.I n\fR.
.TP
.B -batch,
Run in non-interactive mode; i.e. do not prompt when
virtual memory is exhausted.
.SH PROFILING OPTIONS
.TP 6
d44 1
d85 15
a99 4
.SH MISCELLANEOUS OPTIONS
.TP 6
.B -mono
Use the X resources for a monochrome screen.
d107 22
d133 1
a133 1
Any messages output by the runtime system will be sent to the
d136 352
a487 1
These are not usually nested.
a502 2
.B $MLWORKSDIR/pervasive/general.mo
.LP
d508 1
a508 2
MLWorks pervasive library object files necessary for executing all SML
sources compiled by MLWorks. 
d526 1
a526 1
.I MLWorks User Guide
@


1.4.3.1
log
@branched from 1.4
@
text
@@


1.4.2.1
log
@branched from 1.4
@
text
@@


1.4.1.1
log
@branched from 1.4
@
text
@@


1.3
log
@To add note about MLWorks.arguments

To remove -show argument

To make a stylistic change
@
text
@a106 4
.B -plock
Attempt to lock process in real memory, then set effective uid of
the process to real uid.  This option requires root privilege.
.TP
a154 2
Process locked in real memory.
.LP
a335 20
.LP
If you are using the
.B -plock
option you may get the message
.RS 2
.LP
Warning: Real memory has been exhausted.  Process unlocked from real memory.
.RE
.LP
This is usually followed by a fatal error as the condition is
irrecoverable.
.LP
If the
.B -plock
option is specified and there is too little real memory to perform the
locking, the following message is printed and the option is ignored.
.LP
.RS 2
Warning: Insufficient memory to lock process.
.RE
a352 8
.RE
.LP
Insufficient privilege to lock process.
.RS 4
This error occurs if the
.B -plock
option is specified and the runtime process is not running as the
super-user.
@


1.2
log
@Updating for MLWorks 1.0 unrestricted Beta release.
@
text
@a40 3
.B -show
Display the result of the final module.
.TP
d116 2
a117 2
library these will appear as the result of one of the MLWorks specific
functions.  The delimiter may be any string.
d470 3
a472 2
The module files must be specified in bottom-up order.  Every module
required by a module must have been loaded before it can be.
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
.TH MLRUN 1 1993-08-26 Harlequin MLWORKS
a32 4
.B -d \fIn
Set diagnostic level to
.I n.
.TP
d38 2
a39 1
Write garbage collection statistics to file.
d67 22
d149 1
a149 1
options is specified the runtime system will write a selection of the
d436 3
a438 1
These errors should not occur if you have read this document carefully.
d514 2
a515 1
it is unlikely.  Contact Harlequin if you have a special requirement.
d557 1
d559 2
a560 1
.BR mlworks (1)
d562 2
a563 1
.I MLWorks User Guide
@


1.1.1.1
log
@Fork for bug fixing
@
text
@@

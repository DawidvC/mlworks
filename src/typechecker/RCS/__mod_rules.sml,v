head	1.21;
access;
symbols
	MLW_daveb_inline_1_4_99:1.21.11
	MLWorks_21c0_1999_03_25:1.21
	MLWorks_20c1_1998_08_20:1.21
	MLWorks_20c0_1998_08_04:1.21
	MLWorks_20b2c2_1998_06_19:1.21
	MLWorks_20b2_Windows_1998_06_12:1.21
	MLWorks_20b1c1_1998_05_07:1.21
	MLWorks_20b0_1998_04_07:1.21
	MLWorks_20b0_1998_03_20:1.21
	MLWorks_20m2_1998_02_16:1.21
	MLWorks_20m1_1997_10_23:1.21
	MLWorks_11r1:1.21.8.1.1.1.1
	MLWorks_workspace_97:1.21.10
	MLWorks_dt_wizard:1.21.9
	MLWorks_11c0_1997_09_09:1.21.8.1.1.1
	MLWorks_10r3:1.21.8.1.3
	MLWorks_10r2_551:1.21.8.1.2
	MLWorks_11:1.21.8.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.21.8.1
	MLWorks_20m0_1997_06_20:1.21
	MLWorks_1_0_r2c2_1997_06_14:1.21.8.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.21.8.1
	MLWorks_1_0_r2c1_1997_05_12:1.21.8
	MLWorks_BugFix_1997_04_24:1.21
	MLWorks_1_0_r2_Win32_1997_04_11:1.21
	MLWorks_1_0_r2_Unix_1997_04_04:1.21
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.21.6.1.1
	MLWorks_gui_1996_12_18:1.21.7
	MLWorks_1_0_Win32_1996_12_17:1.21.6
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.21.4.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.21.4.1
	MLWorks_1_0_Irix_1996_11_28:1.21.4.1.1
	MLWorks_1_0_Win32_1996_11_22:1.21.5
	MLWorks_1_0_Unix_1996_11_14:1.21.4
	MLWorks_Open_Beta2_1996_10_11:1.21.3
	MLWorks_License_dev:1.21.2
	MLWorks_1_open_beta_1996_09_13:1.21.1
	MLWorks_Open_Beta_1996_08_22:1.21
	MLWorks_Beta_1996_07_02:1.21
	MLWorks_Beta_1996_06_07:1.21
	MLWorks_Beta_1996_06_06:1.21
	MLWorks_Beta_1996_06_05:1.21
	MLWorks_Beta_1996_06_03:1.21
	MLWorks_Beta_1996_05_31:1.21
	MLWorks_Beta_1996_05_30:1.21
	ML_beta_release_12/08/94:1.19
	ML_beta_release_03/08/94:1.19
	ML_revised_beta_release_25/05/94:1.19
	ML_final_beta_release_02/03/94:1.19
	mlworks-28-01-1994:1.19
	Release:1.19
	mlworks-beta-01-09-1993:1.19
	MLWorks-1-0-4-29/01/1993:1.16
	MLWorks-1-0-3-21/12/1992:1.16
	MLWorks-1-0-2-15/12/1992:1.16
	MLWorks-1-0-1-04/12/1992:1.15
	checkpoint_17_08_92:1.12
	Ten15_release_19-11-91:1.2
	Ten15_release_21-08-91:1.2
	Ten15_release_19-08-91:1.2
	ten15_release:1.2;
locks; strict;
comment	@ * @;


1.21
date	95.04.05.14.51.52;	author matthew;	state Exp;
branches
	1.21.1.1
	1.21.2.1
	1.21.3.1
	1.21.4.1
	1.21.5.1
	1.21.6.1
	1.21.7.1
	1.21.8.1
	1.21.9.1
	1.21.10.1
	1.21.11.1;
next	1.20;

1.20
date	95.02.07.16.11.19;	author matthew;	state Exp;
branches;
next	1.19;

1.19
date	93.05.10.16.14.05;	author matthew;	state Exp;
branches
	1.19.1.1;
next	1.18;

1.18
date	93.02.08.19.22.48;	author matthew;	state Exp;
branches;
next	1.17;

1.17
date	93.01.21.11.38.37;	author matthew;	state Exp;
branches;
next	1.16;

1.16
date	92.12.08.18.18.49;	author jont;	state Exp;
branches;
next	1.15;

1.15
date	92.11.04.17.59.54;	author matthew;	state Exp;
branches;
next	1.14;

1.14
date	92.09.04.09.04.32;	author clive;	state Exp;
branches;
next	1.13;

1.13
date	92.09.04.09.04.32;	author richard;	state Exp;
branches;
next	1.12;

1.12
date	92.08.12.11.26.13;	author jont;	state Exp;
branches;
next	1.11;

1.11
date	92.08.04.13.31.48;	author jont;	state Exp;
branches;
next	1.10;

1.10
date	92.08.04.12.06.22;	author davidt;	state Exp;
branches;
next	1.9;

1.9
date	92.06.30.10.30.05;	author jont;	state Exp;
branches;
next	1.8;

1.8
date	92.04.22.12.05.50;	author jont;	state Exp;
branches;
next	1.7;

1.7
date	92.04.15.12.44.10;	author jont;	state Exp;
branches;
next	1.6;

1.6
date	92.01.27.17.56.48;	author jont;	state Exp;
branches;
next	1.5;

1.5
date	92.01.10.20.37.53;	author jont;	state Exp;
branches;
next	1.4;

1.4
date	91.11.20.11.11.31;	author richard;	state Exp;
branches;
next	1.3;

1.3
date	91.11.19.19.15.26;	author jont;	state Exp;
branches;
next	1.2;

1.2
date	91.06.27.17.02.37;	author colin;	state Exp;
branches;
next	1.1;

1.1
date	91.06.07.11.16.34;	author colin;	state Exp;
branches;
next	;

1.19.1.1
date	93.05.10.16.14.05;	author jont;	state Exp;
branches;
next	;

1.21.1.1
date	96.09.13.11.41.57;	author hope;	state Exp;
branches;
next	;

1.21.2.1
date	96.10.07.16.35.04;	author hope;	state Exp;
branches;
next	;

1.21.3.1
date	96.10.17.11.54.09;	author hope;	state Exp;
branches;
next	;

1.21.4.1
date	96.11.14.13.22.04;	author hope;	state Exp;
branches
	1.21.4.1.1.1;
next	;

1.21.4.1.1.1
date	96.11.28.15.32.51;	author hope;	state Exp;
branches;
next	;

1.21.5.1
date	96.11.22.18.39.31;	author hope;	state Exp;
branches;
next	;

1.21.6.1
date	96.12.17.18.18.32;	author hope;	state Exp;
branches
	1.21.6.1.1.1;
next	;

1.21.6.1.1.1
date	97.02.24.12.12.47;	author hope;	state Exp;
branches;
next	;

1.21.7.1
date	96.12.18.10.13.50;	author hope;	state Exp;
branches;
next	;

1.21.8.1
date	97.05.12.10.52.04;	author hope;	state Exp;
branches
	1.21.8.1.1.1
	1.21.8.1.2.1
	1.21.8.1.3.1;
next	;

1.21.8.1.1.1
date	97.07.28.18.33.52;	author daveb;	state Exp;
branches
	1.21.8.1.1.1.1.1;
next	;

1.21.8.1.1.1.1.1
date	97.10.07.11.59.51;	author jkbrook;	state Exp;
branches;
next	;

1.21.8.1.2.1
date	97.09.08.17.26.58;	author daveb;	state Exp;
branches;
next	;

1.21.8.1.3.1
date	97.09.09.14.23.50;	author daveb;	state Exp;
branches;
next	;

1.21.9.1
date	97.09.10.19.42.48;	author brucem;	state Exp;
branches;
next	;

1.21.10.1
date	97.09.11.21.10.17;	author daveb;	state Exp;
branches;
next	;

1.21.11.1
date	99.04.01.18.08.49;	author daveb;	state Exp;
branches;
next	;


desc
@Rules (53-102) See The Definition
@


1.21
log
@Removing timer structure
@
text
@(* __mod_rules the structure *)
(*
$Log: __mod_rules.sml,v $
Revision 1.20  1995/02/07  16:11:19  matthew
Removing debug stuff

Revision 1.19  1993/05/10  16:14:05  matthew
 Added TypeDebugger structure

Revision 1.18  1993/02/08  19:22:48  matthew
Changes for BASISTYPES signature.  Added new structures.

Revision 1.17  1993/01/21  11:38:37  matthew
Rationalised parameter

Revision 1.16  1992/12/08  18:18:49  jont
Removed a number of duplicated signatures and structures

Revision 1.15  1992/11/04  17:59:54  matthew
Changed Error structure to Info

Revision 1.14  1992/09/04  09:04:32  clive
Anel's changes for encapsulating assemblies

Revision 1.13  1992/09/04  09:04:32  richard
Installed central error reporting mechanism.

Revision 1.12  1992/08/12  11:26:13  jont
Removed some redundant structure arguments and sharing
Converted where relevant to use NewMap.{forall,exists,iterate}

Revision 1.11  1992/08/04  13:31:48  jont
Anel's changes to use NewMap instead of Map

Revision 1.9  1992/06/30  10:30:05  jont
Changed to imperative implementation of namesets with hashing

Revision 1.8  1992/04/22  12:05:50  jont
Added newsigma parameter

Revision 1.7  1992/04/15  12:44:10  jont
Added timer structure to functor parameter

Revision 1.6  1992/01/27  17:56:48  jont
Added ty_debug parameter

Revision 1.5  1992/01/10  20:37:53  jont
Added integer structure for debugging purposes

Revision 1.4  1991/11/20  11:11:31  richard
Added dependency on new Strenv module.

Revision 1.3  91/11/19  19:15:26  jont
Added crash parameter

Revision 1.2  91/06/27  17:02:37  colin
changed to handle Interface annotations in signature expressions

Revision 1.1  91/06/07  11:16:34  colin
Initial revision

Copyright (c) 1991 Harlequin Ltd.
*)

require "../utils/__lists";
require "../utils/__print";
require "../utils/__crash";
require "../basics/__identprint";
require "../main/__info";
require "../typechecker/__types";
require "../typechecker/__scheme";
require "../typechecker/__valenv";
require "../typechecker/__tyenv";
require "../typechecker/__strenv";
require "../typechecker/__environment";
require "../typechecker/__strnames";
require "../typechecker/__core_rules";
require "../typechecker/__realise";
require "../typechecker/__sharetypes";
require "../typechecker/__share";
require "../typechecker/__basis";
require "../typechecker/__sigma";
require "../typechecker/__nameset";
require "../typechecker/__type_debugger";
require "../typechecker/_mod_rules";

structure Module_rules_ = Module_rules(
  structure Lists      = Lists_
  structure Print      = Print_
  structure Crash      = Crash_
  structure IdentPrint = IdentPrint_
  structure Types      = Types_
  structure Scheme     = Scheme_
  structure Valenv     = Valenv_
  structure Tyenv      = Tyenv_
  structure Strenv     = Strenv_
  structure Env        = Environment_
  structure Strnames   = Strnames_
  structure Core_rules = Core_rules_
  structure Realise    = Realise_
  structure Sharetypes = Sharetypes_
  structure Share      = Share_
  structure Basis      = Basis_
  structure Sigma      = Sigma_
  structure Nameset    = Nameset_
  structure Info       = Info_
  structure TypeDebugger = TypeDebugger_);
@


1.21.11.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a3 3
 * Revision 1.21  1995/04/05  14:51:52  matthew
 * Removing timer structure
 *
@


1.21.10.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a3 3
 * Revision 1.21  1995/04/05  14:51:52  matthew
 * Removing timer structure
 *
@


1.21.9.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a3 3
 * Revision 1.21  1995/04/05  14:51:52  matthew
 * Removing timer structure
 *
@


1.21.8.1
log
@branched from 1.21
@
text
@a3 3
 * Revision 1.21  1995/04/05  14:51:52  matthew
 * Removing timer structure
 *
@


1.21.8.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a3 3
 * Revision 1.21.8.1  1997/05/12  10:52:04  hope
 * branched from 1.21
 *
@


1.21.8.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a3 3
 * Revision 1.21.8.1  1997/05/12  10:52:04  hope
 * branched from 1.21
 *
@


1.21.8.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a3 3
 * Revision 1.21.8.1  1997/05/12  10:52:04  hope
 * branched from 1.21
 *
@


1.21.8.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a3 3
 * Revision 1.21.8.1.1.1  1997/07/28  18:33:52  daveb
 * branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
@


1.21.7.1
log
@branched from 1.21
@
text
@a3 3
 * Revision 1.21  1995/04/05  14:51:52  matthew
 * Removing timer structure
 *
@


1.21.6.1
log
@branched from 1.21
@
text
@a3 3
 * Revision 1.21  1995/04/05  14:51:52  matthew
 * Removing timer structure
 *
@


1.21.6.1.1.1
log
@branched from 1.21.6.1
@
text
@a3 3
 * Revision 1.21.6.1  1996/12/17  18:18:32  hope
 * branched from 1.21
 *
@


1.21.5.1
log
@branched from 1.21
@
text
@a3 3
 * Revision 1.21  1995/04/05  14:51:52  matthew
 * Removing timer structure
 *
@


1.21.4.1
log
@branched from 1.21
@
text
@a3 3
 * Revision 1.21  1995/04/05  14:51:52  matthew
 * Removing timer structure
 *
@


1.21.4.1.1.1
log
@branched from 1.21.4.1
@
text
@a3 3
 * Revision 1.21.4.1  1996/11/14  13:22:04  hope
 * branched from 1.21
 *
@


1.21.3.1
log
@branched from 1.21
@
text
@a3 3
 * Revision 1.21  1995/04/05  14:51:52  matthew
 * Removing timer structure
 *
@


1.21.2.1
log
@branched from 1.21
@
text
@a3 3
 * Revision 1.21  1995/04/05  14:51:52  matthew
 * Removing timer structure
 *
@


1.21.1.1
log
@branched from 1.21
@
text
@a3 3
 * Revision 1.21  1995/04/05  14:51:52  matthew
 * Removing timer structure
 *
@


1.20
log
@Removing debug stuff
@
text
@d4 3
a64 1
require "../utils/__timer";
a87 1
  structure Timer      = Timer_
@


1.19
log
@ Added TypeDebugger structure
@
text
@d4 3
a61 1
require "../utils/__debug";
a67 1
require "../typechecker/__ty_debug";
a78 1
require "../typechecker/__funenv";
a79 1
require "../typechecker/__sigenv";
a80 1
require "../typechecker/__phi";
a81 1
require "../typechecker/__tyvarenv";
a85 1
  structure Debug      = Module_rules_Debug_
a90 1
  structure Ty_Debug   = Ty_Debug_
a101 1
  structure Funenv     = Funenv_
a103 2
  structure Phi        = Phi_
  structure Sigenv     = Sigenv_
a104 1
  structure Tyvarenv   = Tyvarenv_
@


1.19.1.1
log
@Fork for bug fixing
@
text
@a3 3
Revision 1.19  1993/05/10  16:14:05  matthew
 Added TypeDebugger structure

@


1.18
log
@Changes for BASISTYPES signature.  Added new structures.
@
text
@d4 3
d84 2
a86 1
require "../typechecker/__tyvarenv";
d114 2
a115 1
  structure Info       = Info_);
@


1.17
log
@Rationalised parameter
@
text
@d4 3
a60 1
require "../utils/__set";
a66 1
require "../typechecker/__tystr";
a70 1
require "../typechecker/__type_exp";
d75 6
d82 1
a84 1
  structure Set = Set_
a94 1
  structure Tystr      = Tystr_
a98 1
  structure Type_exp   = Type_exp_
d103 7
@


1.16
log
@Removed a number of duplicated signatures and structures
@
text
@d4 3
a74 2
require "../typechecker/__nameset";
require "../typechecker/__interface";
d78 1
a83 1
  structure Set      = Set_
a98 2
  structure Nameset      = Nameset_
  structure Interface      = Interface_
@


1.15
log
@Changed Error structure to Info
@
text
@d4 3
d55 1
d72 2
d82 1
d98 2
@


1.14
log
@Anel's changes for encapsulating assemblies
@
text
@d4 3
d53 1
a53 1
require "../main/__error";
d91 1
a91 1
  structure Error      = Error_);
@


1.13
log
@Installed central error reporting mechanism.
@
text
@d4 3
@


1.12
log
@Removed some redundant structure arguments and sharing
Converted where relevant to use NewMap.{forall,exists,iterate}
@
text
@d4 4
d47 1
a61 1
require "../typechecker/__errors";
d85 1
a85 2
  structure Errors     = Errors_
    );
@


1.11
log
@Anel's changes to use NewMap instead of Map
@
text
@d4 3
a39 1
require "../utils/__set";
d42 1
a42 3
require "../utils/__integer";
require "../utils/__integer";
require "../basics/__absyn";
a43 3
require "../typechecker/__strnames";
require "../typechecker/__nameset";
require "../typechecker/__datatypes";
d51 1
a51 5
require "../typechecker/__basis";
require "../typechecker/__sigma";
require "../typechecker/__phi";
require "../typechecker/__sigenv";
require "../typechecker/__funenv";
d54 1
a54 1
require "../typechecker/__assemblies";
a56 2
require "../typechecker/__realise";
require "../typechecker/__interface";
d61 2
a63 5
  structure Integer    = Integer_
  structure Timer      = Timer_
  structure Integer    = Integer_
  structure Set        = Set_
  structure Debug      = Module_rules_Debug_
d66 1
a66 1
  structure Absyn      = Absyn_
a67 3
  structure Strnames   = Strnames_
  structure Nameset    = Nameset_
  structure Datatypes  = Datatypes_
d75 1
a75 5
  structure Basis      = Basis_
  structure Funenv     = Funenv_
  structure Sigma      = Sigma_
  structure Phi        = Phi_
  structure Sigenv     = Sigenv_
d78 1
a78 1
  structure Assemblies = Assemblies_
a80 2
  structure Realise    = Realise_
  structure Interface  = Interface_
@


1.10
log
@Removed various redundant structure arguments.
@
text
@d37 1
d41 2
d44 3
d49 1
a50 1
require "../typechecker/__valenv";
a52 1
require "../typechecker/__strnames";
d54 5
a58 1
require "../typechecker/__errors";
d61 1
d65 2
d71 1
a71 1
  structure Integer      = Integer_
d74 1
d78 2
a79 6
  structure Ty_Debug  = Ty_Debug_
  structure Realise    = Realise_
  structure Core_rules = Core_rules_
  structure Type_exp   = Type_exp_
(*  structure NewSigma      = NewSigma_*)
  structure Env        = Environment_
d81 6
a87 1
  structure Tystr      = Tystr_
d89 9
a97 3
  structure Valenv     = Valenv_
  structure Scheme     = Scheme_
  structure Types      = Types_
d100 2
@


1.9
log
@Changed to imperative implementation of namesets with hashing
@
text
@d4 3
a36 1
require "../utils/__set";
a39 2
require "../utils/__integer";
require "../basics/__absyn";
a40 1
require "../typechecker/__datatypes";
a48 6
require "../typechecker/__basis";
require "../typechecker/__nameset";
require "../typechecker/__sigma";
require "../typechecker/__phi";
require "../typechecker/__sigenv";
require "../typechecker/__funenv";
a50 1
require "../typechecker/__assemblies";
a54 1
require "../typechecker/__interface";
a61 1
  structure Set        = Set_
a64 1
  structure Absyn      = Absyn_
a65 1
  structure Datatypes  = Datatypes_
a68 5
  structure Basis      = Basis_
  structure Funenv     = Funenv_
  structure Phi        = Phi_
  structure Sigenv     = Sigenv_
  structure Sigma      = Sigma_
a69 1
  structure Nameset    = Nameset_
a77 1
  structure Assemblies = Assemblies_
a79 1
  structure Interface  = Interface_
@


1.8
log
@Added newsigma parameter
@
text
@d1 1
d4 3
a52 1
require "../typechecker/__newsigma";
d86 1
a86 1
  structure NewSigma      = NewSigma_
@


1.7
log
@Added timer structure to functor parameter
@
text
@d3 3
d34 1
d49 1
d65 1
d83 1
@


1.6
log
@Added ty_debug parameter
@
text
@d3 3
d23 1
d25 1
d60 1
@


1.5
log
@Added integer structure for debugging purposes
@
text
@d3 3
d27 1
d53 33
a85 32
structure Module_rules_ =
  Module_rules (structure Datatypes  = Datatypes_
		structure Lists      = Lists_
		structure Integer    = Integer_
		structure Realise    = Realise_
		structure Core_rules = Core_rules_
		structure Type_exp   = Type_exp_
		structure Absyn      = Absyn_
		structure Basis      = Basis_
		structure Funenv     = Funenv_
		structure Phi        = Phi_
		structure Sigenv     = Sigenv_
		structure Sigma      = Sigma_
		structure Nameset    = Nameset_
		structure Env        = Environment_
		structure Strnames   = Strnames_
		structure Tyenv      = Tyenv_
		structure Tystr      = Tystr_
		structure Strenv     = Strenv_
		structure Valenv     = Valenv_
		structure Scheme     = Scheme_
		structure Types      = Types_
		structure Set        = Set_
		structure Debug      = Module_rules_Debug_
		structure Print      = Print_
		structure Crash      = Crash_
		structure Assemblies = Assemblies_
		structure Sharetypes = Sharetypes_
		structure Share      = Share_
		structure Interface  = Interface_
                structure Errors     = Errors_
)
@


1.4
log
@Added dependency on new Strenv module.
@
text
@d2 4
a5 1
$Log:	__mod_rules.sml,v $
d22 1
d52 1
@


1.3
log
@Added crash parameter
@
text
@d3 3
d26 1
d62 1
@


1.2
log
@changed to handle Interface annotations in signature expressions
@
text
@d3 3
d9 1
d15 1
d64 1
d69 2
a70 2
                structure Errors     = Errors_)

@


1.1
log
@Initial revision
@
text
@d2 4
a5 1
$Log$
d33 1
d62 3
a64 1
                structure Errors     = Errors_);
@

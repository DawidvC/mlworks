head	1.7;
access;
symbols
	MLW_daveb_inline_1_4_99:1.7.11
	MLWorks_21c0_1999_03_25:1.7
	MLWorks_20c1_1998_08_20:1.7
	MLWorks_20c0_1998_08_04:1.7
	MLWorks_20b2c2_1998_06_19:1.7
	MLWorks_20b2_Windows_1998_06_12:1.7
	MLWorks_20b1c1_1998_05_07:1.7
	MLWorks_20b0_1998_04_07:1.7
	MLWorks_20b0_1998_03_20:1.7
	MLWorks_20m2_1998_02_16:1.7
	MLWorks_20m1_1997_10_23:1.7
	MLWorks_11r1:1.7.8.1.1.1.1
	MLWorks_workspace_97:1.7.10
	MLWorks_dt_wizard:1.7.9
	MLWorks_11c0_1997_09_09:1.7.8.1.1.1
	MLWorks_10r3:1.7.8.1.3
	MLWorks_10r2_551:1.7.8.1.2
	MLWorks_11:1.7.8.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.7.8.1
	MLWorks_20m0_1997_06_20:1.7
	MLWorks_1_0_r2c2_1997_06_14:1.7.8.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.7.8.1
	MLWorks_1_0_r2c1_1997_05_12:1.7.8
	MLWorks_BugFix_1997_04_24:1.7
	MLWorks_1_0_r2_Win32_1997_04_11:1.7
	MLWorks_1_0_r2_Unix_1997_04_04:1.7
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.7.6.1.1
	MLWorks_gui_1996_12_18:1.7.7
	MLWorks_1_0_Win32_1996_12_17:1.7.6
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.7.4.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.7.4.1
	MLWorks_1_0_Irix_1996_11_28:1.7.4.1.1
	MLWorks_1_0_Win32_1996_11_22:1.7.5
	MLWorks_1_0_Unix_1996_11_14:1.7.4
	MLWorks_Open_Beta2_1996_10_11:1.7.3
	MLWorks_License_dev:1.7.2
	MLWorks_1_open_beta_1996_09_13:1.7.1
	MLWorks_Open_Beta_1996_08_22:1.7
	MLWorks_Beta_1996_07_02:1.7
	MLWorks_Beta_1996_06_07:1.7
	MLWorks_Beta_1996_06_06:1.7
	MLWorks_Beta_1996_06_05:1.7
	MLWorks_Beta_1996_06_03:1.7
	MLWorks_Beta_1996_05_31:1.7
	MLWorks_Beta_1996_05_30:1.7
	ML_beta_release_12/08/94:1.6
	ML_beta_release_03/08/94:1.6
	ML_revised_beta_release_25/05/94:1.6
	ML_final_beta_release_02/03/94:1.6
	mlworks-28-01-1994:1.6
	Release:1.6
	mlworks-beta-01-09-1993:1.6
	MLWorks-1-0-4-29/01/1993:1.4
	MLWorks-1-0-3-21/12/1992:1.4
	MLWorks-1-0-2-15/12/1992:1.4
	MLWorks-1-0-1-04/12/1992:1.4
	checkpoint_17_08_92:1.4
	Ten15_release_19-11-91:1.1.1.1
	Ten15_release_21-08-91:1.1
	Ten15_release_19-08-91:1.1
	ten15_release:1.1;
locks; strict;
comment	@ * @;


1.7
date	95.02.07.15.29.25;	author matthew;	state Exp;
branches
	1.7.1.1
	1.7.2.1
	1.7.3.1
	1.7.4.1
	1.7.5.1
	1.7.6.1
	1.7.7.1
	1.7.8.1
	1.7.9.1
	1.7.10.1
	1.7.11.1;
next	1.6;

1.6
date	93.05.25.15.23.14;	author jont;	state Exp;
branches
	1.6.1.1;
next	1.5;

1.5
date	93.02.08.16.09.29;	author matthew;	state Exp;
branches;
next	1.4;

1.4
date	92.08.11.14.23.05;	author jont;	state Exp;
branches;
next	1.3;

1.3
date	91.11.21.16.53.44;	author jont;	state Exp;
branches;
next	1.2;

1.2
date	91.11.19.12.19.12;	author jont;	state Exp;
branches;
next	1.1;

1.1
date	91.06.07.11.45.21;	author colin;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	91.11.19.11.13.03;	author jont;	state Exp;
branches;
next	;

1.6.1.1
date	93.05.25.15.23.14;	author jont;	state Exp;
branches;
next	;

1.7.1.1
date	96.09.13.11.41.47;	author hope;	state Exp;
branches;
next	;

1.7.2.1
date	96.10.07.16.34.52;	author hope;	state Exp;
branches;
next	;

1.7.3.1
date	96.10.17.11.53.58;	author hope;	state Exp;
branches;
next	;

1.7.4.1
date	96.11.14.13.21.42;	author hope;	state Exp;
branches
	1.7.4.1.1.1;
next	;

1.7.4.1.1.1
date	96.11.28.15.32.39;	author hope;	state Exp;
branches;
next	;

1.7.5.1
date	96.11.22.18.39.18;	author hope;	state Exp;
branches;
next	;

1.7.6.1
date	96.12.17.18.18.20;	author hope;	state Exp;
branches
	1.7.6.1.1.1;
next	;

1.7.6.1.1.1
date	97.02.24.12.12.36;	author hope;	state Exp;
branches;
next	;

1.7.7.1
date	96.12.18.10.13.38;	author hope;	state Exp;
branches;
next	;

1.7.8.1
date	97.05.12.10.51.53;	author hope;	state Exp;
branches
	1.7.8.1.1.1
	1.7.8.1.2.1
	1.7.8.1.3.1;
next	;

1.7.8.1.1.1
date	97.07.28.18.33.42;	author daveb;	state Exp;
branches
	1.7.8.1.1.1.1.1;
next	;

1.7.8.1.1.1.1.1
date	97.10.07.11.59.42;	author jkbrook;	state Exp;
branches;
next	;

1.7.8.1.2.1
date	97.09.08.17.26.48;	author daveb;	state Exp;
branches;
next	;

1.7.8.1.3.1
date	97.09.09.14.23.39;	author daveb;	state Exp;
branches;
next	;

1.7.9.1
date	97.09.10.19.42.36;	author brucem;	state Exp;
branches;
next	;

1.7.10.1
date	97.09.11.21.10.07;	author daveb;	state Exp;
branches;
next	;

1.7.11.1
date	99.04.01.18.08.42;	author daveb;	state Exp;
branches;
next	;


desc
@Handles Sharing Constraints in modules
@


1.7
log
@Adding share_tyfun function
@
text
@(* share.sml the signature *)
(*
$Log: share.sml,v $
Revision 1.6  1993/05/25  15:23:14  jont
Changes because Assemblies now has Basistypes instead of Datatypes

Revision 1.5  1993/02/08  16:09:29  matthew
Changes for BASISTYPES signature

Revision 1.4  1992/08/11  14:23:05  jont
Removed some redundant structure arguments and sharing
Converted where relevant to use NewMap.{forall,exists,iterate}

Revision 1.3  1991/11/21  16:53:44  jont
Added copyright message

Revision 1.2  91/11/19  12:19:12  jont
Merging in comments from Ten15 branch to main trunk

Revision 1.1.1.1  91/11/19  11:13:03  jont
Added comments for DRA on functions

Revision 1.1  91/06/07  11:45:21  colin
Initial revision

Copyright (c) 1991 Harlequin Ltd.
*)

(* Structure sharing. In rules 88,89,90 of the Definition cover the
behaviour of sharing equations. This module performs the necessary
consistency checking and updating of metastrnames. The module
sharetypes does similar work *)

require "assemblies";

signature SHARE = 
  sig
    structure Assemblies : ASSEMBLIES

    exception ShareError of string

    val share_str : Assemblies.Basistypes.Datatypes.Strname *
      Assemblies.Basistypes.Datatypes.Strname * 
      Assemblies.StrAssembly * Assemblies.TypeAssembly * Assemblies.Basistypes.Nameset -> 
      bool * Assemblies.StrAssembly * Assemblies.TypeAssembly

  end
@


1.7.11.1
log
@branched from trunk for label MLW_daveb_inline_1_4_99
@
text
@a3 3
 * Revision 1.7  1995/02/07  15:29:25  matthew
 * Adding share_tyfun function
 *
@


1.7.10.1
log
@branched from trunk for label MLWorks_workspace_97
@
text
@a3 3
 * Revision 1.7  1995/02/07  15:29:25  matthew
 * Adding share_tyfun function
 *
@


1.7.9.1
log
@branched from trunk for label MLWorks_dt_wizard
@
text
@a3 3
 * Revision 1.7  1995/02/07  15:29:25  matthew
 * Adding share_tyfun function
 *
@


1.7.8.1
log
@branched from 1.7
@
text
@a3 3
 * Revision 1.7  1995/02/07  15:29:25  matthew
 * Adding share_tyfun function
 *
@


1.7.8.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a3 3
 * Revision 1.7.8.1  1997/05/12  10:51:53  hope
 * branched from 1.7
 *
@


1.7.8.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a3 3
 * Revision 1.7.8.1  1997/05/12  10:51:53  hope
 * branched from 1.7
 *
@


1.7.8.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a3 3
 * Revision 1.7.8.1  1997/05/12  10:51:53  hope
 * branched from 1.7
 *
@


1.7.8.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a3 3
 * Revision 1.7.8.1.1.1  1997/07/28  18:33:42  daveb
 * branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
 *
@


1.7.7.1
log
@branched from 1.7
@
text
@a3 3
 * Revision 1.7  1995/02/07  15:29:25  matthew
 * Adding share_tyfun function
 *
@


1.7.6.1
log
@branched from 1.7
@
text
@a3 3
 * Revision 1.7  1995/02/07  15:29:25  matthew
 * Adding share_tyfun function
 *
@


1.7.6.1.1.1
log
@branched from 1.7.6.1
@
text
@a3 3
 * Revision 1.7.6.1  1996/12/17  18:18:20  hope
 * branched from 1.7
 *
@


1.7.5.1
log
@branched from 1.7
@
text
@a3 3
 * Revision 1.7  1995/02/07  15:29:25  matthew
 * Adding share_tyfun function
 *
@


1.7.4.1
log
@branched from 1.7
@
text
@a3 3
 * Revision 1.7  1995/02/07  15:29:25  matthew
 * Adding share_tyfun function
 *
@


1.7.4.1.1.1
log
@branched from 1.7.4.1
@
text
@a3 3
 * Revision 1.7.4.1  1996/11/14  13:21:42  hope
 * branched from 1.7
 *
@


1.7.3.1
log
@branched from 1.7
@
text
@a3 3
 * Revision 1.7  1995/02/07  15:29:25  matthew
 * Adding share_tyfun function
 *
@


1.7.2.1
log
@branched from 1.7
@
text
@a3 3
 * Revision 1.7  1995/02/07  15:29:25  matthew
 * Adding share_tyfun function
 *
@


1.7.1.1
log
@branched from 1.7
@
text
@a3 3
 * Revision 1.7  1995/02/07  15:29:25  matthew
 * Adding share_tyfun function
 *
@


1.6
log
@Changes because Assemblies now has Basistypes instead of Datatypes
@
text
@d4 3
@


1.6.1.1
log
@Fork for bug fixing
@
text
@a3 3
Revision 1.6  1993/05/25  15:23:14  jont
Changes because Assemblies now has Basistypes instead of Datatypes

@


1.5
log
@Changes for BASISTYPES signature
@
text
@d4 3
a31 1
require "basistypes";
a35 1
    structure BasisTypes : BASISTYPES
a36 2
    sharing Assemblies.Datatypes = BasisTypes.Datatypes

d39 3
a41 3
    val share_str : Assemblies.Datatypes.Strname *
      Assemblies.Datatypes.Strname * 
      Assemblies.StrAssembly * Assemblies.TypeAssembly * BasisTypes.Nameset -> 
@


1.4
log
@Removed some redundant structure arguments and sharing
Converted where relevant to use NewMap.{forall,exists,iterate}
@
text
@d4 4
a27 1
require "nameset";
d29 1
d33 2
a34 2
    structure Assemblies :ASSEMBLIES
    structure Nameset : NAMESET
d36 1
a36 1
    sharing Assemblies.Datatypes = Nameset.Datatypes
d42 1
a42 1
      Assemblies.StrAssembly * Assemblies.TypeAssembly * Nameset.Nameset -> 
@


1.3
log
@Added copyright message
@
text
@d3 4
a6 1
$Log:	share.sml,v $
a23 1
require "datatypes";
a28 1
    structure Datatypes : DATATYPES
d32 1
a32 1
    sharing Datatypes = Assemblies.Datatypes = Nameset.Datatypes
d36 2
a37 1
    val share_str : Datatypes.Strname * Datatypes.Strname * 
@


1.2
log
@Merging in comments from Ten15 branch to main trunk
@
text
@d1 1
d4 3
d13 1
@


1.1
log
@Initial revision
@
text
@d2 7
a8 1
$Log$
d10 6
@


1.1.1.1
log
@Added comments for DRA on functions
@
text
@d2 1
a2 4
$Log:	share.sml,v $
Revision 1.1  91/06/07  11:45:21  colin
Initial revision

a3 6

(* Structure sharing. In rules 88,89,90 of the Definition cover the
behaviour of sharing equations. This module performs the necessary
consistency checking and updating of metastrnames. The module
sharetypes does similar work *)

@

head	1.1;
access;
symbols
	MLWorks_21c0_1999_03_25:1.1
	MLWorks_20c1_1998_08_20:1.1
	MLWorks_20c0_1998_08_04:1.1
	MLWorks_20b2c2_1998_06_19:1.1
	MLWorks_20b2_Windows_1998_06_12:1.1
	MLWorks_20b1c1_1998_05_07:1.1
	MLWorks_20b0_1998_04_07:1.1
	MLWorks_20b0_1998_03_20:1.1
	MLWorks_20m2_1998_02_16:1.1
	MLWorks_20m1_1997_10_23:1.1
	MLWorks_11r1:1.1.1.1.1.1.1
	MLWorks_11c0_1997_09_09:1.1.1.1.1.1
	MLWorks_10r3:1.1.1.1.3
	MLWorks_10r2_551:1.1.1.1.2
	MLWorks_11:1.1.1.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.1.1.1
	MLWorks_20m0_1997_06_20:1.1
	MLWorks_1_0_r2c2_1997_06_14:1.1.1.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.1.1.1
	MLWorks_1_0_r2c1_1997_05_12:1.1.1
	MLWorks_BugFix_1997_04_24:1.1
	MLWorks_1_0_r2_Win32_1997_04_11:1.1
	MLWorks_1_0_r2_Unix_1997_04_04:1.1;
locks; strict;
comment	@# @;


1.1
date	97.01.29.14.16.38;	author matthew;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.05.12.10.23.36;	author hope;	state Exp;
branches
	1.1.1.1.1.1
	1.1.1.1.2.1
	1.1.1.1.3.1;
next	;

1.1.1.1.1.1
date	97.07.28.18.09.31;	author daveb;	state Exp;
branches
	1.1.1.1.1.1.1.1;
next	;

1.1.1.1.1.1.1.1
date	97.10.07.11.33.19;	author jkbrook;	state Exp;
branches;
next	;

1.1.1.1.2.1
date	97.09.08.17.02.50;	author daveb;	state Exp;
branches;
next	;

1.1.1.1.3.1
date	97.09.09.13.57.27;	author daveb;	state Exp;
branches;
next	;


desc
@new unit
New unit
@


1.1
log
@new unit
New unit
@
text
@# $Log$
#
# Copyright Harlequin Ltd. 1997.
#

This directory contains a set of benchmarks for testing optimizations
etc. in MLWorks.

To run the benchmarks
---------------------

Use:

RUN_BENCHMARK -src <source dir> -dir <architecture/OS> [-not-silent] [-new] [-results <results file>] <filenames>

or:

RUN_BENCHMARK_ALL -src <source dir> -dir <architecture/OS> [-not-silent] [-new] [-results <results file>]

The -src and -dir parameters are the same as for the test suite
scripts -- a source directory and an ARCH/OS directory to use.  These
parameters are compulsory.

The benchmarks (the named files or all in the directory) are run and
the results get appended to the results file, which is initially
cleared if the -new flag is given.  If no explicit results file is
given, then the (compulsory) -dir option is used to find a
subdirectory to put the results in.  The subdirectory is created if
necessary.  The default name of the results file is the current date
yymmdd).

If the benchmarks are being run for the purposes of testing a
particular benchmark, then the results file should be edited to
include this information and the results preserved by adding the
results file as a new hope unit.

To add a benchmark
------------------

Add a top level file to the benchmarks directory.  If the benchmark
file is being added to act as a test for a particular optimization,
then this fact should be fully commented.  The benchmark file is
loaded using "use", so don't use any requires.  The code for running
the benchmarks and writing the results is utils/benchmark so use this
file somewhere.  This defines the benchmark function:

test : string -> int -> ('a -> 'b) -> 'a -> 'b

where "test s n f x" applies f to x n times and writes a message to
the results file with s as the name of the benchmark.

test may be called as many times as you like in the file of course.

Any other files used by the test should be placed in an appropriately
named subdirectory (see, for example, the ray tracing test).

The utils directory contains useful files that are not themselves
benchmarks.  Currently it contains the benchmarking code itself and a
prelude file for the TIL benchmarks.

Current contents of the benchmark directory
-------------------------------------------

tak.sml: The usual tak function (Harlequin)
ctak.sml: Tak written in curried from (Harlequin)
life.sml: Conway's game of life (TIL)
ray.sml: A ray tracing application (Walton)
sorts.sml: Some sorting functions (Harlequin)
boyer.sml: A Boyer Moore theorem prover (INRIA)
fft.sml: Fast fourier transform (INRIA)
knuth-bendix.sml: The Knuth Bendix algorithm (INRIA)
matmult.sml: 2d matrix multiply (TIL)
simple.sml: Numeric simulation (TIL)

Sources are:

Harlequin:  code written at Harlequin 
TIL:  The TIL group (contact jgm@@cs.cornell.edu (Greg Morrisett))
INRIA: The CAML group at INRIA (contact Xavier.Leroy@@inria.fr)
Walton: Chris Walton (chrisw@@epcc.ed.ac.uk)
@


1.1.1.1
log
@branched from 1.1
@
text
@d1 1
a1 5
# $Log: README,v $
# Revision 1.1  1997/01/29  14:16:38  matthew
# new unit
# New unit
#
@


1.1.1.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a1 3
# Revision 1.1.1.1  1997/05/12  10:23:36  hope
# branched from 1.1
#
@


1.1.1.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a1 3
# Revision 1.1.1.1  1997/05/12  10:23:36  hope
# branched from 1.1
#
@


1.1.1.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a1 3
# Revision 1.1.1.1  1997/05/12  10:23:36  hope
# branched from 1.1
#
@


1.1.1.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a1 3
# Revision 1.1.1.1.1.1  1997/07/28  18:09:31  daveb
# branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
#
@

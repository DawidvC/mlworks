head	1.14;
access;
symbols
	MLWorks_21c0_1999_03_25:1.14
	MLWorks_20c1_1998_08_20:1.12
	MLWorks_20c0_1998_08_04:1.12
	MLWorks_20b2c2_1998_06_19:1.12
	MLWorks_20b2_Windows_1998_06_12:1.12
	MLWorks_20b1c1_1998_05_07:1.12
	MLWorks_20b0_1998_04_07:1.12
	MLWorks_20b0_1998_03_20:1.12
	MLWorks_20m2_1998_02_16:1.11
	MLWorks_20m1_1997_10_23:1.11
	MLWorks_11r1:1.10.3.1.1.1.1
	MLWorks_11c0_1997_09_09:1.10.3.1.1.1
	MLWorks_10r3:1.10.3.1.3
	MLWorks_10r2_551:1.10.3.1.2
	MLWorks_11:1.10.3.1.1
	MLWorks_1_0_r2c2_1997_07_28:1.10.3.1
	MLWorks_20m0_1997_06_20:1.10
	MLWorks_1_0_r2c2_1997_06_14:1.10.3.1
	MLWorks_1_0_r2c1_released_1997_05_23:1.10.3.1
	MLWorks_1_0_r2c1_1997_05_12:1.10.3
	MLWorks_BugFix_1997_04_24:1.10
	MLWorks_1_0_r2_Win32_1997_04_11:1.10
	MLWorks_1_0_r2_Unix_1997_04_04:1.10
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.10.2.1.1
	MLWorks_1_0_Win32_1996_12_17:1.10.2
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.9.1.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.9.1.1
	MLWorks_1_0_Irix_1996_11_28:1.9.1.1.1
	MLWorks_1_0_Win32_1996_11_22:1.10.1
	MLWorks_1_0_Unix_1996_11_14:1.9.1
	MLWorks_Open_Beta2_1996_10_11:1.8.3
	MLWorks_License_dev:1.8.2
	MLWorks_1_open_beta_1996_09_13:1.8.1
	MLWorks_Open_Beta_1996_08_22:1.8
	MLWorks_Beta_1996_07_02:1.8
	MLWorks_Beta_1996_06_07:1.7
	MLWorks_Beta_1996_06_06:1.7
	MLWorks_Beta_1996_06_05:1.7
	MLWorks_Beta_1996_06_03:1.7
	MLWorks_Beta_1996_05_31:1.7
	MLWorks_Beta_1996_05_30:1.7;
locks; strict;
comment	@rem @;


1.14
date	98.10.19.16.37.35;	author jont;	state Exp;
branches;
next	1.13;

1.13
date	98.08.24.14.02.57;	author jont;	state Exp;
branches;
next	1.12;

1.12
date	98.02.18.13.19.13;	author jont;	state Exp;
branches;
next	1.11;

1.11
date	97.07.23.19.29.14;	author jont;	state Exp;
branches;
next	1.10;

1.10
date	96.11.14.16.01.23;	author jont;	state Exp;
branches
	1.10.1.1
	1.10.2.1
	1.10.3.1;
next	1.9;

1.9
date	96.10.30.16.05.09;	author jont;	state Exp;
branches
	1.9.1.1;
next	1.8;

1.8
date	96.06.26.16.31.15;	author jont;	state Exp;
branches
	1.8.1.1
	1.8.2.1
	1.8.3.1;
next	1.7;

1.7
date	96.05.24.14.01.41;	author jont;	state Exp;
branches;
next	1.6;

1.6
date	96.04.23.09.42.19;	author jont;	state Exp;
branches;
next	1.5;

1.5
date	96.03.25.14.20.04;	author jont;	state Exp;
branches;
next	1.4;

1.4
date	96.02.29.11.21.57;	author jont;	state Exp;
branches;
next	1.3;

1.3
date	95.11.22.14.35.40;	author jont;	state Exp;
branches;
next	1.2;

1.2
date	95.08.17.10.36.22;	author jont;	state Exp;
branches;
next	1.1;

1.1
date	95.03.17.13.40.44;	author jont;	state Exp;
branches;
next	;

1.8.1.1
date	96.09.13.11.44.16;	author hope;	state Exp;
branches;
next	;

1.8.2.1
date	96.10.07.16.37.29;	author hope;	state Exp;
branches;
next	;

1.8.3.1
date	96.10.17.11.56.27;	author hope;	state Exp;
branches;
next	;

1.9.1.1
date	96.11.14.13.24.49;	author hope;	state Exp;
branches
	1.9.1.1.1.1;
next	;

1.9.1.1.1.1
date	96.11.28.15.35.48;	author hope;	state Exp;
branches;
next	;

1.10.1.1
date	96.11.22.18.41.55;	author hope;	state Exp;
branches;
next	;

1.10.2.1
date	96.12.17.18.20.54;	author hope;	state Exp;
branches
	1.10.2.1.1.1;
next	;

1.10.2.1.1.1
date	97.02.24.12.15.39;	author hope;	state Exp;
branches;
next	;

1.10.3.1
date	97.05.12.11.12.26;	author hope;	state Exp;
branches
	1.10.3.1.1.1
	1.10.3.1.2.1
	1.10.3.1.3.1;
next	;

1.10.3.1.1.1
date	97.07.28.18.55.11;	author daveb;	state Exp;
branches
	1.10.3.1.1.1.1.1;
next	;

1.10.3.1.1.1.1.1
date	97.10.07.12.19.59;	author jkbrook;	state Exp;
branches;
next	;

1.10.3.1.2.1
date	97.09.08.17.47.31;	author daveb;	state Exp;
branches;
next	;

1.10.3.1.3.1
date	97.09.09.14.46.48;	author daveb;	state Exp;
branches;
next	;


desc
@new unit
NT system build batch file
@


1.14
log
@[Bug #70203]
Modify for new argument passing
@
text
@@@echo off
set script=%0
shift
set usage=Usage: %script% ^^^<directory^^^>
if "%0"=="" goto failed
set MLWORKS_SRC_PATH=%0\src
set MLWORKS_PERVASIVE=%0\src\pervasive
set CONFIG=I386/NT
shift
if "%0"=="" goto do
set CONFIG=%0
:do
rts\runtime -MLWpass MLWargs -load images\I386\NT\batch.img MLWargs -verbose -opt-handlers off -pervasive-dir %MLWORKS_PERVASIVE% -project %MLWORKS_SRC_PATH%\mlworks.mlp -mode Release -compile-pervasive -configuration %CONFIG% -target __batch.sml -target xinterpreter.sml -target interpreter.sml -target require_all.sml -build
goto done
:failed
@@echo %usage%
:done
@


1.13
log
@Add a configuration parameter
@
text
@d13 1
a13 1
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt-handlers off -pervasive-dir %MLWORKS_PERVASIVE% -project %MLWORKS_SRC_PATH%\mlworks.mlp -mode Release -compile-pervasive -configuration %CONFIG% -target __batch.sml -target xinterpreter.sml -target interpreter.sml -target require_all.sml -build a
@


1.12
log
@[Bug #30363]
Modify for new project model
@
text
@d8 6
a13 1
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt-handlers off -pervasive-dir %MLWORKS_PERVASIVE% -project %MLWORKS_SRC_PATH%\mlworks.mlp -mode Release -compile-pervasive -configuration I386/NT -target __batch.sml -target xinterpreter.sml -target interpreter.sml -target require_all.sml -build a
@


1.11
log
@[Bug #0]
Remove compilation targets __old.sml and __stringlib.sml
@
text
@d8 1
a8 2
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt-handlers on -pervasive-dir %MLWORKS_PERVASIVE% -source-path %MLWORKS_SRC_PATH% -compile-pervasive -compile %MLWORKS_SRC_PATH%\main\__batch a
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt-handlers off -pervasive-dir %MLWORKS_PERVASIVE% -source-path %MLWORKS_SRC_PATH% -compile %MLWORKS_SRC_PATH%\interpreter\interpreter %MLWORKS_SRC_PATH%\interpreter\xinterpreter %MLWORKS_SRC_PATH%\basis\require_all a
@


1.10
log
@Ensure basis/__old is built
@
text
@d9 1
a9 1
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt-handlers off -pervasive-dir %MLWORKS_PERVASIVE% -source-path %MLWORKS_SRC_PATH% -compile %MLWORKS_SRC_PATH%\interpreter\interpreter %MLWORKS_SRC_PATH%\interpreter\xinterpreter %MLWORKS_SRC_PATH%\basis\require_all %MLWORKS_SRC_PATH%\utils\__stringlib %MLWORKS_SRC_PATH%\basis/__old a
@


1.10.3.1
log
@branched from 1.10
@
text
@@


1.10.3.1.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@@


1.10.3.1.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@@


1.10.3.1.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@@


1.10.3.1.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@@


1.10.2.1
log
@branched from 1.10
@
text
@@


1.10.2.1.1.1
log
@branched from 1.10.2.1
@
text
@@


1.10.1.1
log
@branched from 1.10
@
text
@@


1.9
log
@set source path etc explicitly in call to compiler
@
text
@d9 1
a9 1
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt-handlers off -pervasive-dir %MLWORKS_PERVASIVE% -source-path %MLWORKS_SRC_PATH% -compile %MLWORKS_SRC_PATH%\interpreter\interpreter %MLWORKS_SRC_PATH%\interpreter\xinterpreter %MLWORKS_SRC_PATH%\basis\require_all %MLWORKS_SRC_PATH%\utils\__stringlib a
@


1.9.1.1
log
@branched from 1.9
@
text
@@


1.9.1.1.1.1
log
@branched from 1.9.1.1
@
text
@@


1.8
log
@Ensure stringlib (required by foreign) is built
@
text
@d8 2
a9 2
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt-handlers on -compile-pervasive -compile %MLWORKS_SRC_PATH%\main\__batch a
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt-handlers off -compile %MLWORKS_SRC_PATH%\interpreter\interpreter %MLWORKS_SRC_PATH%\interpreter\xinterpreter %MLWORKS_SRC_PATH%\basis\require_all %MLWORKS_SRC_PATH%\utils\__stringlib a
@


1.8.3.1
log
@branched from 1.8
@
text
@@


1.8.2.1
log
@branched from 1.8
@
text
@@


1.8.1.1
log
@branched from 1.8
@
text
@@


1.7
log
@initbasis has moved to basis
@
text
@d9 1
a9 1
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt-handlers off -compile %MLWORKS_SRC_PATH%\interpreter\interpreter %MLWORKS_SRC_PATH%\interpreter\xinterpreter %MLWORKS_SRC_PATH%\basis\require_all %MLWORKS_SRC_PATH%\foreign\__foreign a
@


1.6
log
@Change initbasis to basis
@
text
@d9 1
a9 1
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt-handlers off -compile %MLWORKS_SRC_PATH%\interpreter\interpreter %MLWORKS_SRC_PATH%\interpreter\xinterpreter %MLWORKS_SRC_PATH%\basis\require_all a
@


1.5
log
@Modify parameters passed to compiler
@
text
@d9 1
a9 1
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt-handlers off -compile %MLWORKS_SRC_PATH%\interpreter\interpreter %MLWORKS_SRC_PATH%\interpreter\xinterpreter %MLWORKS_SRC_PATH%\initbasis\require_all a
@


1.4
log
@Add building of initial basis
@
text
@d8 2
a9 2
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt_handlers on -compile_pervasive -compile %MLWORKS_SRC_PATH%\main\__batch a
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt_handlers off -compile %MLWORKS_SRC_PATH%\interpreter\interpreter %MLWORKS_SRC_PATH%\interpreter\xinterpreter %MLWORKS_SRC_PATH%\initbasis\require_all a
@


1.3
log
@Modify to control optimisation of handlers
@
text
@d9 1
a9 1
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -opt_handlers off -compile %MLWORKS_SRC_PATH%\interpreter\interpreter %MLWORKS_SRC_PATH%\interpreter\xinterpreter a
@


1.2
log
@Change target to be xinterpreter instead of win_int
Change mlworks to runtime
@
text
@d8 2
a9 1
rts\runtime -load images\I386\NT\batch.img -pass a -verbose -compile_pervasive -compile %MLWORKS_SRC_PATH%\main\__batch %MLWORKS_SRC_PATH%\interpreter\interpreter %MLWORKS_SRC_PATH%\interpreter\xinterpreter a
@


1.1
log
@new unit
NT system build batch file
@
text
@d8 1
a8 1
rts\mlworks -load images\I386\NT\batch.img -pass a -verbose -compile_pervasive -compile %MLWORKS_SRC_PATH%\main\__batch %MLWORKS_SRC_PATH%\interpreter\interpreter %MLWORKS_SRC_PATH%\interpreter\win_int a
@

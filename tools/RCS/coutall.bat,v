head	1.16;
access;
symbols
	MLWorks_21c0_1999_03_25:1.16
	MLWorks_20c1_1998_08_20:1.16
	MLWorks_20c0_1998_08_04:1.16
	MLWorks_20b2c2_1998_06_19:1.16
	MLWorks_20b2_Windows_1998_06_12:1.16
	MLWorks_20b1c1_1998_05_07:1.16
	MLWorks_20b0_1998_04_07:1.16
	MLWorks_20b0_1998_03_20:1.16
	MLWorks_20m2_1998_02_16:1.16
	MLWorks_20m1_1997_10_23:1.16
	MLWorks_11r1:1.12.7.2.1.1.1
	MLWorks_11c0_1997_09_09:1.12.7.2.1.1
	MLWorks_10r3:1.12.7.2.3
	MLWorks_10r2_551:1.12.7.2.2
	MLWorks_11:1.12.7.2.1
	MLWorks_1_0_r2c2_1997_07_28:1.12.7.2
	MLWorks_20m0_1997_06_20:1.15
	MLWorks_1_0_r2c2_1997_06_14:1.12.7.2
	MLWorks_1_0_r2c1_released_1997_05_23:1.12.7.1
	MLWorks_1_0_r2c1_1997_05_12:1.12.7
	MLWorks_BugFix_1997_04_24:1.12
	MLWorks_1_0_r2_Win32_1997_04_11:1.12
	MLWorks_1_0_r2_Unix_1997_04_04:1.12
	MLWorks_1_0_1_ULTRASPARC_1997_02_24:1.12.6.1.1
	MLWorks_1_0_Win32_1996_12_17:1.12.6
	MLWorks_1_0_Irix_1996_11_28_released_1996_12_17:1.12.4.1.1.1
	MLWorks_1_0_Unix_1996_11_14_released_1996_12_17:1.12.4.1
	MLWorks_1_0_Irix_1996_11_28:1.12.4.1.1
	MLWorks_1_0_Win32_1996_11_22:1.12.5
	MLWorks_1_0_Unix_1996_11_14:1.12.4
	MLWorks_Open_Beta2_1996_10_11:1.12.3
	MLWorks_License_dev:1.12.2
	MLWorks_1_open_beta_1996_09_13:1.12.1
	MLWorks_Open_Beta_1996_08_22:1.12
	MLWorks_Beta_1996_07_02:1.12
	MLWorks_Beta_1996_06_07:1.12
	MLWorks_Beta_1996_06_06:1.12
	MLWorks_Beta_1996_06_05:1.12
	MLWorks_Beta_1996_06_03:1.11
	MLWorks_Beta_1996_05_31:1.11
	MLWorks_Beta_1996_05_30:1.11;
locks; strict;
comment	@rem @;


1.16
date	97.07.23.12.13.18;	author jont;	state Exp;
branches;
next	1.15;

1.15
date	97.06.11.10.55.26;	author stephenb;	state Exp;
branches;
next	1.14;

1.14
date	97.06.10.19.11.21;	author daveb;	state Exp;
branches;
next	1.13;

1.13
date	97.06.05.09.52.12;	author daveb;	state Exp;
branches;
next	1.12;

1.12
date	96.06.04.11.23.22;	author jont;	state Exp;
branches
	1.12.1.1
	1.12.2.1
	1.12.3.1
	1.12.4.1
	1.12.5.1
	1.12.6.1
	1.12.7.1;
next	1.11;

1.11
date	96.02.12.14.10.59;	author jont;	state Exp;
branches;
next	1.10;

1.10
date	96.01.30.17.01.35;	author jont;	state Exp;
branches;
next	1.9;

1.9
date	96.01.26.15.19.31;	author jont;	state Exp;
branches;
next	1.8;

1.8
date	95.08.17.16.23.06;	author jont;	state Exp;
branches;
next	1.7;

1.7
date	95.07.27.13.56.09;	author matthew;	state Exp;
branches;
next	1.6;

1.6
date	95.07.24.11.23.40;	author daveb;	state Exp;
branches;
next	1.5;

1.5
date	95.03.15.18.29.46;	author jont;	state Exp;
branches;
next	1.4;

1.4
date	95.02.28.12.50.13;	author jont;	state Exp;
branches;
next	1.3;

1.3
date	95.02.09.17.57.23;	author jont;	state Exp;
branches;
next	1.2;

1.2
date	95.02.09.15.45.25;	author jont;	state Exp;
branches;
next	1.1;

1.1
date	95.02.02.14.38.34;	author jont;	state Exp;
branches;
next	;

1.12.1.1
date	96.09.13.11.44.34;	author hope;	state Exp;
branches;
next	1.12.1.2;

1.12.1.2
date	96.09.30.16.50.15;	author jont;	state Exp;
branches;
next	;

1.12.2.1
date	96.10.07.16.37.51;	author hope;	state Exp;
branches;
next	;

1.12.3.1
date	96.10.17.11.56.47;	author hope;	state Exp;
branches;
next	;

1.12.4.1
date	96.11.14.13.25.08;	author hope;	state Exp;
branches
	1.12.4.1.1.1;
next	;

1.12.4.1.1.1
date	96.11.28.15.36.09;	author hope;	state Exp;
branches;
next	;

1.12.5.1
date	96.11.22.18.42.14;	author hope;	state Exp;
branches;
next	;

1.12.6.1
date	96.12.17.18.21.14;	author hope;	state Exp;
branches
	1.12.6.1.1.1;
next	;

1.12.6.1.1.1
date	97.02.24.12.16.05;	author hope;	state Exp;
branches;
next	;

1.12.7.1
date	97.05.12.11.12.47;	author hope;	state Exp;
branches;
next	1.12.7.2;

1.12.7.2
date	97.06.05.10.25.34;	author daveb;	state Exp;
branches
	1.12.7.2.1.1
	1.12.7.2.2.1
	1.12.7.2.3.1;
next	;

1.12.7.2.1.1
date	97.07.28.18.54.43;	author daveb;	state Exp;
branches
	1.12.7.2.1.1.1.1;
next	;

1.12.7.2.1.1.1.1
date	97.10.07.12.19.32;	author jkbrook;	state Exp;
branches;
next	;

1.12.7.2.2.1
date	97.09.08.17.46.56;	author daveb;	state Exp;
branches;
next	;

1.12.7.2.3.1
date	97.09.09.14.46.08;	author daveb;	state Exp;
branches;
next	;


desc
@new unit
No reason given
@


1.16
log
@[Bug #30133]
Modify to call the shell coutall to preserve compatibility
@
text
@@@echo off
rem #!/bin/sh
rem === CHECK OUT ALL FILES ===
rem
rem Searches in and below the current directory for RCS files and checks
rem them out as read-only working files.  This will not overwrite files
rem with writable modes, and so does not overwrite locked working files.
rem
rem $Log: coutall.bat,v $
rem Revision 1.15  1997/06/11  10:55:26  stephenb
rem [Bug #30166]
rem Add -s option so that it is possible for the daily build to
rem skip writable files rather than being warned about them.
rem
rem Revision 1.14  1997/06/10  19:11:21  daveb
rem [Bug #30172]
rem Renamed "args" variable.
rem
rem Revision 1.13  1997/06/05  09:52:12  daveb
rem [Bug #30166]
rem Hope 1.24 replaced -force with more precise options.
rem
rem Revision 1.12  1996/06/04  11:23:22  jont
rem Change cp to copy to preserve time stamps
rem
rem Revision 1.11  1996/02/12  14:10:59  jont
rem Ensure we're in the right directory before proceeding with the checkout
rem
rem Revision 1.10  1996/01/30  17:01:35  jont
rem Add extra-files delete to the checkout script to remove stale units
rem
rem Revision 1.9  1996/01/26  15:19:31  jont
rem Ensure runtime system checked out with co-date for consistent compilation.
rem
rem Revision 1.8  1995/08/17  16:23:06  jont
rem Modify to fix problem calling hope on latest NT
rem
rem Revision 1.7  1995/07/27  13:56:09  matthew
rem New gui directory structure
rem
rem Revision 1.6  1995/07/24  11:23:40  daveb
rem The -working-files argument to the Hope checkout command has changed to
rem -writable-files.
rem
rem Revision 1.5  1995/03/15  18:29:46  jont
rem Add some attrib commands to ensure copying doesn't fail
rem
rem Revision 1.4  1995/02/28  12:50:13  jont
rem Modify use of version (deprecated) to branch
rem
rem Revision 1.3  1995/02/09  17:57:23  jont
rem More to get file copying working
rem
rem Revision 1.2  1995/02/09  15:45:25  jont
rem Modifications to cope with lack of links on NT
rem
rem Revision 1.1  1995/02/02  14:38:34  jont
rem new unit
rem No reason given
rem
rem Revision 1.5  1994/08/31  14:55:35  jont
rem Add -force option to hope checkout command
rem
rem Revision 1.4  1994/06/22  13:47:51  nickh
rem Add new hope switches.
rem
rem Revision 1.3  1994/02/04  17:33:54  daveb
rem Converted to hope.
rem
rem Revision 1.2  1993/01/15  13:12:02  richard
rem Added -d option and corrected option passing.
rem
rem Revision 1.1  1992/10/23  13:36:40  richard
rem Initial revision
rem
set MYARGS= 
:startmyargs
if "%1"=="" goto endmyargs
set MYARGS=%MYARGS% %1
shift
goto startmyargs
:endmyargs
sh coutall %MYARGS%
@@echo Copying into link directories
@@cd MLW\src
@@attrib -r mir\*.sml
@@copy harp\*.sml mir >NUL
@@attrib -r machine\*.sml
@@copy i386\*.sml machine >NUL
@@attrib -r system\*.sml
@@copy win_nt\*.sml system >NUL
@@attrib -r winsys\*.sml
@@copy mswindows\*.sml winsys >NUL
@@cd ..\..
@


1.15
log
@[Bug #30166]
Add -s option so that it is possible for the daily build to
skip writable files rather than being warned about them.
@
text
@d10 5
d48 13
a60 13
:: Revision 1.4  1995/02/28  12:50:13  jont
:: Modify use of version (deprecated) to branch
::
:: Revision 1.3  1995/02/09  17:57:23  jont
:: More to get file copying working
::
:: Revision 1.2  1995/02/09  15:45:25  jont
:: Modifications to cope with lack of links on NT
::
:: Revision 1.1  1995/02/02  14:38:34  jont
:: new unit
:: No reason given
::
d76 4
a79 2

set script=%0
d81 3
a83 74
set usage= Usage: %script% [-V] [ -s ] [-b ^^^<branch^^^>]
rem PWD=`pwd`
rem top=`basename $PWD`
rem ok=0
rem 
rem if [ "$top" = "MLW" ]; then
rem     cd .. && ok=1
rem fi
rem 
rem if [ -d "MLW" ]; then
rem     ok=1
rem fi
rem 
rem if [ "$ok" = "0" ]; then
rem   echo "coutall: Are you in or above your MLW tree?"
rem   exit 2
rem fi
rem 
set coopts=
set arguments=
set writablefiles="warn"

:more_parameters
  if "%0" == "" goto no_more_parameters
  if not "%0" == "V" goto ok1
    shift
    set arguments= %arguments% verbose
    goto more_parameters
:ok1
  if not "%0" == "d" goto ok2
    shift
    set coopts= %coopts% -date %0
    shift
    goto more_parameters
:ok2
  if not "%0" == "b" goto ok3
    shift
    set coopts= %coopts% -branch %0
    shift
    goto more_parameters
:ok3
  if not "%0" == "-s" goto ok4
    shift
    set writablefiles= "skip"
    goto more_parameters
:ok4
  echo %usage% 
  goto done
rem while getopts v:d:V option
rem do
rem   case $option in
rem     V) arguments="$arguments verbose";;
rem     v) coopts="$coopts -version $OPTARG" ;;
rem     d) coopts="$coopts -date $OPTARG" ;;
rem     *) echo "$usage"; exit 1;;
rem   esac
rem done
rem shift `expr $OPTIND - 1`
rem 
rem if [ "$#" -ne 0 ]; then
rem     echo "$usage"; exit 1
rem fi

:no_more_parameters

@@echo on
@@rem Check out the runtime system with dates being set to cout time
@@if not exist MLW\src echo Checkout directory (MLW\src) not found, exiting
@@if not exist MLW\src goto done
@@cd MLW\src
@@call hope %arguments% co %coopts% -recursive -diff-branch-files force -diff-unit-files warn -writable-files %writablefiles% -missing-dir create -extra-files delete -compound MLWrts
@@rem Now check out the rest with dates being set to cin time
@@cd ..\..
@@call hope %arguments% co %coopts% -recursive -diff-branch-files force -diff-unit-files warn -writable-files %writablefiles% -missing-dir create -extra-files delete -ci-date -compound MLW
a94 1
:done
@


1.14
log
@[Bug #30172]
Renamed "args" variable.
@
text
@d10 4
d74 1
a74 1
set usage= Usage: %script% [-V] [-b ^^^<branch^^^>]
d94 2
d115 5
d144 1
a144 1
@@call hope %arguments% co %coopts% -recursive -diff-branch-files force -diff-unit-files warn -writable-files warn -missing-dir create -extra-files delete -compound MLWrts
d147 1
a147 1
@@call hope %arguments% co %coopts% -recursive -diff-branch-files force -diff-unit-files warn -writable-files warn -missing-dir create -extra-files delete -ci-date -compound MLW
@


1.13
log
@[Bug #30166]
Hope 1.24 replaced -force with more precise options.
@
text
@d10 4
d89 1
a89 1
set args=
d94 1
a94 1
    set args= %args% verbose
d114 1
a114 1
rem     V) args="$args verbose";;
d133 1
a133 1
@@call hope %args% co %coopts% -recursive -diff-branch-files force -diff-unit-files warn -writable-files warn -missing-dir create -extra-files delete -compound MLWrts
d136 1
a136 1
@@call hope %args% co %coopts% -recursive -diff-branch-files force -diff-unit-files warn -writable-files warn -missing-dir create -extra-files delete -ci-date -compound MLW
@


1.12
log
@Change cp to copy to preserve time stamps
@
text
@d10 3
d129 1
a129 1
@@call hope %args% co %coopts% -force -recursive -writable-files skip -missing-dir create -extra-files delete -compound MLWrts
d132 1
a132 1
@@call hope %args% co %coopts% -force -recursive -writable-files skip -missing-dir create -extra-files delete -ci-date -compound MLW
@


1.12.7.1
log
@branched from 1.12
@
text
@a9 3
rem Revision 1.12  1996/06/04  11:23:22  jont
rem Change cp to copy to preserve time stamps
rem
@


1.12.7.2
log
@[Bug #30166]
Hope 1.24 replaced -force with more precise options.
@
text
@a9 4
rem Revision 1.13  1997/06/05  09:52:12  daveb
rem [Bug #30166]
rem Hope 1.24 replaced -force with more precise options.
rem
d129 1
a129 1
@@call hope %args% co %coopts% -recursive -diff-branch-files force -diff-unit-files warn -writable-files warn -missing-dir create -extra-files delete -compound MLWrts
d132 1
a132 1
@@call hope %args% co %coopts% -recursive -diff-branch-files force -diff-unit-files warn -writable-files warn -missing-dir create -extra-files delete -ci-date -compound MLW
@


1.12.7.2.3.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r3
@
text
@a9 4
rem Revision 1.12.7.2  1997/06/05  10:25:34  daveb
rem [Bug #30166]
rem Hope 1.24 replaced -force with more precise options.
rem
@


1.12.7.2.2.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_10r2_551
@
text
@a9 4
rem Revision 1.12.7.2  1997/06/05  10:25:34  daveb
rem [Bug #30166]
rem Hope 1.24 replaced -force with more precise options.
rem
@


1.12.7.2.1.1
log
@branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
@
text
@a9 4
rem Revision 1.12.7.2  1997/06/05  10:25:34  daveb
rem [Bug #30166]
rem Hope 1.24 replaced -force with more precise options.
rem
@


1.12.7.2.1.1.1.1
log
@branched from MLWorks_11 for label MLWorks_11r1
@
text
@a9 3
rem Revision 1.12.7.2.1.1  1997/07/28  18:54:43  daveb
rem branched from MLWorks_1_0_r2c1_1997_05_12 for label MLWorks_11
rem
@


1.12.6.1
log
@branched from 1.12
@
text
@a9 3
rem Revision 1.12  1996/06/04  11:23:22  jont
rem Change cp to copy to preserve time stamps
rem
@


1.12.6.1.1.1
log
@branched from 1.12.6.1
@
text
@a9 3
rem Revision 1.12.6.1  1996/12/17  18:21:14  hope
rem branched from 1.12
rem
@


1.12.5.1
log
@branched from 1.12
@
text
@a9 3
rem Revision 1.12  1996/06/04  11:23:22  jont
rem Change cp to copy to preserve time stamps
rem
@


1.12.4.1
log
@branched from 1.12
@
text
@a9 3
rem Revision 1.12  1996/06/04  11:23:22  jont
rem Change cp to copy to preserve time stamps
rem
@


1.12.4.1.1.1
log
@branched from 1.12.4.1
@
text
@a9 3
rem Revision 1.12.4.1  1996/11/14  13:25:08  hope
rem branched from 1.12
rem
@


1.12.3.1
log
@branched from 1.12
@
text
@a9 3
rem Revision 1.12  1996/06/04  11:23:22  jont
rem Change cp to copy to preserve time stamps
rem
@


1.12.2.1
log
@branched from 1.12
@
text
@a9 3
rem Revision 1.12  1996/06/04  11:23:22  jont
rem Change cp to copy to preserve time stamps
rem
@


1.12.1.1
log
@branched from 1.12
@
text
@a9 3
rem Revision 1.12  1996/06/04  11:23:22  jont
rem Change cp to copy to preserve time stamps
rem
@


1.12.1.2
log
@Get parameter matching correct (missing -)
@
text
@a9 3
rem Revision 1.12.1.1  1996/09/13  11:44:34  hope
rem branched from 1.12
rem
d66 1
a66 1
set usage= Usage: %script% [-V] [-b ^^^<branch^^^>] [-d ^^^<date^^^>]
d88 1
a88 1
  if not "%0" == "-V" goto ok1
d93 1
a93 1
  if not "%0" == "-d" goto ok2
d99 1
a99 1
  if not "%0" == "-b" goto ok3
@


1.11
log
@Ensure we're in the right directory before proceeding with the checkout
@
text
@d10 3
d133 1
a133 1
@@cp harp/*.sml mir
d135 1
a135 1
@@cp i386/*.sml machine
d137 1
a137 1
@@cp win_nt/*.sml system
d139 1
a139 1
@@cp mswindows/*.sml winsys
@


1.10
log
@Add extra-files delete to the checkout script to remove stale units
@
text
@d10 3
d120 2
@


1.9
log
@Ensure runtime system checked out with co-date for consistent compilation.
@
text
@d10 3
d118 1
a118 1
@@call hope %args% co %coopts% -force -recursive -writable-files skip -missing-dir create -extra-files skip -compound MLWrts
d121 1
a121 1
@@call hope %args% co %coopts% -force -recursive -writable-files skip -missing-dir create -extra-files skip -ci-date -compound MLW
@


1.8
log
@Modify to fix problem calling hope on latest NT
@
text
@d10 3
d113 5
@


1.7
log
@New gui directory structure
@
text
@d10 3
d110 1
a110 1
call hope %args% co %coopts% -force -recursive -writable-files skip -missing-dir create -extra-files skip -ci-date -compound MLW
@


1.6
log
@The -working-files argument to the Hope checkout command has changed to
-writable-files.
@
text
@d10 4
d116 2
@


1.5
log
@Add some attrib commands to ensure copying doesn't fail
@
text
@d10 3
d103 1
a103 1
call hope %args% co %coopts% -force -recursive -working-file skip -missing-dir create -extra-files skip -ci-date -compound MLW
@


1.4
log
@Modify use of version (deprecated) to branch
@
text
@d10 3
d103 1
d105 1
d107 1
@


1.3
log
@More to get file copying working
@
text
@d10 3
d38 1
a38 1
set usage= Usage: %script% [-V] [-v ^^^<rev^^^>]
d71 1
a71 1
  if not "%0" == "v" goto ok3
d73 1
a73 1
    set coopts= %coopts% -version %0
@


1.2
log
@Modifications to cope with lack of links on NT
@
text
@d10 3
d94 1
a94 1
hope %args% co %coopts% -force -recursive -working-file skip -missing-dir create -extra-files skip -ci-date -compound MLW
d97 4
a100 3
copy harp\*.sml mir
copy i386\*.sml machine
copy win_nt\*.sml system
@


1.1
log
@new unit
No reason given
@
text
@d9 5
a13 1
rem $Log: coutall,v $
d92 5
@
